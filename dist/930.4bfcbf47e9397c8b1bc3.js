/*! For license information please see 930.4bfcbf47e9397c8b1bc3.js.LICENSE.txt */
(self.webpackChunkrecoupe_profit_increase_calculator=self.webpackChunkrecoupe_profit_increase_calculator||[]).push([[930],{6099:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r,i,o=n(655),a=n(4589),s=n(909),u=n(4594),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),m=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(e),this.container=new s.H0(t.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=f),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.wA(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");(0,u.Am)(e,t)},apps:null,SDK_VERSION:"8.3.2",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.r3)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(m);return t.INTERNAL=(0,o.pi)((0,o.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.ZB)(t,e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var _=g;!function(e,t){e.INTERNAL.registerComponent(new s.wA("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion(h,"0.6.18",void 0),e.registerVersion("fire-js","")}(_);const w=_},909:(e,t,n)=>{"use strict";n.d(t,{wA:()=>o,H0:()=>u,zt:()=>s});var r=n(655),i=n(4589),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=a);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=(0,r.pi)({identifier:a,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService({instanceIdentifier:o});if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(e){if(i)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.initialize=function(e){void 0===e&&(e={});var t=e.instanceIdentifier,n=void 0===t?a:t,r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(n);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:o,options:i})},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o)),o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:a:e},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},9446:(e,t,n)=>{"use strict";var r=n(6099),i=n(909),o=n(4589),a=n(655),s=n(4594);e=n.hmd(e);var u,c=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),l=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new c(t)}}catch(e){}return new l},f=h("localStorage"),d=h("sessionStorage"),p=new s.Yd("@firebase/database"),m=(u=1,function(){return u++}),g=function(e){var t=(0,o.dS)(e),n=new o.gQ;n.update(t);var r=n.digest();return o.US.encodeByteArray(r)},v=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=v.apply(null,i):n+="object"==typeof i?(0,o.Pz)(i):i,n+=" "}return n},y=null,b=!0,_=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(p.logLevel=s.in.VERBOSE,y=p.log.bind(p),t&&d.set("logging_enabled",!0)):"function"==typeof e?y=e:(y=null,d.remove("logging_enabled"))},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===y&&!0===d.get("logging_enabled")&&_(!0)),y){var n=v.apply(null,e);y(n)}},S=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];w.apply(void 0,(0,a.ev)([e],(0,a.CR)(t)))}},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));p.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));throw p.error(n),new Error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+v.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));p.warn(n)},C=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",N="[MAX_NAME]",P=function(e,t){if(e===t)return 0;if(e===k||t===N)return-1;if(t===k||e===N)return 1;var n=M(e),r=M(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},x=function(e,t){return e===t?0:e<t?-1:1},A=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},O=function(e){if("object"!=typeof e||null===e)return(0,o.Pz)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(t[i]),r+=":",r+=O(e[t[i]]);return r+"}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function R(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){(0,o.hu)(!C(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},F=new RegExp("^-?(0*)\\d{1,10}$"),M=function(e){if(F.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},V=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw I("Exception was thrown by user callback.",t),e}),Math.floor(0))}},j=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},U=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',I(e)},e}(),B=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),q=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G="websocket",K="long_polling",W=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function H(e,t,n){var r;if((0,o.hu)("string"==typeof t,"typeof type must == string"),(0,o.hu)("object"==typeof n,"typeof params must == object"),t===G)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==K)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return R(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var z=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.p$)(this.counters_)},e}(),J={},Q={};function Y(e){var t=e.toString();return J[t]||(J[t]=new z),J[t]}var X=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&V((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Z="start",$="close",ee=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=Y(t),this.urlFn=function(e){return H(t,K,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new X(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new te((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Z)n.id=o,n.password=s;else{if(i!==$)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&q.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!((0,o.Yr)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.h$)(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),te=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){w("frame writing exception"),e.stack&&w(e.stack),w(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||w("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){w("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),ne="";function re(e){ne=e}var ie=null;"undefined"!=typeof MozWebSocket?ie=MozWebSocket:"undefined"!=typeof WebSocket&&(ie=WebSocket);var oe=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=Y(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&q.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),H(e,G,r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+ne+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},a=process.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new ie(this.connURL,[],i)}else i={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new ie(this.connURL,[],i)}catch(e){this.log_("Error instantiating WebSocket.");var u=e.message||e.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ie&&!e.forceDisallow_},e.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ae=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[ee,oe]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=oe&&oe.isAvailable(),o=i&&!oe.previouslyFailed();if(t.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[oe];else{var s=this.transports_=[];try{for(var u=(0,a.XA)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),se=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new ae(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=j((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=A("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?E("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),j((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):j((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ue=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),ce=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.ev)([],(0,a.CR)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.hu)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),le=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(ce),he=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function fe(){return new he("")}function de(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pe(e){return e.pieces_.length-e.pieceNum_}function me(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new he(e.pieces_,t)}function ge(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ve(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function ye(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function be(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new he(t,0)}function _e(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof he)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new he(n,0)}function we(e){return e.pieceNum_>=e.pieces_.length}function Se(e,t){var n=de(e),r=de(t);if(null===n)return t;if(n===r)return Se(me(e),me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ee(e,t){for(var n=ye(e,0),r=ye(t,0),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Te(e,t){if(pe(e)!==pe(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ie(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(pe(e)>pe(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ce=function(e,t){this.errorPrefix_=t,this.parts_=ye(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);ke(this)};function ke(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ne(e))}function Ne(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Pe,xe,Ae=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(ce),Oe=1e3,De=function(e){function t(n,r,i,a,s,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=S("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Oe,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Ae.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&le.getInstance().on("online",l.onOnline_,l),l}return(0,a.ZT)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new o.BH,r={p:e.path.toString(),q:e.queryObject()},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),a=e.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&(0,o.r3)(e,"w")){var n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):E("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oe,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Oe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Oe),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(e){(0,o.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(e){c?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),s.authToken_=e&&e.accessToken,l=new se(a,s.repoInfo_,s.applicationId_,n,r,i,(function(e){I(e+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(t){s.log_("Failed to get token: "+t),c||(e.repoInfo_.nodeAdmin&&I(t),h())}))}},t.prototype.interrupt=function(e){w("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){w("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Oe,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return O(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new he(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){w("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=(0,a.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.XA)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ne.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=le.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ue),Re=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Le=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Re(k,e),r=new Re(k,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Re.MIN},e}(),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Pe},set:function(e){Pe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return P(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Re.MIN},t.prototype.maxPost=function(){return new Re(N,Pe)},t.prototype.makePost=function(e,t){return(0,o.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Re(e,Pe)},t.prototype.toString=function(){return".key"},t}(Le),Me=new Fe,Ve=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),je=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Be.EMPTY_NODE,this.right=null!=o?o:Be.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Be.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Be.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Ue=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new je(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Be=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,je.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,je.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ve(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ve(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ve(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ve(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Ue,e}();function qe(e,t){return P(e.name,t.name)}function Ge(e,t){return P(e,t)}var Ke,We,He,ze,Je,Qe=function(e){return"number"==typeof e?"number:"+L(e):"string:"+e},Ye=function(e){if(e.isLeafNode()){var t=e.val();(0,o.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===xe||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===xe||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Xe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ye(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ke},set:function(e){Ke=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return we(t)?this:".priority"===de(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=de(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===pe(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Qe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=g(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Ze=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Re.MIN},t.prototype.maxPost=function(){return new Re(N,new Xe("[PRIORITY-POST]",He))},t.prototype.makePost=function(e,t){var n=We(e);return new Re(t,new Xe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Le)),$e=Math.log(2),et=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/$e,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),tt=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new je(a,o.node,je.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new je(a,o.node,je.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new je(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,je.BLACK):(s(h,je.BLACK),s(h,je.RED))}return o}(new et(e.length));return new Be(r||t,o)},nt={},rt=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.hu)(nt&&Ze,"ChildrenNode.ts has not been loaded"),ze=ze||new e({".priority":nt},{".priority":Ze})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Be?t:null},e.prototype.hasIndex=function(e){return(0,o.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.hu)(t!==Me,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Re.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?tt(i,t.getCompare()):nt;var l=t.toString(),h=(0,a.pi)({},this.indexSet_);h[l]=t;var f=(0,a.pi)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.UI)(this.indexes_,(function(e,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),e===nt){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Re.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),tt(s,a.getCompare())}return nt}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Re(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.UI)(this.indexes_,(function(e){if(e===nt)return e;var r=n.get(t.name);return r?e.remove(new Re(t.name,r)):e})),this.indexSet_)},e}(),it=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ye(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Je||(Je=new e(new Be(Ge),null,rt.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Je},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Je:t},e.prototype.getChild=function(e){var t=de(e);return null===t?this:this.getImmediateChild(t).getChild(me(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Re(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Je:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=de(e);if(null===n)return t;(0,o.hu)(".priority"!==de(e)||1===pe(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(me(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ze,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Qe(this.getPriority().val())+":"),this.forEachChild(Ze,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":g(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Re(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Re(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Re(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Re.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Re.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ot?-1:0},e.prototype.withIndex=function(t){if(t===Me||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Me||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ze),r=t.getIterator(Ze),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Me?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ot=new(function(e){function t(){return e.call(this,new Be(Ge),it.EMPTY_NODE,rt.Default)||this}return(0,a.ZT)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return it.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(it));function at(e,t){if(void 0===t&&(t=null),null===e)return it.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Xe(e,at(t));if(e instanceof Array){var n=it.EMPTY_NODE;return R(e,(function(t,r){if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){var i=at(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(at(t))}var r=[],i=!1;if(R(e,(function(e,t){if("."!==e.substring(0,1)){var n=at(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Re(e,n)))}})),0===r.length)return it.EMPTY_NODE;var a=tt(r,qe,(function(e){return e.name}),Ge);if(i){var s=tt(r,Ze.getCompare());return new it(a,at(t),new rt({".priority":s},{".priority":Ze}))}return new it(a,at(t),rt.Default)}Object.defineProperties(Re,{MIN:{value:new Re(k,it.EMPTY_NODE)},MAX:{value:new Re(N,ot)}}),Fe.__EMPTY_NODE=it.EMPTY_NODE,Xe.__childrenNodeConstructor=it,xe=ot,He=ot,function(e){We=e}(at);var st,ut,ct=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.hu)(!we(t)&&".priority"!==de(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.ZT)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=at(e),r=it.EMPTY_NODE.updateChild(this.indexPath_,n);return new Re(t,r)},t.prototype.maxPost=function(){var e=it.EMPTY_NODE.updateChild(this.indexPath_,ot);return new Re(N,e)},t.prototype.toString=function(){return ye(this.indexPath_,0).join("/")},t}(Le),lt=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?P(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Re.MIN},t.prototype.maxPost=function(){return Re.MAX},t.prototype.makePost=function(e,t){var n=at(e);return new Re(t,n)},t.prototype.toString=function(){return".value"},t}(Le)),ht="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ft=(st=0,ut=[],function(e){var t,n=e===st;st=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=ht.charAt(e%64),e=Math.floor(e/64);(0,o.hu)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===ut[t];t--)ut[t]=0;ut[t]++}else for(t=0;t<12;t++)ut[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=ht.charAt(ut[t]);return(0,o.hu)(20===i.length,"nextPushId: Length should be 20."),i}),dt=function(e){if("2147483647"===e)return"-";var t=M(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return N;var o=n[i],a=ht.charAt(ht.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},pt=function(e){if("-2147483648"===e)return k;var t=M(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ht.charAt(ht.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function mt(e){return{type:"value",snapshotNode:e}}function gt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function vt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function yt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var bt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(vt(t,s)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(gt(t,n)):a.trackChildChange(yt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ze,(function(e,r){t.hasChild(e)||n.trackChildChange(vt(e,r))})),t.isLeafNode()||t.forEachChild(Ze,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(yt(t,r,i))}else n.trackChildChange(gt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?it.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),_t=function(){function e(t){this.indexedFilter_=new bt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Re(t,n))||(n=it.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=it.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(it.EMPTY_NODE);var i=this;return t.forEachChild(Ze,(function(e,t){i.matches(new Re(e,t))||(r=r.updateImmediateChild(e,it.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),wt=function(){function e(e){this.rangedFilter_=new _t(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Re(t,n))||(n=it.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=it.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=it.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(it.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,it.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new Re(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(yt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(vt(t,f));var m=u.updateImmediateChild(t,it.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(gt(d.name,d.node)),m.updateImmediateChild(d.name,d.node)):m}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(vt(l.name,l.node)),i.trackChildChange(gt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,it.EMPTY_NODE)):e},e}(),St=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ze}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ze},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Et(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function Tt(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function It(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ct(e,t,n){var r;return e.index_===Me?("string"==typeof t&&(t=dt(t)),r=It(e,t,n)):r=It(e,t,null==n?N:dt(n)),r.startAfterSet_=!0,r}function kt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Nt(e,t,n){var r;return e.index_===Me?("string"==typeof t&&(t=pt(t)),r=kt(e,t,n)):r=kt(e,t,null==n?k:pt(n)),r.endBeforeSet_=!0,r}function Pt(e,t){var n=e.copy();return n.index_=t,n}function xt(e){var t,n={};return e.isDefault()||(e.index_===Ze?t="$priority":e.index_===lt?t="$value":e.index_===Me?t="$key":((0,o.hu)(e.index_ instanceof ct,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.Pz)(t),e.startSet_&&(n.startAt=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}var At=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=S("p:rest:"),i.listens_={},i}return(0,a.ZT)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=xt(e.getQueryParams());this.restRequest_(s+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=xt(e.getQueryParams()),r=e.path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(t.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.xO)(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=(0,o.cI)(u.responseText)}catch(e){I("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&I("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}(ue),Ot=function(){function e(){this.rootNode_=it.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Dt(){return{value:null,children:new Map}}function Rt(e,t,n){if(we(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=de(t);e.children.has(r)||e.children.set(r,Dt()),Rt(e.children.get(r),t=me(t),n)}}function Lt(e,t){if(we(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ze,(function(t,n){Rt(e,new he(t),n)})),Lt(e,t)}if(e.children.size>0){var r=de(t);return t=me(t),e.children.has(r)&&Lt(e.children.get(r),t)&&e.children.delete(r),0===e.children.size}return!0}function Ft(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Ft(r,new he(t.toString()+"/"+e),n)}))}var Mt,Vt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.pi)({},e);return this.last_&&R(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),jt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Vt(e);var n=1e4+2e4*Math.random();j(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;R(t,(function(t,i){i>0&&(0,o.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),j(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ut(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Mt||(Mt={}));var Bt,qt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Mt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(we(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new he(t));return new e(fe(),n,this.revert)}return(0,o.hu)(de(this.path)===t,"operationForChild called for unrelated child."),new e(me(this.path),this.affectedTree,this.revert)},e}(),Gt=function(){function e(e,t){this.source=e,this.path=t,this.type=Mt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return we(this.path)?new e(this.source,fe()):new e(this.source,me(this.path))},e}(),Kt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Mt.OVERWRITE}return e.prototype.operationForChild=function(t){return we(this.path)?new e(this.source,fe(),this.snap.getImmediateChild(t)):new e(this.source,me(this.path),this.snap)},e}(),Wt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Mt.MERGE}return e.prototype.operationForChild=function(t){if(we(this.path)){var n=this.children.subtree(new he(t));return n.isEmpty()?null:n.value?new Kt(this.source,fe(),n.value):new e(this.source,fe(),n)}return(0,o.hu)(de(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,me(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Ht=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(we(e))return this.isFullyInitialized()&&!this.filtered_;var t=de(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),zt=function(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()};function Jt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new Re(t.childName,t.snapshotNode),i=new Re(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Qt(e,t){return{eventCache:e,serverCache:t}}function Yt(e,t,n,r){return Qt(new Ht(t,n,r),e.serverCache)}function Xt(e,t,n,r){return Qt(e.eventCache,new Ht(t,n,r))}function Zt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $t(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var en=function(){function e(e,t){void 0===t&&(Bt||(Bt=new Be(x)),t=Bt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return R(t,(function(e,t){n=n.set(new he(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:fe(),value:this.value};if(we(e))return null;var n=de(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(me(e),t);return null!=i?{path:_e(new he(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(we(t))return this;var n=de(t),r=this.children.get(n);return null!==r?r.subtree(me(t)):new e(null)},e.prototype.set=function(t,n){if(we(t))return new e(n,this.children);var r=de(t),i=(this.children.get(r)||new e(null)).set(me(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(we(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=de(t),r=this.children.get(n);if(r){var i=r.remove(me(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(we(e))return this.value;var t=de(e),n=this.children.get(t);return n?n.get(me(e)):null},e.prototype.setTree=function(t,n){if(we(t))return n;var r,i=de(t),o=(this.children.get(i)||new e(null)).setTree(me(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(fe(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(_e(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,fe(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(we(e))return null;var i=de(e),o=this.children.get(i);return o?o.findOnPath_(me(e),_e(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,fe(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(we(t))return this;this.value&&r(n,this.value);var i=de(t),o=this.children.get(i);return o?o.foreachOnPath_(me(t),_e(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(fe(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(_e(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),tn=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new en(null))},e}();function nn(e,t,n){if(we(t))return new tn(new en(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Se(i,t);return o=o.updateChild(a,n),new tn(e.writeTree_.set(i,o))}var s=new en(n),u=e.writeTree_.setTree(t,s);return new tn(u)}function rn(e,t,n){var r=e;return R(n,(function(e,n){r=nn(r,_e(t,e),n)})),r}function on(e,t){if(we(t))return tn.empty();var n=e.writeTree_.setTree(t,new en(null));return new tn(n)}function an(e,t){return null!=sn(e,t)}function sn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Se(n.path,t)):null}function un(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ze,(function(e,n){t.push(new Re(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Re(e,n.value))})),t}function cn(e,t){if(we(t))return e;var n=sn(e,t);return new tn(null!=n?new en(n):e.writeTree_.subtree(t))}function ln(e){return e.writeTree_.isEmpty()}function hn(e,t){return fn(fe(),e.writeTree_,t)}function fn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=fn(_e(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(_e(e,".priority"),r)),n}function dn(e,t){return Tn(t,e)}function pn(e,t){if(e.snap)return Ie(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ie(_e(e.path,n),t))return!0;return!1}function mn(e){return e.visible}function gn(e,t,n){for(var r=tn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Ie(n,s)?r=nn(r,u=Se(n,s),a.snap):Ie(s,n)&&(u=Se(s,n),r=nn(r,fe(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(Ie(n,s))r=rn(r,u=Se(n,s),a.children);else if(Ie(s,n))if(we(u=Se(s,n)))r=rn(r,fe(),a.children);else{var c=(0,o.DV)(a.children,de(u));if(c){var l=c.getChild(me(u));r=nn(r,fe(),l)}}}}}return r}function vn(e,t,n,r,i){if(r||i){var o=cn(e.visibleWrites,t);return!i&&ln(o)?n:i||null!=n||an(o,fe())?hn(gn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ie(e.path,t)||Ie(t,e.path))}),t),n||it.EMPTY_NODE):null}var a=sn(e.visibleWrites,t);if(null!=a)return a;var s=cn(e.visibleWrites,t);return ln(s)?n:null!=n||an(s,fe())?hn(s,n||it.EMPTY_NODE):null}function yn(e,t,n,r){return vn(e.writeTree,e.treePath,t,n,r)}function bn(e,t){return function(e,t,n){var r=it.EMPTY_NODE,i=sn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ze,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=cn(e.visibleWrites,t);return n.forEachChild(Ze,(function(e,t){var n=hn(cn(o,new he(e)),t);r=r.updateImmediateChild(e,n)})),un(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return un(cn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function _n(e,t,n,r){return function(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=_e(t,n);if(an(e.visibleWrites,a))return null;var s=cn(e.visibleWrites,a);return ln(s)?i.getChild(n):hn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function wn(e,t){return function(e,t){return sn(e.visibleWrites,t)}(e.writeTree,_e(e.treePath,t))}function Sn(e,t,n){return function(e,t,n,r){var i=_e(t,n),o=sn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?hn(cn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function En(e,t){return Tn(_e(e.treePath,t),e.writeTree)}function Tn(e,t){return{treePath:e,writeTree:t}}var In=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,yt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,vt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,gt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,yt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Cn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),kn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Ht(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$t(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=cn(e.visibleWrites,t),c=sn(u,fe());if(null!=c)s=c;else{if(null==n)return[];s=hn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Nn(e,t,n,r,i,a){var s=t.eventCache;if(null!=wn(r,n))return t;var u=void 0,c=void 0;if(we(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=$t(t),h=bn(r,l instanceof it?l:it.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=yn(r,$t(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=de(n);if(".priority"===d){(0,o.hu)(1===pe(n),"Can't have a priority with additional path components");var p=s.getNode(),m=_n(r,n,p,c=t.serverCache.getNode());u=null!=m?e.filter.updatePriority(p,m):s.getNode()}else{var g=me(n),v=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=_n(r,n,s.getNode(),c);v=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else v=Sn(r,d,t.serverCache);u=null!=v?e.filter.updateChild(s.getNode(),d,v,g,i,a):s.getNode()}}return Yt(t,u,s.isFullyInitialized()||we(n),e.filter.filtersNodes())}function Pn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(we(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=de(n);if(!c.isCompleteForPath(n)&&pe(n)>1)return t;var d=me(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Cn,null)}var m=Xt(t,u,c.isFullyInitialized()||we(n),l.filtersNodes());return Nn(e,m,n,i,new kn(i,m,o),s)}function xn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new kn(i,t,o);if(we(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Yt(t,u,!0,e.filter.filtersNodes());else{var h=de(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Yt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=me(n),d=c.getNode().getImmediateChild(h),p=void 0;if(we(f))p=r;else{var m=l.getCompleteChild(h);p=null!=m?".priority"===ge(f)&&m.getChild(be(f)).isEmpty()?m:m.updateChild(f,r):it.EMPTY_NODE}s=d.equals(p)?t:Yt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function An(e,t){return e.eventCache.isCompleteForChild(t)}function On(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Dn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=we(n)?r:new en(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=On(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pn(e,c,new he(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=On(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pn(e,c,new he(n),h,i,o,a,s)}})),c}var Rn,Ln=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new bt(r.getIndex()),o=(n=r).loadsAllData()?new bt(n.getIndex()):n.hasLimit()?new wt(n):new _t(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(it.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(it.EMPTY_NODE,s.getNode(),null),l=new Ht(u,a.isFullyInitialized(),i.filtersNodes()),h=new Ht(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Qt(h,l),this.eventGenerator_=new zt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Fn(e,t){var n=$t(e.viewCache_);return n&&(e.query.getQueryParams().loadsAllData()||!we(t)&&!n.getImmediateChild(de(t)).isEmpty())?n.getChild(t):null}function Mn(e){return 0===e.eventRegistrations_.length}function Vn(e,t,n){var r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var i=e.query.path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function jn(e,t,n,r){t.type===Mt.MERGE&&null!==t.source.queryId&&((0,o.hu)($t(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(Zt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=function(e,t,n,r,i){var a,s,u=new In;if(n.type===Mt.OVERWRITE){var c=n;c.source.fromUser?a=xn(e,t,c.path,c.snap,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!we(c.path),a=Pn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Mt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=_e(n,r);An(t,de(c))&&(s=xn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=_e(n,r);An(t,de(c))||(s=xn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Dn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Mt.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=wn(r,n))return t;var u=new kn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(we(n)||".priority"===de(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=yn(r,$t(t));else{var f=t.serverCache.getNode();(0,o.hu)(f instanceof it,"serverChildren would be complete if leaf node"),h=bn(r,f)}h=h,l=e.filter.updateFullNode(c,h,a)}else{var d=de(n),p=Sn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,me(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,it.EMPTY_NODE,me(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=yn(r,$t(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=wn(r,fe()),Yt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=wn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(we(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Pn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(we(n)){var c=new en(null);return u.getNode().forEachChild(Me,(function(e,t){c=c.set(new he(e),t)})),Dn(e,t,n,c,i,o,s,a)}return t}var l=new en(null);return r.foreach((function(e,t){var r=_e(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Dn(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Mt.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return Nn(e,Xt(t,o.getNode(),o.isFullyInitialized()||we(n),o.isFiltered()),n,r,Cn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Zt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(mt(Zt(t)))}}(t,a,f),{viewCache:a,changes:f}}(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.hu)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Un(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Un(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Jt(e,i,"child_removed",t,r,n),Jt(e,i,"child_added",t,r,n),Jt(e,i,"child_moved",o,r,n),Jt(e,i,"child_changed",t,r,n),Jt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Bn=function(){this.views=new Map};function qn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.hu)(null!=c,"SyncTree gave us an op for an invalid query."),jn(c,t,n,r)}var l=[];try{for(var h=(0,a.XA)(e.views.values()),f=h.next();!f.done;f=h.next())c=f.value,l=l.concat(jn(c,t,n,r))}catch(e){i={error:e}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Gn(e,t,n,r,i){var o=t.queryIdentifier(),a=e.views.get(o);if(!a){var s=yn(n,i?r:null),u=!1;s?u=!0:r instanceof it?(s=bn(n,r),u=!1):(s=it.EMPTY_NODE,u=!1);var c=Qt(new Ht(s,u,!1),new Ht(r,i,!1));return new Ln(t,c)}return a}function Kn(e){var t,n,r=[];try{for(var i=(0,a.XA)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query.getQueryParams().loadsAllData()||r.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Wn(e,t){var n,r,i=null;try{for(var o=(0,a.XA)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Fn(u,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Hn(e,t){if(t.getQueryParams().loadsAllData())return Qn(e);var n=t.queryIdentifier();return e.views.get(n)}function zn(e,t){return null!=Hn(e,t)}function Jn(e){return null!=Qn(e)}function Qn(e){var t,n;try{for(var r=(0,a.XA)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query.getQueryParams().loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Yn=1,Xn=function(e){this.listenProvider_=e,this.syncPointTree_=new en(null),this.pendingWriteTree_={visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Zn(e,t,n,r,i){return function(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=nn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ir(e,new Kt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function $n(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&pn(u,r.path)?i=!1:Ie(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(e){e.visibleWrites=gn(e.allWrites,mn,fe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=on(e.visibleWrites,r.path):R(r.children,(function(t){e.visibleWrites=on(e.visibleWrites,_e(r.path,t))})),!0))}(e.pendingWriteTree_,t)){var i=new en(null);return null!=r.snap?i=i.set(fe(),!0):R(r.children,(function(e){i=i.set(new he(e),!0)})),ir(e,new qt(r.path,i,n))}return[]}function er(e,t,n){return ir(e,new Kt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function tr(e,t,n,r){var i=t.path,s=e.syncPointTree_.get(i),u=[];if(s&&("default"===t.queryIdentifier()||zn(s,t))){var c=function(e,t,n,r){var i,s,u=t.queryIdentifier(),c=[],l=[],h=Jn(e);if("default"===u)try{for(var f=(0,a.XA)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,a.CR)(d.value,2),m=p[0],g=p[1];l=l.concat(Vn(g,n,r)),Mn(g)&&(e.views.delete(m),g.query.getQueryParams().loadsAllData()||c.push(g.query))}}catch(e){i={error:e}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(g=e.views.get(u))&&(l=l.concat(Vn(g,n,r)),Mn(g)&&(e.views.delete(u),g.query.getQueryParams().loadsAllData()||c.push(g.query)));return h&&!Jn(e)&&c.push(new((0,o.hu)(Rn,"Reference.ts has not been loaded"),Rn)(t.database,t.path)),{removed:c,events:l}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex((function(e){return e.getQueryParams().loadsAllData()})),f=e.syncPointTree_.findOnPath(i,(function(e,t){return Jn(t)}));if(h&&!f){var d=e.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&Jn(t))return[Qn(t)];var r=[];return t&&(r=Kn(t)),R(n,(function(e,t){r=r.concat(t)})),r}))}(d),m=0;m<p.length;++m){var g=p[m],v=g.query,y=sr(e,g);e.listenProvider_.startListening(dr(v),ur(e,v),y.hashFn,y.onComplete)}}!f&&l.length>0&&!r&&(h?e.listenProvider_.stopListening(dr(t),null):l.forEach((function(t){var n=e.queryToTagMap.get(cr(t));e.listenProvider_.stopListening(dr(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=cr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return u}function nr(e,t,n){var r=t.path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Se(e,r);i=i||Wn(t,n),a=a||Jn(t)}));var s,u=e.syncPointTree_.get(r);u?(a=a||Jn(u),i=i||Wn(u,fe())):(u=new Bn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=it.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Wn(t,fe());n&&(i=i.updateImmediateChild(e,n))})));var c=zn(u,t);if(!c&&!t.getQueryParams().loadsAllData()){var l=cr(t);(0,o.hu)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Yn++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=function(e,t,n,r,i,o){var a=Gn(e,t,r,i,o);return e.views.has(t.queryIdentifier())||e.views.set(t.queryIdentifier(),a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ze,(function(e,t){r.push(gt(e,t))})),n.isFullyInitialized()&&r.push(mt(n.getNode())),Un(e,r,n.getNode(),t)}(a,n)}(u,t,n,dn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Hn(u,t);f=f.concat(function(e,t,n){var r=t.path,i=ur(e,t),a=sr(e,n),s=e.listenProvider_.startListening(dr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!Jn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!we(e)&&t&&Jn(t))return[Qn(t).query];var r=[];return t&&(r=r.concat(Kn(t).map((function(e){return e.query})))),R(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(dr(h),ur(e,h))}return s}(e,t,d))}return f}function rr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Wn(n,Se(e,t));if(r)return r}));return vn(r,t,i,n,!0)}function ir(e,t){return or(t,e.syncPointTree_,null,dn(e.pendingWriteTree_,fe()))}function or(e,t,n,r){if(we(e.path))return ar(e,t,n,r);var i=t.get(fe());null==n&&null!=i&&(n=Wn(i,fe()));var o=[],a=de(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=En(r,a);o=o.concat(or(s,u,c,l))}return i&&(o=o.concat(qn(i,e,r,n))),o}function ar(e,t,n,r){var i=t.get(fe());null==n&&null!=i&&(n=Wn(i,fe()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=En(r,t),u=e.operationForChild(t);u&&(o=o.concat(ar(u,i,a,s)))})),i&&(o=o.concat(qn(i,e,r,n))),o}function sr(e,t){var n=t.query,r=ur(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||it.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=lr(e,n);if(r){var i=hr(r),o=i.path,a=i.queryId,s=Se(o,t);return fr(e,o,new Gt(Ut(a),s))}return[]}(e,n.path,r):function(e,t){return ir(e,new Gt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return tr(e,n,null,i)}}}function ur(e,t){var n=cr(t);return e.queryToTagMap.get(n)}function cr(e){return e.path.toString()+"$"+e.queryIdentifier()}function lr(e,t){return e.tagToQueryMap.get(t)}function hr(e){var t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new he(e.substr(0,t))}}function fr(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),qn(r,n,dn(e.pendingWriteTree_,t),null)}function dr(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e}var pr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),mr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=_e(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return rr(this.syncTree_,this.path_)},e}(),gr=function(e,t,n){return e&&"object"==typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?vr(e[".sv"],t,n):"object"==typeof e[".sv"]?yr(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},vr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,o.hu)(!1,"Unexpected server value: "+e)}},yr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},br=function(e,t,n,r){return wr(t,new mr(n,e),r)},_r=function(e,t,n){return wr(e,new pr(t),n)};function wr(e,t,n){var r,i=e.getPriority().val(),o=gr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=gr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Xe(s,at(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Xe(o))),u.forEachChild(Ze,(function(e,i){var o=wr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Sr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Er(e,t){for(var n=t instanceof he?t:new he(t),r=e,i=de(n);null!==i;){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new Sr(i,r,a),i=de(n=me(n))}return r}function Tr(e){return e.node.value}function Ir(e,t){e.node.value=t,xr(e)}function Cr(e){return e.node.childCount>0}function kr(e,t){R(e.node.children,(function(n,r){t(new Sr(n,e,r))}))}function Nr(e,t,n,r){n&&!r&&t(e),kr(e,(function(e){Nr(e,t,!0,r)})),n&&r&&t(e)}function Pr(e){return new he(null===e.parent?e.name:Pr(e.parent)+"/"+e.name)}function xr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Tr(e)&&!Cr(e)}(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,xr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,xr(e))}(e.parent,e.name,e)}var Ar=/[\[\].#$\/\u0000-\u001F\u007F]/,Or=/[\[\].#$\u0000-\u001F\u007F]/,Dr=10485760,Rr=function(e){return"string"==typeof e&&0!==e.length&&!Ar.test(e)},Lr=function(e){return"string"==typeof e&&0!==e.length&&!Or.test(e)},Fr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!C(e)||e&&"object"==typeof e&&(0,o.r3)(e,".sv")},Mr=function(e,t,n,r,i){i&&void 0===n||Vr((0,o.gK)(e,t,i),n,r)},Vr=function(e,t,n){var r=n instanceof he?new Ce(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ne(r));if("function"==typeof t)throw new Error(e+"contains a function "+Ne(r)+" with contents = "+t.toString());if(C(t))throw new Error(e+"contains "+t.toString()+" "+Ne(r));if("string"==typeof t&&t.length>Dr/3&&(0,o.ug)(t)>Dr)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+Ne(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,a=!1;if(R(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Rr(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ne(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=t,(s=r).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=(0,o.ug)(u),ke(s),Vr(e,n,r),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),i&&a)throw new Error(e+' contains ".value" child '+Ne(r)+" in addition to actual children.")}},jr=function(e,t,n,r,i){if(!i||void 0!==n){var a=(0,o.gK)(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];R(n,(function(e,t){var n=new he(e);if(Vr(a,t,_e(r,n)),".priority"===ge(n)&&!Fr(t))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=ye(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Rr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ee);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Ie(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},Ur=function(e,t,n,r){if(!r||void 0!==n){if(C(n))throw new Error((0,o.gK)(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Fr(n))throw new Error((0,o.gK)(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Br=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},qr=function(e,t,n,r){if(!(r&&void 0===n||Rr(n)))throw new Error((0,o.gK)(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Gr=function(e,t,n,r){if(!(r&&void 0===n||Lr(n)))throw new Error((0,o.gK)(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Kr=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gr(e,t,n,r)},Wr=function(e,t){if(".info"===de(t))throw new Error(e+" failed = Can't modify data under /.info/")},Hr=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Rr(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Lr(e)}(r))throw new Error((0,o.gK)(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},zr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.gK)(e,t,r)+"must be a boolean.")},Jr=function(){this.eventLists_=[],this.recursionDepth_=0};function Qr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Te(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Yr(e,t,n){Qr(e,n),Zr(e,(function(e){return Te(e,t)}))}function Xr(e,t,n){Qr(e,n),Zr(e,(function(e){return Ie(e,t)||Ie(t,e)}))}function Zr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?($r(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function $r(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();y&&w("event: "+n.toString()),V(r)}}}var ei="repo_interrupt",ti=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dt(),this.transactionQueueTree_=new Sr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ni(e){var t=e.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ri(e){return(t=(t={timestamp:ni(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ii(e,t,n,r,i){e.dataUpdateCount++;var a=new he(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.UI)(n,(function(e){return at(e)}));s=function(e,t,n,r){var i=lr(e,r);if(i){var o=hr(i),a=o.path,s=o.queryId,u=Se(a,t),c=en.fromObject(n);return fr(e,a,new Wt(Ut(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=at(n);s=function(e,t,n,r){var i=lr(e,r);if(null!=i){var o=hr(i),a=o.path,s=o.queryId,u=Se(a,t);return fr(e,a,new Kt(Ut(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.UI)(n,(function(e){return at(e)}));s=function(e,t,n){var r=en.fromObject(n);return ir(e,new Wt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=at(n);s=er(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=Ei(e,a)),Xr(e.eventQueue_,f,s)}function oi(e,t){ai(e,"connected",t),!1===t&&function(e){yi(e,"onDisconnectEvents");var t=ri(e),n=Dt();Ft(e.onDisconnect_,fe(),(function(r,i){var o=br(r,i,e.serverSyncTree_,t);Rt(n,r,o)}));var r=[];Ft(n,fe(),(function(t,n){r=r.concat(er(e.serverSyncTree_,t,n));var i=Ni(e,t);Ei(e,i)})),e.onDisconnect_=Dt(),Xr(e.eventQueue_,fe(),r)}(e)}function ai(e,t,n){var r=new he("/.info/"+t),i=at(n);e.infoData_.updateSnapshot(r,i);var o=er(e.infoSyncTree_,r,i);Xr(e.eventQueue_,r,o)}function si(e){return e.nextWriteId_++}function ui(e,t,n,r,i){yi(e,"set",{path:t.toString(),value:n,priority:r});var o=ri(e),a=at(n,r),s=rr(e.serverSyncTree_,t),u=_r(a,s,o),c=si(e),l=Zn(e.serverSyncTree_,t,u,c,!0);Qr(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||I("set at "+t+" failed: "+n);var a=$n(e.serverSyncTree_,c,!o);Xr(e.eventQueue_,t,a),bi(0,i,n,r)}));var h=Ni(e,t);Ei(e,h),Xr(e.eventQueue_,h,[])}function ci(e,t,n,r){yi(e,"update",{path:t.toString(),value:n});var i=!0,a=ri(e),s={};if(R(n,(function(n,r){i=!1,s[n]=br(_e(t,n),at(r),e.serverSyncTree_,a)})),i)w("update() called with empty data.  Don't do anything."),bi(0,r,"ok",void 0);else{var u=si(e),c=function(e,t,n,r){!function(e,t,n,r){(0,o.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=rn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=en.fromObject(n);return ir(e,new Wt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,u);Qr(e.eventQueue_,c),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||I("update at "+t+" failed: "+n);var a=$n(e.serverSyncTree_,u,!o),s=a.length>0?Ei(e,t):t;Xr(e.eventQueue_,s,a),bi(0,r,n,i)})),R(n,(function(n){var r=Ni(e,_e(t,n));Ei(e,r)})),Xr(e.eventQueue_,t,[])}}function li(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Lt(e.onDisconnect_,t),bi(0,n,r,i)}))}function hi(e,t,n,r){var i=at(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Rt(e.onDisconnect_,t,i),bi(0,r,n,o)}))}function fi(e,t,n,r,i){var o=at(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Rt(e.onDisconnect_,t,o),bi(0,i,n,r)}))}function di(e,t,n,r){if((0,o.xb)(n))return w("onDisconnect().update() called with empty data.  Don't do anything."),void bi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&R(n,(function(n,r){var i=at(r);Rt(e.onDisconnect_,_e(t,n),i)})),bi(0,r,i,o)}))}function pi(e,t,n){var r;r=".info"===de(t.path)?nr(e.infoSyncTree_,t,n):nr(e.serverSyncTree_,t,n),Yr(e.eventQueue_,t.path,r)}function mi(e,t,n){var r;r=".info"===de(t.path)?tr(e.infoSyncTree_,t,n):tr(e.serverSyncTree_,t,n),Yr(e.eventQueue_,t.path,r)}function gi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ei)}function vi(e){e.persistentConnection_&&e.persistentConnection_.resume(ei)}function yi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),w.apply(void 0,(0,a.ev)([r],(0,a.CR)(t)))}function bi(e,t,n,r){t&&V((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function _i(e,t,n,r,i,a){yi(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:m(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=wi(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Vr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Er(e.transactionQueueTree_,t),h=Tr(l)||[];h.push(s),Ir(l,h);var f=void 0;"object"==typeof c&&null!==c&&(0,o.r3)(c,".priority")?(f=(0,o.DV)(c,".priority"),(0,o.hu)(Fr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(rr(e.serverSyncTree_,t)||it.EMPTY_NODE).getPriority().val();var d=ri(e),p=at(c,f),g=_r(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=si(e);var v=Zn(e.serverSyncTree_,t,g,s.currentWriteId,s.applyLocally);Xr(e.eventQueue_,t,v),Si(e,e.transactionQueueTree_)}}function wi(e,t,n){return rr(e.serverSyncTree_,t,n)||it.EMPTY_NODE}function Si(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||ki(e,t),Tr(t)){var n=Ii(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=wi(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.hu)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Se(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){yi(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat($n(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);for(ki(e,Er(e.transactionQueueTree_,t)),Si(e,e.transactionQueueTree_),Xr(e.eventQueue_,t,i),s=0;s<o.length;s++)V(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else for(I("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;Ei(e,t)}}),s)}(e,Pr(t),n)}else Cr(t)&&kr(t,(function(t){Si(e,t)}))}function Ei(e,t){var n=Ti(e,t),r=Pr(n);return function(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=Se(n,l.path),f=!1;if((0,o.hu)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat($n(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)f=!0,u="maxretry",i=i.concat($n(e.serverSyncTree_,l.currentWriteId,!0));else{var d=wi(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Vr("transaction failed: Data returned ",p,l.path);var m=at(p);"object"==typeof p&&null!=p&&(0,o.r3)(p,".priority")||(m=m.updatePriority(d.getPriority()));var g=l.currentWriteId,v=ri(e),y=_r(m,d,v);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=y,l.currentWriteId=si(e),a.splice(a.indexOf(g),1),i=(i=i.concat(Zn(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat($n(e.serverSyncTree_,g,!0))}else f=!0,u="nodata",i=i.concat($n(e.serverSyncTree_,l.currentWriteId,!0))}Xr(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);for(ki(e,e.transactionQueueTree_),u=0;u<r.length;u++)V(r[u]);Si(e,e.transactionQueueTree_)}}(e,Ii(e,n),r),r}function Ti(e,t){var n,r=e.transactionQueueTree_;for(n=de(t);null!==n&&void 0===Tr(r);)r=Er(r,n),n=de(t=me(t));return r}function Ii(e,t){var n=[];return Ci(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ci(e,t,n){var r=Tr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);kr(t,(function(t){Ci(e,t,n)}))}function ki(e,t){var n=Tr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ir(t,n.length>0?n:void 0)}kr(t,(function(t){ki(e,t)}))}function Ni(e,t){var n=Pr(Ti(e,t)),r=Er(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Pi(e,t)})),Pi(e,r),Nr(r,(function(t){Pi(e,t)})),n}function Pi(e,t){var n=Tr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat($n(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?Ir(t,void 0):n.length=a+1,Xr(e.eventQueue_,Pr(t),i),s=0;s<r.length;s++)V(r[s])}}var xi,Ai=function(e,t){var n=Oi(e),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new W(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new he(n.pathString)}},Oi=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.XA)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Di=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Gr("DataSnapshot.child",1,t,!1);var n=new he(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Ze)},e.prototype.hasChild=function(e){(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Gr("DataSnapshot.hasChild",1,e,!1);var t=new he(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if((0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),Ze))}))},e.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ri=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel",1,e,!0);var t=new o.BH;return li(this.repo_,this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),Wr("OnDisconnect.remove",this.path_),(0,o.Wj)("OnDisconnect.remove",1,e,!0);var t=new o.BH;return hi(this.repo_,this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),Wr("OnDisconnect.set",this.path_),Mr("OnDisconnect.set",1,e,this.path_,!1),(0,o.Wj)("OnDisconnect.set",2,t,!0);var n=new o.BH;return hi(this.repo_,this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),Wr("OnDisconnect.setWithPriority",this.path_),Mr("OnDisconnect.setWithPriority",1,e,this.path_,!1),Ur("OnDisconnect.setWithPriority",2,t,!1),(0,o.Wj)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.BH;return fi(this.repo_,this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Wr("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jr("OnDisconnect.update",1,e,this.path_,!1),(0,o.Wj)("OnDisconnect.update",2,t,!0);var i=new o.BH;return di(this.repo_,this.path_,e,i.wrapCallback(t)),i.promise},e}(),Li=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},e}(),Fi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Mi=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Li("value",this,new Di(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){(0,o.hu)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Fi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),Vi=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,(0,o.r3)(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Fi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Li(e.type,this,new Di(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){(0,o.hu)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||t.callbacks_[a]&&this.callbacks_[s]&&t.callbacks_[a]!==this.callbacks_[s])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),ji=function(){function e(e,t,n,r){this.database=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r,this.repo=e.repo_}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return(0,o.hu)(xi,"Reference.ts has not been loaded"),xi},set:function(e){xi=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Me){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==k)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==N)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ze){if(null!=t&&!Fr(t)||null!=n&&!Fr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof ct||e.getIndex()===lt,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return(0,o.Dv)("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.database,this.path)},e.prototype.on=function(t,n,r,i){(0,o.Dv)("Query.on",2,4,arguments.length),Br("Query.on",1,t,!1),(0,o.Wj)("Query.on",2,n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[t]=n,this.onChildEvent(s,a.cancel,a.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new Mi(e,t||null,n||null);pi(this.repo,this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new Vi(e,t,n);pi(this.repo,this,r)},e.prototype.off=function(e,t,n){(0,o.Dv)("Query.off",0,3,arguments.length),Br("Query.off",1,e,!0),(0,o.Wj)("Query.off",2,t,!0),(0,o.lb)("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var a=t||null;r=new Mi(a,null,n||null)}else e&&(t&&((i={})[e]=t),r=new Vi(i,null,n||null));mi(this.repo,this,r)},e.prototype.get=function(){var e,t,n,r=this;return(e=this.repo,t=this,n=function(e,t){var n=t.path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Se(e,n);r=r||Wn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Wn(i,fe()):(i=new Bn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Ht(r,!0,!1):null;return Zt(Gn(i,t,dn(e.pendingWriteTree_,t.path),o?a.getNode():it.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t),null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=at(n),i=er(e.serverSyncTree_,t.path,r);return Yr(e.eventQueue_,t.path,i),Promise.resolve(r)}),(function(n){return yi(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))}))).then((function(e){return new Di(e,r.getRef(),r.getQueryParams().getIndex())}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),Br("Query.once",1,t,!1),(0,o.Wj)("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.BH;c.promise.catch((function(){}));var l=function(e){u&&(u=!1,a.off(t,l),n&&n.bind(s.context)(e),c.resolve(e))};return this.on(t,l,(function(e){a.off(t,l),s.cancel&&s.cancel.bind(s.context)(e),c.reject(e)})),c.promise},e.prototype.limitToFirst=function(t){if((0,o.Dv)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.database,this.path,Et(this.queryParams_,t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if((0,o.Dv)("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.database,this.path,Tt(this.queryParams_,t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if((0,o.Dv)("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Gr("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new he(t);if(we(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new ct(n),i=Pt(this.queryParams_,r);return e.validateQueryEndpoints_(i),new e(this.database,this.path,i,!0)},e.prototype.orderByKey=function(){(0,o.Dv)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=Pt(this.queryParams_,Me);return e.validateQueryEndpoints_(t),new e(this.database,this.path,t,!0)},e.prototype.orderByPriority=function(){(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=Pt(this.queryParams_,Ze);return e.validateQueryEndpoints_(t),new e(this.database,this.path,t,!0)},e.prototype.orderByValue=function(){(0,o.Dv)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=Pt(this.queryParams_,lt);return e.validateQueryEndpoints_(t),new e(this.database,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),Mr("Query.startAt",1,t,this.path,!0),qr("Query.startAt",2,n,!0);var r=It(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.database,this.path,r,this.orderByCalled_)},e.prototype.startAfter=function(t,n){void 0===t&&(t=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),Mr("Query.startAfter",1,t,this.path,!1),qr("Query.startAfter",2,n,!0);var r=Ct(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new e(this.database,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),Mr("Query.endAt",1,t,this.path,!0),qr("Query.endAt",2,n,!0);var r=kt(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.database,this.path,r,this.orderByCalled_)},e.prototype.endBefore=function(t,n){void 0===t&&(t=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),Mr("Query.endBefore",1,t,this.path,!1),qr("Query.endBefore",2,n,!0);var r=Nt(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.database,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if((0,o.Dv)("Query.equalTo",1,2,arguments.length),Mr("Query.equalTo",1,e,this.path,!1),qr("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this.repo.toString()+ve(this.path)},e.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return function(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ze&&(t.i=e.index_.toString()),t}(this.queryParams_)},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=O(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=Te(this.path,t.path),a=this.queryIdentifier()===t.queryIdentifier();return r&&i&&a},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,(0,o.Wj)(e,3,r.cancel,!0),r.context=n,(0,o.lb)(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,o.gK)(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ui=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Bi=function(e){function t(t,n){return e.call(this,t,n,new St,!1)||this}return(0,a.ZT)(t,e),t.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),we(this.path)?null:ge(this.path)},t.prototype.child=function(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof he||(null===de(this.path)?Kr("Reference.child",1,e,!1):Gr("Reference.child",1,e,!1)),new t(this.database,_e(this.path,e))},t.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var e=be(this.path);return null===e?null:new t(this.database,e)},t.prototype.getRoot=function(){(0,o.Dv)("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.set=function(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),Wr("Reference.set",this.path),Mr("Reference.set",1,e,this.path,!1),(0,o.Wj)("Reference.set",2,t,!0);var n=new o.BH;return ui(this.repo,this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Wr("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jr("Reference.update",1,e,this.path,!1),(0,o.Wj)("Reference.update",2,t,!0);var i=new o.BH;return ci(this.repo,this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if((0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),Wr("Reference.setWithPriority",this.path),Mr("Reference.setWithPriority",1,e,this.path,!1),Ur("Reference.setWithPriority",2,t,!1),(0,o.Wj)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.BH;return ui(this.repo,this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return(0,o.Dv)("Reference.remove",0,1,arguments.length),Wr("Reference.remove",this.path),(0,o.Wj)("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,n,r){var i=this;if((0,o.Dv)("Reference.transaction",1,3,arguments.length),Wr("Reference.transaction",this.path),(0,o.Wj)("Reference.transaction",1,e,!1),(0,o.Wj)("Reference.transaction",2,n,!0),zr("Reference.transaction",3,r,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===r&&(r=!0);var a=new o.BH;"function"==typeof n&&a.promise.catch((function(){}));var s=function(e,r,o){if(e)a.reject(e),"function"==typeof n&&n(e,r,null);else{var s=new Di(o,new t(i.database,i.path),Ze);a.resolve(new Ui(r,s)),"function"==typeof n&&n(null,r,s)}},u=function(){},c=new t(this.database,this.path);c.on("value",u);var l=function(){c.off("value",u)};return _i(this.repo,this.path,e,s,l,r),a.promise},t.prototype.setPriority=function(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),Wr("Reference.setPriority",this.path),Ur("Reference.setPriority",1,e,!1),(0,o.Wj)("Reference.setPriority",2,t,!0);var n=new o.BH;return ui(this.repo,_e(this.path,".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){(0,o.Dv)("Reference.push",0,2,arguments.length),Wr("Reference.push",this.path),Mr("Reference.push",1,e,this.path,!0),(0,o.Wj)("Reference.push",2,t,!0);var n,r=ni(this.repo),i=ft(r),a=this.child(i),s=this.child(i);return n=null!=e?a.set(e,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),a},t.prototype.onDisconnect=function(){return Wr("Reference.onDisconnect",this.path),new Ri(this.repo,this.path)},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(ji);ji.__referenceConstructor=Bi,function(e){(0,o.hu)(!Rn,"__referenceConstructor has already been defined"),Rn=e}(Bi);var qi={},Gi=!1;function Ki(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),w("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Ai(i,r),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,i="http://"+c+"?ns="+u.namespace,u=(s=Ai(i,r)).repoInfo):a=!s.repoInfo.secure;var l=r&&a?new B:new U(e,t);Hr("Invalid Firebase Database URL",1,s),we(s.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n){var r=(0,o.DV)(qi,t.name);r||(r={},qi[t.name]=r);var i=(0,o.DV)(r,e.toURLString());return i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new ti(e,Gi,t,n),r[e.toURLString()]=i,i}(u,e,l);return new Wi(h)}var Wi=function(){function e(e){var t=this;this.repoInternal_=e,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return(0,a.mG)(t,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){var t,n;return this.checkDeleted_("delete"),t=this.repo_,(n=(0,o.DV)(qi,t.app.name))&&(0,o.DV)(n,t.key)===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),gi(t),delete n[t.key],this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},e instanceof ti||T("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(e.prototype,"repo_",{get:function(){return this.instanceStarted_||(function(e){if(e.stats_=Y(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new At(e.repoInfo_,(function(t,n,r,i){ii(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return oi(e,!0)}),0);else{var t=e.app.options.databaseAuthVariableOverride;if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(t)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new De(e.repoInfo_,e.app.options.appId,(function(t,n,r,i){ii(e,t,n,r,i)}),(function(t){oi(e,t)}),(function(t){!function(e,t){R(t,(function(t,n){ai(e,t,n)}))}(e,t)}),e.authTokenProvider_,t),e.server_=e.persistentConnection_}var n,r;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=(n=function(){return new jt(e.stats_,e.server_)},r=e.repoInfo_.toString(),Q[r]||(Q[r]=n()),Q[r]),e.infoData_=new Ot,e.infoSyncTree_=new Xn({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t.path);return a.isEmpty()||(o=er(e.infoSyncTree_,t.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),ai(e,"connected",!1),e.serverSyncTree_=new Xn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Xr(e.eventQueue_,t.path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Bi(this,fe())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.useEmulator=function(e,t){this.checkDeleted_("useEmulator"),this.instanceStarted_?T("Cannot call useEmulator() after instance has already been initialized."):function(e,t,n){e.repoInfo_=new W(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new B)}(this.repoInternal_,e,t)},e.prototype.ref=function(e){return this.checkDeleted_("ref"),(0,o.Dv)("database.ref",0,1,arguments.length),e instanceof Bi?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),(0,o.Dv)(t,1,1,arguments.length);var n=Ai(e,this.repo_.repoInfo_.nodeAdmin);Hr(t,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||T(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repoInternal_&&T("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){(0,o.Dv)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),gi(this.repo_)},e.prototype.goOnline=function(){(0,o.Dv)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),vi(this.repo_)},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),Hi=Object.freeze({__proto__:null,forceLongPolling:function(){oe.forceDisallow(),ee.forceAllow()},forceWebSockets:function(){ee.forceDisallow()},isWebSocketsAvailable:function(){return oe.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Vt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);R(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e.repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n;e.stats_.incrementCounter(t),n=t,e.statsReporter_.statsToReport_[n]=!0}(e.repo,t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e.repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;re(r);var c=new i.zt("auth-internal",new i.H0("database-standalone"));return c.setComponent(new i.wA("auth-internal",(function(){return o}),"PRIVATE")),{instance:Ki(t,c,n,u),namespace:a}}}),zi=De;De.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},De.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ji=se,Qi=W,Yi=Object.freeze({__proto__:null,DataConnection:zi,RealTimeConnection:Ji,hijackHash:function(e){var t=De.prototype.put;return De.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){De.prototype.put=t}},ConnectionTarget:Qi,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){!function(e){Gi=e}(e)}}),Xi=Wi.ServerValue;!function(t){re(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.wA("database",(function(e,t){var n=t.instanceIdentifier;return Ki(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),n,void 0)}),"PUBLIC").setServiceProps({Reference:Bi,Query:ji,Database:Wi,DataSnapshot:Di,enableLogging:_,INTERNAL:Hi,ServerValue:Xi,TEST_ACCESS:Yi}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.9.7"),(0,o.Yr)()&&(e.exports=n)}(r.Z)},8483:(e,t,n)=>{"use strict";var r,i=n(6099),o=(n(4589),n(4594),n(3705),n(3295)),a=n(909),s={Firestore:o.$,GeoPoint:o.v,Timestamp:o.k,Blob:o.x,Transaction:o.B,WriteBatch:o.q,DocumentReference:o.Q,DocumentSnapshot:o.G,Query:o.H,QueryDocumentSnapshot:o.z,QuerySnapshot:o.Y,CollectionReference:o.X,FieldPath:o.t,FieldValue:o.e,setLogLevel:o.L,CACHE_SIZE_UNLIMITED:o._};(function(e,t){e.INTERNAL.registerComponent(new a.wA("firestore",(function(e){return function(e,t){return new o.$(e,new o.m(e,t),new o.O)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},s)))})(r=i.Z),r.registerVersion("@firebase/firestore","2.2.2")},3295:(e,t,n)=>{"use strict";n.d(t,{$:()=>ic,B:()=>sc,G:()=>pc,H:()=>gc,L:()=>ac,O:()=>rc,Q:()=>lc,X:()=>bc,Y:()=>yc,_:()=>Us,e:()=>Sc,k:()=>T,m:()=>Bs,n:()=>Ec,q:()=>uc,s:()=>Tc,t:()=>wc,v:()=>Qs,x:()=>nc,z:()=>mc});var r=n(4589),i=n(4594),o=n(3705),a=n(655),s=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();s.o=-1;var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,a.ZT)(t,e),t}(Error),l=new i.Yd("@firebase/firestore");function h(){return l.logLevel}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=i.in.DEBUG){var r=t.map(m);l.debug.apply(l,(0,a.ev)(["Firestore (8.3.2): "+e],r))}}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=i.in.ERROR){var r=t.map(m);l.error.apply(l,(0,a.ev)(["Firestore (8.3.2): "+e],r))}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=i.in.WARN){var r=t.map(m);l.warn.apply(l,(0,a.ev)(["Firestore (8.3.2): "+e],r))}}function m(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function g(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.3.2) INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function v(e,t){e||g()}function y(e,t){return e}function b(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var _=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function w(e,t){return e<t?-1:e>t?1:0}function S(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function E(e){return e+"\0"}var T=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?w(this.nanoseconds,e.nanoseconds):w(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),I=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new T(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function C(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function k(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function N(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var P=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&g(),void 0===n?n=e.length-t:n>e.length-t&&g(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(P),A=/^[_a-zA-Z][_a-zA-Z0-9]*$/,O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return A.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new c(u.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new c(u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new c(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new c(u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(P),D=function(){function e(e){this.fields=e,e.sort(O.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return S(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),R=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return w(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();R.EMPTY_BYTE_STRING=new R("");var L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function F(e){if(v(!!e),"string"==typeof e){var t=0,n=L.exec(e);if(v(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:M(e.seconds),nanos:M(e.nanos)}}function M(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function V(e){return"string"==typeof e?R.fromBase64String(e):R.fromUint8Array(e)}function j(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function U(e){var t=e.mapValue.fields.__previous_value__;return j(t)?U(t):t}function B(e){var t=F(e.mapValue.fields.__local_write_time__.timestampValue);return new T(t.seconds,t.nanos)}function q(e){return null==e}function G(e){return 0===e&&1/e==-1/0}function K(e){return"number"==typeof e&&Number.isInteger(e)&&!G(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var W=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(x.fromString(t))},e.fromName=function(t){return new e(x.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===x.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return x.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new x(t.slice()))},e}();function H(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?j(e)?4:10:g()}function z(e,t){var n=H(e);if(n!==H(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return B(e).isEqual(B(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=F(e.timestampValue),r=F(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return V(e.bytesValue).isEqual(V(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return M(e.geoPointValue.latitude)===M(t.geoPointValue.latitude)&&M(e.geoPointValue.longitude)===M(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return M(e.integerValue)===M(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=M(e.doubleValue),r=M(t.doubleValue);return n===r?G(n)===G(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return S(e.arrayValue.values||[],t.arrayValue.values||[],z);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(C(n)!==C(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!z(n[i],r[i])))return!1;return!0}(e,t);default:return g()}}function J(e,t){return void 0!==(e.values||[]).find((function(e){return z(e,t)}))}function Q(e,t){var n=H(e),r=H(t);if(n!==r)return w(n,r);switch(n){case 0:return 0;case 1:return w(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=M(e.integerValue||e.doubleValue),r=M(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Y(e.timestampValue,t.timestampValue);case 4:return Y(B(e),B(t));case 5:return w(e.stringValue,t.stringValue);case 6:return function(e,t){var n=V(e),r=V(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=w(n[i],r[i]);if(0!==o)return o}return w(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=w(M(e.latitude),M(t.latitude));return 0!==n?n:w(M(e.longitude),M(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Q(n[i],r[i]);if(o)return o}return w(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=w(r[a],o[a]);if(0!==s)return s;var u=Q(n[r[a]],i[o[a]]);if(0!==u)return u}return w(r.length,o.length)}(e.mapValue,t.mapValue);default:throw g()}}function Y(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return w(e,t);var n=F(e),r=F(t),i=w(n.seconds,r.seconds);return 0!==i?i:w(n.nanos,r.nanos)}function X(e){return Z(e)}function Z(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=F(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?V(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,W.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Z(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Z(e.fields[o])}return t+"}"}(e.mapValue):g();var t,n}function $(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ee(e){return!!e&&"integerValue"in e}function te(e){return!!e&&"arrayValue"in e}function ne(e){return!!e&&"nullValue"in e}function re(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ie(e){return!!e&&"mapValue"in e}var oe=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(O.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return z(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===H(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=ie(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(O.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!ie(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function ae(e){var t=[];return k(e.fields||{},(function(e,n){var r=new O([e]);if(ie(n)){var i=ae(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new D(t)}var se=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,I.min(),oe.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,oe.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,oe.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=oe.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=oe.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ue=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function ce(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ue(e,t,n,r,i,o,a)}function le(e){var t=y(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+X(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),q(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ee(t.startAt)),t.endAt&&(n+="|ub:",n+=Ee(t.endAt)),t.h=n}return t.h}function he(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ie(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!z(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ke(e.startAt,t.startAt)&&ke(e.endAt,t.endAt)}function fe(e){return W.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var de=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,a.ZT)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new pe(e,n,r):"array-contains"===n?new ye(e,r):"in"===n?new be(e,r):"not-in"===n?new _e(e,r):"array-contains-any"===n?new we(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new me(e,n):new ge(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Q(t,this.value)):null!==t&&H(this.value)===H(t)&&this.m(Q(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return g()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),pe=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=W.fromName(r.referenceValue),i}return(0,a.ZT)(t,e),t.prototype.matches=function(e){var t=W.comparator(e.key,this.key);return this.m(t)},t}(de),me=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=ve(0,n),r}return(0,a.ZT)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(de),ge=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=ve(0,n),r}return(0,a.ZT)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(de);function ve(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return W.fromName(e.referenceValue)}))}var ye=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,a.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return te(t)&&J(t.arrayValue,this.value)},t}(de),be=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,a.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&J(this.value.arrayValue,t)},t}(de),_e=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,a.ZT)(t,e),t.prototype.matches=function(e){if(J(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!J(this.value.arrayValue,t)},t}(de),we=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,a.ZT)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!te(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return J(t.value.arrayValue,e)}))},t}(de),Se=function(e,t){this.position=e,this.before=t};function Ee(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return X(e)})).join(",")}var Te=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ie(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ce(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?W.comparator(W.fromName(a.referenceValue),n.key):Q(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ke(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!z(e.position[n],t.position[n]))return!1;return!0}var Ne=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Pe(e,t,n,r,i,o,a,s){return new Ne(e,t,n,r,i,o,a,s)}function xe(e){return new Ne(e)}function Ae(e){return!q(e.limit)&&"F"===e.limitType}function Oe(e){return!q(e.limit)&&"L"===e.limitType}function De(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Re(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Le(e){return null!==e.collectionGroup}function Fe(e){var t=y(e);if(null===t.p){t.p=[];var n=Re(t),r=De(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Te(n)),t.p.push(new Te(O.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Te(O.keyField(),u))}}}return t.p}function Me(e){var t=y(e);if(!t.T)if("F"===t.limitType)t.T=ce(t.path,t.collectionGroup,Fe(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Fe(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Te(o.field,a))}var s=t.endAt?new Se(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Se(t.startAt.position,!t.startAt.before):null;t.T=ce(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Ve(e,t,n){return new Ne(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function je(e,t){return he(Me(e),Me(t))&&e.limitType===t.limitType}function Ue(e){return le(Me(e))+"|lt:"+e.limitType}function Be(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+X(t.value);var t})).join(", ")+"]"),q(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ee(e.startAt)),e.endAt&&(t+=", endAt: "+Ee(e.endAt)),"Target("+t+")"}(Me(e))+"; limitType="+e.limitType+")"}function qe(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):W.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ce(e.startAt,Fe(e),t)||e.endAt&&Ce(e.endAt,Fe(e),t))}(e,t)}function Ge(e){return function(t,n){for(var r=!1,i=0,o=Fe(e);i<o.length;i++){var a=o[i],s=Ke(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Ke(e,t,n){var r=e.field.isKeyField()?W.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Q(r,i):g()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return g()}}function We(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:G(t)?"-0":t}}function He(e){return{integerValue:""+e}}function ze(e,t){return K(t)?He(t):We(e,t)}var Je=function(){this._=void 0};function Qe(e,t,n){return e instanceof Ze?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $e?et(e,t):e instanceof tt?nt(e,t):function(e,t){var n=Xe(e,t),r=it(n)+it(e.A);return ee(n)&&ee(e.A)?He(r):We(e.R,r)}(e,t)}function Ye(e,t,n){return e instanceof $e?et(e,t):e instanceof tt?nt(e,t):n}function Xe(e,t){return e instanceof rt?ee(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t}(Je),$e=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,a.ZT)(t,e),t}(Je);function et(e,t){for(var n=ot(t),r=function(e){n.some((function(t){return z(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tt=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,a.ZT)(t,e),t}(Je);function nt(e,t){for(var n=ot(t),r=function(e){n=n.filter((function(t){return!z(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var rt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,a.ZT)(t,e),t}(Je);function it(e){return M(e.integerValue||e.doubleValue)}function ot(e){return te(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var at=function(e,t){this.field=e,this.transform=t},st=function(e,t){this.version=e,this.transformResults=t},ut=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ct(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lt=function(){};function ht(e,t,n){e instanceof gt?function(e,t,n){var r=e.value.clone(),i=bt(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vt?function(e,t,n){if(ct(e.precondition,t)){var r=bt(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yt(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ft(e,t,n){e instanceof gt?function(e,t,n){if(ct(e.precondition,t)){var r=e.value.clone(),i=_t(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(mt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof vt?function(e,t,n){if(ct(e.precondition,t)){var r=_t(e.fieldTransforms,n,t),i=t.data;i.setAll(yt(e)),i.setAll(r),t.convertToFoundDocument(mt(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ct(e.precondition,t)&&t.convertToNoDocument(I.min())}(e,t)}function dt(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Xe(o.transform,a||null);null!=s&&(null==n&&(n=oe.empty()),n.set(o.field,s))}return n||null}function pt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&S(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $e&&t instanceof $e||e instanceof tt&&t instanceof tt?S(e.elements,t.elements,z):e instanceof rt&&t instanceof rt?z(e.A,t.A):e instanceof Ze&&t instanceof Ze}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function mt(e){return e.isFoundDocument()?e.version:I.min()}var gt=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,a.ZT)(t,e),t}(lt),vt=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,a.ZT)(t,e),t}(lt);function yt(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function bt(e,t,n){var r=new Map;v(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Ye(a,s,n[i]))}return r}function _t(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Qe(s,u,t))}return r}var wt,St,Et=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,a.ZT)(t,e),t}(lt),Tt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,a.ZT)(t,e),t}(lt),It=function(e){this.count=e};function Ct(e){switch(e){case u.OK:return g();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return g()}}function kt(e){if(void 0===e)return d("GRPC error has no .code"),u.UNKNOWN;switch(e){case wt.OK:return u.OK;case wt.CANCELLED:return u.CANCELLED;case wt.UNKNOWN:return u.UNKNOWN;case wt.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case wt.INTERNAL:return u.INTERNAL;case wt.UNAVAILABLE:return u.UNAVAILABLE;case wt.UNAUTHENTICATED:return u.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case wt.NOT_FOUND:return u.NOT_FOUND;case wt.ALREADY_EXISTS:return u.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return u.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case wt.ABORTED:return u.ABORTED;case wt.OUT_OF_RANGE:return u.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return u.UNIMPLEMENTED;case wt.DATA_LOSS:return u.DATA_LOSS;default:return g()}}(St=wt||(wt={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";var Nt=function(){function e(e,t){this.comparator=e,this.root=t||xt.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xt.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xt.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Pt(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Pt(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Pt(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Pt(this.root,e,this.comparator,!0)},e}(),Pt=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),xt=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g();if(this.right.isRed())throw g();var e=this.left.check();if(e!==this.right.check())throw g();return e+(this.isRed()?0:1)},e}();xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1,xt.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw g()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new xt(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var At=function(){function e(e){this.comparator=e,this.data=new Nt(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Ot(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Ot(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Ot=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Dt=new Nt(W.comparator);function Rt(){return Dt}var Lt=new Nt(W.comparator);function Ft(){return Lt}var Mt=new Nt(W.comparator);function Vt(){return Mt}var jt=new At(W.comparator);function Ut(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=jt,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Bt=new At(w);function qt(){return Bt}var Gt=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Kt.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(I.min(),r,qt(),Rt(),Ut())},e}(),Kt=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(R.EMPTY_BYTE_STRING,n,Ut(),Ut(),Ut())},e}(),Wt=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Ht=function(e,t){this.targetId=e,this.V=t},zt=function(e,t,n,r){void 0===n&&(n=R.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Jt=function(){function e(){this.S=0,this.D=Xt(),this.C=R.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Ut(),t=Ut(),n=Ut();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:g()}})),new Kt(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=Xt()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Qt=function(){function e(e){this.W=e,this.G=new Map,this.H=Rt(),this.J=Yt(),this.Y=new At(w)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:g()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(fe(i))if(0===n){var o=new W(i.path);this.tt(t,o,se.newNoDocument(o,I.min()))}else v(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&fe(o.target)){var a=new W(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,se.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Ut();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Gt(e,n,this.Y,this.H,r);return this.H=Rt(),this.J=Yt(),this.Y=new At(w),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Jt,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new At(w),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||f("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Jt),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Yt(){return new Nt(W.comparator)}function Xt(){return new Nt(W.comparator)}var Zt={asc:"ASCENDING",desc:"DESCENDING"},$t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},en=function(e,t){this.databaseId=e,this.I=t};function tn(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function nn(e,t){return e.I?t.toBase64():t.toUint8Array()}function rn(e,t){return tn(e,t.toTimestamp())}function on(e){return v(!!e),I.fromTimestamp(function(e){var t=F(e);return new T(t.seconds,t.nanos)}(e))}function an(e,t){return function(e){return new x(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sn(e){var t=x.fromString(e);return v(An(t)),t}function un(e,t){return an(e.databaseId,t.path)}function cn(e,t){var n=sn(t);if(n.get(1)!==e.databaseId.projectId)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(dn(n))}function ln(e,t){return an(e.databaseId,t)}function hn(e){var t=sn(e);return 4===t.length?x.emptyPath():dn(t)}function fn(e){return new x(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dn(e){return v(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pn(e,t,n){return{name:un(e,t),fields:n.toProto().mapValue.fields}}function mn(e,t,n){var r=cn(e,t.name),i=on(t.updateTime),o=new oe({mapValue:{fields:t.fields}}),a=se.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function gn(e,t){var n;if(t instanceof gt)n={update:pn(e,t.key,t.value)};else if(t instanceof Et)n={delete:un(e,t.key)};else if(t instanceof vt)n={update:pn(e,t.key,t.data),updateMask:xn(t.fieldMask)};else{if(!(t instanceof Tt))return g();n={verify:un(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ze)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $e)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tt)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rt)return{fieldPath:t.field.canonicalString(),increment:n.A};throw g()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:rn(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g()}(e,t.precondition)),n}function vn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ut.updateTime(on(e.updateTime)):void 0!==e.exists?ut.exists(e.exists):ut.none()}(t.currentDocument):ut.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)v("REQUEST_TIME"===t.setToServerValue),n=new Ze;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new $e(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new tt(i)}else"increment"in t?n=new rt(e,t.increment):g();var o=O.fromServerFormat(t.fieldPath);return new at(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=cn(e,t.update.name),o=new oe({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new D(t.map((function(e){return O.fromServerFormat(e)})))}(t.updateMask);return new vt(i,o,a,n,r)}return new gt(i,o,n,r)}if(t.delete){var s=cn(e,t.delete);return new Et(s,n)}if(t.verify){var u=cn(e,t.verify);return new Tt(u,n)}return g()}function yn(e,t){return{documents:[ln(e,t.path)]}}function bn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ln(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ln(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(re(e.value))return{unaryFilter:{field:Cn(e.field),op:"IS_NAN"}};if(ne(e.value))return{unaryFilter:{field:Cn(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(re(e.value))return{unaryFilter:{field:Cn(e.field),op:"IS_NOT_NAN"}};if(ne(e.value))return{unaryFilter:{field:Cn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cn(e.field),op:In(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Cn(e.field),direction:Tn(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||q(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Sn(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Sn(t.endAt)),n}function _n(e){var t=hn(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=wn(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Te(kn(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return q(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=En(n.startAt));var l=null;return n.endAt&&(l=En(n.endAt)),Pe(t,i,s,a,u,"F",c,l)}function wn(e){return e?void 0!==e.unaryFilter?[Pn(e)]:void 0!==e.fieldFilter?[Nn(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return wn(e)})).reduce((function(e,t){return e.concat(t)})):g():[]}function Sn(e){return{before:e.before,values:e.position}}function En(e){var t=!!e.before,n=e.values||[];return new Se(n,t)}function Tn(e){return Zt[e]}function In(e){return $t[e]}function Cn(e){return{fieldPath:e.canonicalString()}}function kn(e){return O.fromServerFormat(e.fieldPath)}function Nn(e){return de.create(kn(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(e.fieldFilter.op),e.fieldFilter.value)}function Pn(e){switch(e.unaryFilter.op){case"IS_NAN":var t=kn(e.unaryFilter.field);return de.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=kn(e.unaryFilter.field);return de.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=kn(e.unaryFilter.field);return de.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=kn(e.unaryFilter.field);return de.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function xn(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function An(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function On(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Rn(t)),t=Dn(e.get(n),t);return Rn(t)}function Dn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Rn(e){return e+""}function Ln(e){var t=e.length;if(v(t>=2),2===t)return v(""===e.charAt(0)&&""===e.charAt(1)),x.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&g(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:g()}o=a+2}return new x(r)}var Fn=function(e,t){this.seconds=e,this.nanoseconds=t},Mn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Mn.store="owner",Mn.key="owner";var Vn=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Vn.store="mutationQueues",Vn.keyPath="userId";var jn=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};jn.store="mutations",jn.keyPath="batchId",jn.userMutationsIndex="userMutationsIndex",jn.userMutationsKeyPath=["userId","batchId"];var Un=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,On(t)]},e.key=function(e,t,n){return[e,On(t),n]},e}();Un.store="documentMutations",Un.PLACEHOLDER=new Un;var Bn=function(e,t){this.path=e,this.readTime=t},qn=function(e,t){this.path=e,this.version=t},Gn=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Gn.store="remoteDocuments",Gn.readTimeIndex="readTimeIndex",Gn.readTimeIndexPath="readTime",Gn.collectionReadTimeIndex="collectionReadTimeIndex",Gn.collectionReadTimeIndexPath=["parentPath","readTime"];var Kn=function(e){this.byteSize=e};Kn.store="remoteDocumentGlobal",Kn.key="remoteDocumentGlobalKey";var Wn=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Wn.store="targets",Wn.keyPath="targetId",Wn.queryTargetsIndexName="queryTargetsIndex",Wn.queryTargetsKeyPath=["canonicalId","targetId"];var Hn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Hn.store="targetDocuments",Hn.keyPath=["targetId","path"],Hn.documentTargetsIndex="documentTargetsIndex",Hn.documentTargetsKeyPath=["path","targetId"];var zn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};zn.key="targetGlobalKey",zn.store="targetGlobal";var Jn=function(e,t){this.collectionId=e,this.parent=t};Jn.store="collectionParents",Jn.keyPath=["collectionId","parent"];var Qn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Qn.store="clientMetadata",Qn.keyPath="clientId";var Yn=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Yn.store="bundles",Yn.keyPath="bundleId";var Xn=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Xn.store="namedQueries",Xn.keyPath="name";var Zn=(0,a.ev)((0,a.ev)([],(0,a.ev)((0,a.ev)([],(0,a.ev)((0,a.ev)([],(0,a.ev)((0,a.ev)([],[Vn.store,jn.store,Un.store,Gn.store,Wn.store,Mn.store,zn.store,Hn.store]),[Qn.store])),[Kn.store])),[Jn.store])),[Yn.store,Xn.store]),$n="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",er=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),tr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},nr=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&g(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),rr=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new tr,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new ar(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=hr(t.target.error);n.ft.reject(new ar(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ar(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(f("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ur(t)},e}(),ir=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,12.2===e._t((0,r.z$)())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return f("SimpleDb","Removing database:",e),cr(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,r.z$)(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),a=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new ar(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new c(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ar(e,n))},i.onupgradeneeded=function(e){f("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){f("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o,s,u,c;return(0,a.Jh)(this,(function(l){switch(l.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,c,l,h;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:++o,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=a.sent(),t=rr.open(u.db,e,i?"readonly":"readwrite",n),s=r(t).catch((function(e){return t.abort(e),nr.reject(e)})).toPromise(),c={},s.catch((function(){})),[4,t.dt];case 3:return[2,(c.value=(a.sent(),s),c)];case 4:return l=a.sent(),h="FirebaseError"!==l.name&&o<3,f("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),or=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return cr(this.Pt.delete())},e}(),ar=function(e){function t(t,n){var r=this;return(r=e.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,a.ZT)(t,e),t}(c);function sr(e){return"IndexedDbTransactionError"===e.name}var ur=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(f("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),cr(n)},e.prototype.add=function(e){return f("SimpleDb","ADD",this.store.name,e,e),cr(this.store.add(e))},e.prototype.get=function(e){var t=this;return cr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),f("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return f("SimpleDb","DELETE",this.store.name,e),cr(this.store.delete(e))},e.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),cr(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new nr((function(n,r){t.onerror=function(e){var t=hr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new nr((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new or(i),a=t(i.primaryKey,i.value,o);if(a instanceof nr){var s=a.catch((function(e){return o.done(),nr.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return nr.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function cr(e){return new nr((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=hr(e.target.error);n(t)}}))}var lr=!1;function hr(e){var t=ir._t((0,r.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new c("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return lr||(lr=!0,setTimeout((function(){throw i}),0)),i}}return e}var fr=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,a.ZT)(t,e),t}(er);function dr(e,t){var n=y(e);return ir.It(n.Mt,t)}var pr=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ht(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&ft(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&ft(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(I.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ut())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&S(this.mutations,e.mutations,(function(e,t){return pt(e,t)}))&&S(this.baseMutations,e.baseMutations,(function(e,t){return pt(e,t)}))},e}(),mr=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){v(t.mutations.length===r.length);for(var i=Vt(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),gr=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=I.min()),void 0===o&&(o=I.min()),void 0===a&&(a=R.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),vr=function(e){this.Lt=e};function yr(e,t){if(t.document)return mn(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=W.fromSegments(t.noDocument.path),r=Er(t.noDocument.readTime),i=se.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=W.fromSegments(t.unknownDocument.path);return r=Er(t.unknownDocument.version),se.newUnknownDocument(o,r)}return g()}function br(e,t,n){var r=_r(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:un(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:tn(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Gn(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Sr(t.version);return a=t.hasCommittedMutations,new Gn(null,new Bn(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Sr(t.version);return new Gn(new qn(c,l),null,null,!0,r,i)}return g()}function _r(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wr(e){var t=new T(e[0],e[1]);return I.fromTimestamp(t)}function Sr(e){var t=e.toTimestamp();return new Fn(t.seconds,t.nanoseconds)}function Er(e){var t=new T(e.seconds,e.nanoseconds);return I.fromTimestamp(t)}function Tr(e,t){for(var n=(t.baseMutations||[]).map((function(t){return vn(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return vn(e.Lt,t)})),s=T.fromMillis(t.localWriteTimeMs);return new pr(t.batchId,s,n,a)}function Ir(e){var t,n,r=Er(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Er(e.lastLimboFreeSnapshotVersion):I.min();return void 0!==e.query.documents?(v(1===(n=e.query).documents.length),t=Me(xe(hn(n.documents[0])))):t=function(e){return Me(_n(e))}(e.query),new gr(t,e.targetId,0,e.lastListenSequenceNumber,r,i,R.fromBase64String(e.resumeToken))}function Cr(e,t){var n,r=Sr(t.snapshotVersion),i=Sr(t.lastLimboFreeSnapshotVersion);n=fe(t.target)?yn(e.Lt,t.target):bn(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Wn(t.targetId,le(t.target),r,o,t.sequenceNumber,i,n)}function kr(e){var t=_n({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ve(t,t.limit,"L"):t}var Nr=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Pr(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Er(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Pr(e).put({bundleId:(n=t).id,createTime:Sr(on(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return xr(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:kr(t.bundledQuery),readTime:Er(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return xr(e).put(function(e){return{name:e.name,readTime:Sr(on(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Pr(e){return dr(e,Yn.store)}function xr(e){return dr(e,Xn.store)}var Ar=function(){function e(){this.Bt=new Or}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),nr.resolve()},e.prototype.getCollectionParents=function(e,t){return nr.resolve(this.Bt.getEntries(t))},e}(),Or=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new At(x.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new At(x.comparator)).toArray()},e}(),Dr=function(){function e(){this.qt=new Or}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:On(i)};return Rr(e).put(o)}return nr.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[E(t),""],!1,!0);return Rr(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ln(o.parent))}return n}))},e}();function Rr(e){return dr(e,Jn.store)}var Lr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Mr(e,t,n){var r=e.store(jn.store),i=e.store(Un.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){v(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Un.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return nr.waitFor(o).next((function(){return c}))}function Vr(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw g();t=e.noDocument}return JSON.stringify(t).length}Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(41943040,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);var jr=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return v(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Br(e).Ot({index:jn.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=qr(e),a=Br(e);return a.add({}).next((function(s){v("number"==typeof s);for(var u=new pr(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return gn(e.Lt,t)})),i=n.mutations.map((function(t){return gn(e.Lt,t)}));return new jn(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new At((function(e,t){return w(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=Un.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,Un.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),nr.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Br(e).get(t).next((function(e){return e?(v(e.userId===n.userId),Tr(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?nr.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Br(e).Ot({index:jn.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(v(t.batchId>=r),o=Tr(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Br(e).Ot({index:jn.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Br(e).Nt(jn.userMutationsIndex,n).next((function(e){return e.map((function(e){return Tr(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Un.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return qr(e).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Ln(u);if(s===n.userId&&t.path.isEqual(l))return Br(e).get(c).next((function(e){if(!e)throw g();v(e.userId===n.userId),o.push(Tr(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new At(w),i=[];return t.forEach((function(t){var o=Un.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=qr(e).Ot({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Ln(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),nr.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Un.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new At(w);return qr(e).Ot({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Ln(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Br(e).get(t).next((function(e){if(null===e)throw g();v(e.userId===n.userId),r.push(Tr(n.R,e))})))})),nr.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Mr(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),nr.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return nr.resolve();var r=IDBKeyRange.lowerBound(Un.prefixForUser(t.userId)),i=[];return qr(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Ln(e[1]);i.push(o)}else r.done()})).next((function(){v(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Ur(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Gr(e).get(this.userId).next((function(e){return e||new Vn(t.userId,-1,"")}))},e}();function Ur(e,t,n){var r=Un.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return qr(e).Ot({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Br(e){return dr(e,jn.store)}function qr(e){return dr(e,Un.store)}function Gr(e){return dr(e,Vn.store)}var Kr=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Wr=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Kr(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return I.fromTimestamp(new T(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Hr(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return v(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Hr(e).Ot((function(a,s){var u=Ir(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return nr.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Hr(e).Ot((function(e,n){var r=Ir(n);t(r)}))},e.prototype.Xt=function(e){return zr(e).get(zn.key).next((function(e){return v(null!==e),e}))},e.prototype.Zt=function(e,t){return zr(e).put(zn.key,t)},e.prototype.te=function(e,t){return Hr(e).put(Cr(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=le(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Hr(e).Ot({range:r,index:Wn.queryTargetsIndexName},(function(e,n,r){var o=Ir(n);he(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Jr(e);return t.forEach((function(t){var a=On(t.path);i.push(o.put(new Hn(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),nr.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Jr(e);return nr.forEach(t,(function(t){var o=On(t.path);return nr.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Jr(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Jr(e),i=Ut();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=Ln(e[1]),o=new W(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=On(t.path),r=IDBKeyRange.bound([n],[E(n)],!1,!0),i=0;return Jr(e).Ot({index:Hn.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Hr(e).get(t).next((function(e){return e?Ir(e):null}))},e}();function Hr(e){return dr(e,Wn.store)}function zr(e){return dr(e,zn.store)}function Jr(e){return dr(e,Hn.store)}function Qr(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){if(e.code!==u.FAILED_PRECONDITION||e.message!==$n)throw e;return f("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Yr(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=w(n,i);return 0===a?w(r,o):a}var Xr=function(){function e(e){this.ne=e,this.buffer=new At(Yr),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Yr(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Zr=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,a.mG)(t,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return sr(t=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Qr(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),$r=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return nr.resolve(s.o);var r=new Xr(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; disabled"),nr.resolve(Lr)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Lr):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,o,a,s,u,c,l=this,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return o=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),h()<=i.in.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-d)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-d)+"ms"),nr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})}))},e}(),ei=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new $r(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return ti(e,n)},e.prototype.removeReference=function(e,t,n){return ti(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return ti(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Gr(e).$t((function(r){return Ur(e,r,t).next((function(e){return e&&(n=!0),nr.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Jr(e).delete([0,On(a.path)])}))}));i.push(u)}})).next((function(){return nr.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return ti(e,t)},e.prototype.we=function(e,t){var n,r=Jr(e),i=s.o;return r.Ot({index:Hn.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),u=r.sequenceNumber;0===o?(i!==s.o&&t(new W(Ln(n)),i),i=u,n=a):i=s.o})).next((function(){i!==s.o&&t(new W(Ln(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function ti(e,t){return Jr(e).put(function(e,t){return new Hn(0,On(e.path),t)}(t,e.currentSequenceNumber))}var ni=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){k(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return N(this.inner)},e}(),ri=function(){function e(){this.changes=new ni((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:I.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:se.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?nr.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),ii=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return si(e).put(ui(t),n)},e.prototype.removeEntry=function(e,t){var n=si(e),r=ui(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return si(e).get(ui(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return si(e).get(ui(t)).next((function(e){return{document:n.ye(t,e),size:Vr(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Rt();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Rt(),i=new Nt(W.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Vr(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return nr.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return si(e).Ot({range:r},(function(e,t,r){for(var a=W.fromSegments(e);o&&W.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Rt(),o=t.path.length+1,a={};if(n.isEqual(I.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=_r(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Gn.collectionReadTimeIndex}return si(e).Ot(a,(function(e,n,a){if(e.length===o){var s=yr(r.R,n);t.path.isPrefixOf(s.key.path)?qe(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new oi(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return ai(e).get(Kn.key).next((function(e){return v(!!e),e}))},e.prototype.me=function(e,t){return ai(e).put(Kn.key,t)},e.prototype.ye=function(e,t){if(t){var n=yr(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(I.min()))return n}return se.newInvalidDocument(e)},e}(),oi=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new ni((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,a.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new At((function(e,t){return w(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=br(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Vr(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=br(t.Ie.R,se.newNoDocument(o,I.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),nr.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(ri);function ai(e){return dr(e,Kn.store)}function si(e){return dr(e,Gn.store)}function ui(e){return e.path.toArray()}var ci=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;v(n<r&&n>=0&&r<=11);var o=new rr("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Mn.store)}(e),function(e){e.createObjectStore(Vn.store,{keyPath:Vn.keyPath}),e.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Un.store)}(e),li(e),function(e){e.createObjectStore(Gn.store)}(e));var a=nr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Hn.store),e.deleteObjectStore(Wn.store),e.deleteObjectStore(zn.store)}(e),li(e)),a=a.next((function(){return function(e){var t=e.store(zn.store),n=new zn(0,0,I.min().toTimestamp(),0);return t.put(zn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(jn.store).Nt().next((function(n){e.deleteObjectStore(jn.store),e.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0});var r=t.store(jn.store),i=n.map((function(e){return r.put(e)}));return nr.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Qn.store,{keyPath:Qn.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Kn.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Gn.store);t.createIndex(Gn.readTimeIndex,Gn.readTimeIndexPath,{unique:!1}),t.createIndex(Gn.collectionReadTimeIndex,Gn.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Yn.store,{keyPath:Yn.keyPath})}(e),function(e){e.createObjectStore(Xn.store,{keyPath:Xn.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Gn.store).Ot((function(e,n){t+=Vr(n)})).next((function(){var n=new Kn(t);return e.store(Kn.store).put(Kn.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Vn.store),r=e.store(jn.store);return n.Nt().next((function(n){return nr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(jn.userMutationsIndex,i).next((function(r){return nr.forEach(r,(function(r){v(r.userId===n.userId);var i=Tr(t.R,r);return Mr(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Hn.store),n=e.store(Gn.store);return e.store(zn.store).get(zn.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new x(n),a=function(e){return[0,On(e)]}(o);r.push(t.get(a).next((function(n){return n?nr.resolve():function(n){return t.put(new Hn(0,On(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return nr.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Jn.store,{keyPath:Jn.keyPath});var n=t.store(Jn.store),r=new Or,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:On(i)})}};return t.store(Gn.store).Ot({kt:!0},(function(e,t){var n=new x(e);return i(n.popLast())})).next((function(){return t.store(Un.store).Ot({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Ln(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Wn.store);return n.Ot((function(e,r){var i=Ir(r),o=Cr(t.R,i);return n.put(o)}))},e}();function li(e){e.createObjectStore(Hn.store,{keyPath:Hn.keyPath}).createIndex(Hn.documentTargetsIndex,Hn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Wn.store,{keyPath:Wn.keyPath}).createIndex(Wn.queryTargetsIndexName,Wn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(zn.store)}var hi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fi=function(){function e(t,n,r,i,o,a,s,l,h,f){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=h,this.Ce=f,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new c(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ei(this,i),this.Le=n+"main",this.R=new vr(l),this.Be=new ir(this.Le,11,new ci(this.R)),this.qe=new Wr(this.referenceDelegate,this.R),this.Ut=new Dr,this.Ue=function(e,t){return new ii(e,t)}(this.R,this.Ut),this.Qe=new Nr,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===f&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,hi);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new s(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,a.mG)(t,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,a.mG)(t,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,a.mG)(t,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return pi(t).put(new Qn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(sr(t))return f("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return di(e).get(Mn.key).next((function(e){return nr.resolve(t.tn(e))}))},e.prototype.en=function(e){return pi(e).delete(this.clientId)},e.prototype.nn=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=dr(e,Qn.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return nr.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?nr.resolve(!0):di(e).get(Mn.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,hi);return!1}}return!(!t.networkEnabled||!t.inForeground)||pi(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&f("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e=this;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Mn.store,Qn.store],(function(t){var n=new fr(t,s.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return pi(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return jr.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;f("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Zn,(function(o){return i=new fr(o,r.Ne?r.Ne.next():s.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw d("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new c(u.FAILED_PRECONDITION,$n);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return di(e).get(Mn.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new c(u.FAILED_PRECONDITION,hi)}))},e.prototype.Ze=function(e){var t=new Mn(this.clientId,this.allowTabSynchronization,Date.now());return di(e).put(Mn.key,t)},e.yt=function(){return ir.yt()},e.prototype.Xe=function(e){var t=this,n=di(e);return n.get(Mn.key).next((function(e){return t.tn(e)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(Mn.key)):nr.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(d("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return f("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return d("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){d("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function di(e){return dr(e,Mn.store)}function pi(e){return dr(e,Qn.store)}function mi(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var gi=function(e,t){this.progress=e,this.wn=t},vi=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return W.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Le(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new W(t)).next((function(e){var t=Ft();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Ft();return this.Ut.getCollectionParents(e,i).next((function(a){return nr.forEach(a,(function(a){var s=function(e,t){return new Ne(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=se.newInvalidDocument(c),r=r.insert(c,l)),ft(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){qe(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Ut(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof vt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),yi=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ut(),i=Ut(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),bi=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var o=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(I.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(a){var s=o.Cn(t,a);return(Ae(t)||Oe(t))&&o.Nn(t.limitType,s,r,n)?o.Dn(e,t):(h()<=i.in.DEBUG&&f("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Be(t)),o.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new At(Ge(e));return t.forEach((function(t,r){qe(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return h()<=i.in.DEBUG&&f("QueryEngine","Using full collection scan to execute query:",Be(t)),this.Sn.getDocumentsMatchingQuery(e,t,I.min())},e}(),_i=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Nt(w),this.kn=new ni((function(e){return le(e)}),he),this.On=I.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new vi(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function wi(e,t,n,r){return new _i(e,t,n,r)}function Si(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=y(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new vi(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Ut(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var g=0,v=m.mutations;g<v.length;g++){var y=v[g];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Ei(e,t){var n=y(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=nr.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);v(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Ti(e){var t=y(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Ii(e,t){var n=y(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return v(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Rt();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Ci(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(I.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return nr.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function Ci(e,t,n,r,i){var o=Ut();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Rt();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(I.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):f("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function ki(e,t){var n=y(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Ni(e,t){var n=y(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,nr.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new gr(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Pi(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:r=y(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!sr(s=a.sent()))throw s;return f("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function xi(e,t,n){var r=y(e),i=I.min(),o=Ut();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=y(e),i=r.kn.get(n);return void 0!==i?nr.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Me(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:I.min(),n?o:Ut())})).next((function(e){return{documents:e,Bn:o}}))}))}function Ai(e,t){var n=y(e),r=y(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Oi(e){var t=y(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=y(e),i=Rt(),o=_r(n),a=si(t),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Gn.readTimeIndex,range:s},(function(e,t){var n=yr(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:wr(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn,r=e.readTime;return t.On=r,n}))}function Di(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){return[2,(t=y(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=si(e),n=I.min();return t.Ot({index:Gn.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=wr(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function Ri(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o,s,u,c,l,h,f,d,p;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:for(i=y(e),o=Ut(),s=Rt(),u=Vt(),c=0,l=n;c<l.length;c++)h=l[c],f=t.qn(h.metadata.name),h.document&&(o=o.add(f)),s=s.insert(f,t.Un(h)),u=u.insert(f,t.Qn(h.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Ni(i,function(e){return Me(xe(x.fromString("__bundle__/docs/"+e)))}(r))];case 1:return p=a.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ci(e,d,s,I.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return i.qe.addMatchingKeys(e,o,p.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Li(e,t,n){return void 0===n&&(n=Ut()),(0,a.mG)(this,void 0,void 0,(function(){var r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return[4,Ni(e,Me(kr(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=y(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=on(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(R.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var Fi=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return nr.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:on(n.createTime)}),nr.resolve()},e.prototype.getNamedQuery=function(e,t){return nr.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:kr(e.bundledQuery),readTime:on(e.readTime)}}(t)),nr.resolve()},e}(),Mi=function(){function e(){this.Wn=new At(Vi.Gn),this.zn=new At(Vi.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Vi(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Vi(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new W(new x([])),r=new Vi(n,e),i=new Vi(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new W(new x([])),n=new Vi(t,e),r=new Vi(t,e+1),i=Ut();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Vi(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Vi=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return W.comparator(e.key,t.key)||w(e.ns,t.ns)},e.Hn=function(e,t){return w(e.ns,t.ns)||W.comparator(e.key,t.key)},e}(),ji=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new At(Vi.Gn)}return e.prototype.checkEmpty=function(e){return nr.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new pr(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Vi(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return nr.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return nr.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return nr.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return nr.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return nr.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Vi(t,0),i=new Vi(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),nr.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new At(w);return t.forEach((function(e){var t=new Vi(e,0),i=new Vi(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),nr.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;W.isDocumentKey(i)||(i=i.child(""));var o=new Vi(new W(i),0),a=new At(w);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),nr.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;v(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return nr.forEach(t.mutations,(function(i){var o=new Vi(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Vi(t,0),r=this.rs.firstAfterOrEqual(n);return nr.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,nr.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Ui=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Nt(W.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return nr.resolve(n?n.document.clone():se.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Rt();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():se.newInvalidDocument(e))})),nr.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Rt(),i=new W(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||qe(t,c)&&(r=r.insert(c.key,c.clone()))}return nr.resolve(r)},e.prototype.fs=function(e,t){return nr.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Bi(this)},e.prototype.getSize=function(e){return nr.resolve(this.size)},e}(),Bi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,a.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),nr.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(ri),qi=function(){function e(e){this.persistence=e,this.ds=new ni((function(e){return le(e)}),he),this.lastRemoteSnapshotVersion=I.min(),this.highestTargetId=0,this.ws=0,this._s=new Mi,this.targetCount=0,this.ys=Kr.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),nr.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return nr.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return nr.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),nr.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),nr.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Kr(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,nr.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),nr.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,nr.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),nr.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return nr.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return nr.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),nr.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),nr.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),nr.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return nr.resolve(n)},e.prototype.containsKey=function(e,t){return nr.resolve(this._s.containsKey(t))},e}(),Gi=function(){function e(e,t){var n=this;this.gs={},this.Ne=new s(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new qi(this),this.Ut=new Ar,this.Ue=function(e,t){return new Ui(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new vr(t),this.Qe=new Fi(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new ji(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;f("MemoryPersistence","Starting transaction:",e);var i=new Ki(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return nr.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Ki=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,a.ZT)(t,e),t}(er),Wi=function(){function e(e){this.persistence=e,this.As=new Mi,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw g()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),nr.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),nr.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),nr.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nr.forEach(this.vs,(function(r){var i=W.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return nr.or([function(){return nr.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Hi=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function zi(e,t){return"firestore_clients_"+e+"_"+t}function Ji(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Qi(e,t){return"firestore_targets_"+e+"_"+t}Hi.UNAUTHENTICATED=new Hi(null),Hi.GOOGLE_CREDENTIALS=new Hi("google-credentials-uid"),Hi.FIRST_PARTY=new Hi("first-party-uid");var Yi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new c(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Xi=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new c(i.error.code,i.error.message)),o?new e(t,i.state,r):(d("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Zi=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=qt(),a=0;i&&a<r.activeTargetIds.length;++a)i=K(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(d("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),$i=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+t),null)},e}(),eo=function(){function e(){this.activeTargetIds=qt()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),to=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Nt(w),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=zi(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new eo),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,u,c,l,h,f=this;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=a.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(zi(this.persistenceKey,r)))&&(o=Zi.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.Os;c<l.length;c++)h=l[c],this.Fs(h);return this.Os=[],this.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Qi(this.persistenceKey,e));if(n){var r=Xi.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Qi(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return f("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){f("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){f("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,a.mG)(t,void 0,void 0,(function(){var e,t,r,i,o,u;return(0,a.Jh)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(u=function(e){var t=s.o;if(null!=e)try{var n=JSON.parse(e);v("number"==typeof n),t=n}catch(e){d("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==s.o&&this.sequenceNumberHandler(u);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Yi(this.currentUser,e,t,n),i=Ji(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Ji(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Qi(this.persistenceKey,e),i=new Xi(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Zi.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Yi.Vs(new Hi(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Xi.Vs(r,t)},e.prototype.js=function(e){return $i.Vs(e)},e.prototype.ii=function(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=qt();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),no=function(){function e(){this.li=new eo,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new eo,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),ro=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),io=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),oo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ao=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),so=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return(0,a.ZT)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,a){var s=new o.JJ;s.listenOnce(o.tw.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case o.jK.NO_ERROR:var t=s.getResponseJson();f("Connection","XHR received:",JSON.stringify(t)),i(t);break;case o.jK.TIMEOUT:f("Connection",'RPC "'+e+'" timed out'),a(new c(u.DEADLINE_EXCEEDED,"Request time out"));break;case o.jK.HTTP_ERROR:var n=s.getStatus();if(f("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(t)>=0?t:u.UNKNOWN}(r.status);a(new c(l,r.message))}else a(new c(u.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new c(u.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{f("Connection",'RPC "'+e+'" completed.')}}));var l=JSON.stringify(r);s.send(t,"POST",l,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=(0,o.UE)(),a=(0,o.FJ)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,t),(0,r.uI)()||(0,r.b$)()||(0,r.d)()||(0,r.w1)()||(0,r.Mn)()||(0,r.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");f("Connection","Creating WebChannel: "+l,s);var h=i.createWebChannel(l,s),d=!1,m=!1,g=new ao({Ei:function(e){m?f("Connection","Not sending because WebChannel is closed:",e):(d||(f("Connection","Opening WebChannel transport."),h.open(),d=!0),f("Connection","WebChannel sending:",e),h.send(e))},Ti:function(){return h.close()}}),y=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return y(h,o.ii.EventType.OPEN,(function(){m||f("Connection","WebChannel transport opened.")})),y(h,o.ii.EventType.CLOSE,(function(){m||(m=!0,f("Connection","WebChannel transport closed"),g.Vi())})),y(h,o.ii.EventType.ERROR,(function(e){m||(m=!0,p("Connection","WebChannel transport errored:",e),g.Vi(new c(u.UNAVAILABLE,"The operation could not be completed")))})),y(h,o.ii.EventType.MESSAGE,(function(e){var t;if(!m){var n=e.data[0];v(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){f("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=wt[e];if(void 0!==t)return kt(t)}(o),s=i.message;void 0===a&&(a=u.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),m=!0,g.Vi(new c(a,s)),h.close()}else f("Connection","WebChannel received:",n),g.Si(n)}})),y(a,o.ju.STAT_EVENT,(function(e){e.stat===o.kN.PROXY?f("Connection","Detected buffering proxy"):e.stat===o.kN.NOPROXY&&f("Connection","Detected no buffering proxy")})),setTimeout((function(){g.Pi()}),0),g},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);f("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return f("RestConnection","Received: ",e),e}),(function(t){throw p("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.3.2",e["X-Firebase-GMPID"]=this.databaseInfo.appId,e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=oo[e];return this.Di+"/v1/"+t+":"+n},e}());function uo(){return"undefined"!=typeof window?window:null}function co(){return"undefined"!=typeof document?document:null}function lo(e){return new en(e,!0)}var ho=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),fo=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ho(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===u.RESOURCE_EXHAUSTED?(d(t.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new c(u.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,a.mG)(e,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return f("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),po=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,a.ZT)(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:g()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(v(void 0===t||"string"==typeof t),R.fromBase64String(t||"")):(v(void 0===t||t instanceof Uint8Array),R.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?u.UNKNOWN:kt(e.code);return new c(t,e.message||"")}(s);n=new zt(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=cn(e,r.document.name),o=on(r.document.updateTime);var s=new oe({mapValue:{fields:r.document.fields}}),l=(a=se.newFoundDocument(i,o,s),r.targetIds||[]),h=r.removedTargetIds||[];n=new Wt(l,h,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=cn(e,r.document),o=r.readTime?on(r.readTime):I.min(),s=se.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Wt([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=cn(e,r.document),o=r.removedTargetIds||[],n=new Wt([],o,i,null);else{if(!("filter"in t))return g();t.filter;var f=t.filter;f.targetId,r=f.count||0,i=new It(r),o=f.targetId,n=new Ht(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return I.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?I.min():t.readTime?on(t.readTime):I.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=fn(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=fe(r)?{documents:yn(e,r)}:{query:bn(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=nn(e,t.resumeToken):t.snapshotVersion.compareTo(I.min())>0&&(n.readTime=tn(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=fn(this.R),t.removeTarget=e,this.cr(t)},t}(fo),mo=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(v(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(v(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?on(e.updateTime):on(t);return n.isEqual(I.min())&&(n=on(t)),new st(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=on(e.commitTime);return this.listener.Tr(n,t)}return v(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=fn(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return gn(t.R,e)}))};this.cr(n)},t}(fo),go=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,a.ZT)(t,e),t.prototype.br=function(){if(this.Rr)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.terminate=function(){this.Rr=!1},t}((function(){})),vo=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(d(t),this.Vr=!1):f("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),yo=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,a.mG)(o,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return ko(this)?(f("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return(t=y(e)).$r.add(4),[4,_o(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,bo(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new vo(n,r)};function bo(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:if(!ko(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function _o(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function wo(e,t){var n=y(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Co(n)?Io(n):qo(n).er()&&Eo(n,t))}function So(e,t){var n=y(e),r=qo(n);n.Or.delete(t),r.er()&&To(n,t),0===n.Or.size&&(r.er()?r.ir():ko(n)&&n.Br.set("Unknown"))}function Eo(e,t){e.qr.U(t.targetId),qo(e).mr(t)}function To(e,t){e.qr.U(t),qo(e).yr(t)}function Io(e){e.qr=new Qt({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),qo(e).start(),e.Br.Sr()}function Co(e){return ko(e)&&!qo(e).tr()&&e.Or.size>0}function ko(e){return 0===y(e).$r.size}function No(e){e.qr=void 0}function Po(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){return e.Or.forEach((function(t,n){Eo(e,t)})),[2]}))}))}function xo(e,t){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){return No(e),Co(e)?(e.Br.Nr(t),Io(e)):e.Br.set("Unknown"),[2]}))}))}function Ao(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,a.Jh)(this,(function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof zt&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),f("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Oo(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Wt?e.qr.X(t):t instanceof Ht?e.qr.rt(t):e.qr.et(t),n.isEqual(I.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Ti(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(R.EMPTY_BYTE_STRING,n.snapshotVersion)),To(e,t);var r=new gr(n.target,t,1,n.sequenceNumber);Eo(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Oo(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Oo(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r=this;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:if(!sr(t))throw t;return e.$r.add(1),[4,_o(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Ti(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,a.mG)(r,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,bo(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Do(e,t){return t().catch((function(n){return Oo(e,n,t)}))}function Ro(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:t=y(e),n=Go(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return ko(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,ki(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Go(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Oo(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Lo(t)&&Fo(t),[2]}}))}))}function Lo(e){return ko(e)&&!Go(e).tr()&&e.kr.length>0}function Fo(e){Go(e).start()}function Mo(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){return Go(e).Ar(),[2]}))}))}function Vo(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.Jh)(this,(function(o){for(t=Go(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function jo(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=mr.from(r,t,n),[4,Do(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Ro(e)];case 2:return o.sent(),[2]}}))}))}function Uo(e,t){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t&&Go(e).pr?[4,function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return Ct(r=t.code)&&r!==u.ABORTED?(n=e.kr.shift(),Go(e).sr(),[4,Do(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Ro(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Lo(e)&&Fo(e),[2]}}))}))}function Bo(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return n=y(e),t?(n.$r.delete(2),[4,bo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,_o(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function qo(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=y(e);return r.br(),new po(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Po.bind(null,e),Ri:xo.bind(null,e),_r:Ao.bind(null,e)}),e.Mr.push((function(n){return(0,a.mG)(t,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Co(e)?Io(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),No(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Go(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=y(e);return r.br(),new mo(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Mo.bind(null,e),Ri:Uo.bind(null,e),Ir:Vo.bind(null,e),Tr:jo.bind(null,e)}),e.Mr.push((function(n){return(0,a.mG)(t,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,Ro(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(f("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var Ko=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new c(u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Wo(e,t){if(d("AsyncQueue",t+": "+e),sr(e))return new c(u.UNAVAILABLE,t+": "+e);throw e}var Ho=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||W.comparator(t.key,n.key)}:function(e,t){return W.comparator(e.key,t.key)},this.keyedMap=Ft(),this.sortedSet=new Nt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),zo=function(){function e(){this.Kr=new Nt(W.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):g():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Jo=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Ho.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&je(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Qo=function(){this.Wr=void 0,this.listeners=[]},Yo=function(){this.queries=new ni((function(e){return Ue(e)}),je),this.onlineState="Unknown",this.Gr=new Set};function Xo(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(n=y(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Qo),!i)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=a.sent(),[3,4];case 3:return u=a.sent(),c=Wo(u,"Initialization of query '"+Be(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&ta(n),[2]}}))}))}function Zo(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s;return(0,a.Jh)(this,(function(a){return n=y(e),r=t.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function $o(e,t){for(var n=y(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&ta(n)}function ea(e,t,n){var r=y(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function ta(e){e.Gr.forEach((function(e){e.next()}))}var na=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Jo(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),ra=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),ia=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return cn(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?mn(this.R,e.document,!1):se.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return on(e)},e}(),oa=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=aa(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new ia(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Ut()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return[4,Ri(this.localStore,new ia(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Li(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new gi(Object.assign({},this.progress),e))]}}))}))},e}();function aa(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var sa=function(e){this.key=e},ua=function(e){this.key=e},ca=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ut(),this.mutatedKeys=Ut(),this.lo=Ge(e),this.fo=new Ho(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new zo,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ae(this.query)&&i.size===this.query.limit?i.last():null,c=Oe(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=qe(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Ae(this.query)||Oe(this.query))for(;a.size>this.query.limit;){var l=Ae(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Jo(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new zo,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ut(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new ua(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new sa(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ut();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Jo.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),la=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ha=function(e){this.key=e,this.bo=!1},fa=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ni((function(e){return Ue(e)}),je),this.Vo=new Map,this.So=new Set,this.Do=new Nt(W.comparator),this.Co=new Map,this.No=new Mi,this.xo={},this.Fo=new Map,this.ko=Kr.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function da(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=qa(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Ni(n.localStore,Me(t))];case 2:return s=a.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,pa(n,t,r,"current"===u)];case 3:i=a.sent(),n.isPrimaryClient&&wo(n.remoteStore,s),a.label=4;case 4:return[2,i]}}))}))}function pa(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o,s,u,c,l;return(0,a.Jh)(this,(function(h){switch(h.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return(i=t.view._o(n)).Nn?[4,xi(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(ka(e,t.targetId,s.To),s.snapshot)]}}))}))}(e,t,n,r)},[4,xi(e.localStore,t,!0)];case 1:return i=h.sent(),o=new ca(t,i.Bn),s=o._o(i.documents),u=Kt.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=o.applyChanges(s,e.isPrimaryClient,u),ka(e,n,c.To),l=new la(t,n,o),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}}))}))}function ma(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return n=y(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!je(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Pi(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),So(n.remoteStore,r.targetId),Ia(n,r.targetId)})).catch(Qr)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ia(n,r.targetId),[4,Pi(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ga(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:r=Ga(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(e,t){var n,r=y(e),i=T.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ut());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=dt(c,n.get(c.key));null!=l&&a.push(new vt(c.key,l,ae(l.toProto().mapValue),ut.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Nt(w)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,xa(r,i.changes)];case 3:return a.sent(),[4,Ro(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Wo(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function va(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:n=y(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ii(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(v(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?v(r.bo):e.removedDocuments.size>0&&(v(r.bo),r.bo=!1))})),[4,xa(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Qr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function ya(e,t,n){var r=y(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=y(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&ta(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ba(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s,u,c;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return(r=y(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new Nt(W.comparator)).insert(o,se.newNoDocument(o,I.min())),u=Ut().add(o),c=new Gt(I.min(),new Map,new At(w),s,u),[4,va(r,c)]):[3,2];case 1:return a.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Pa(r),[3,4];case 2:return[4,Pi(r.localStore,t,!1).then((function(){return Ia(r,t,n)})).catch(Qr)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))}function _a(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:n=y(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ei(n.localStore,t)];case 2:return i=o.sent(),Ta(n,r,null),Ea(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,xa(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Qr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function wa(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:r=y(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=y(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return v(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Ta(r,t,n),Ea(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,xa(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Qr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Sa(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:ko((n=y(e)).remoteStore)||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(e){var t=y(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Wo(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}function Ea(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Ta(e,t,n){var r=y(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Ia(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Ca(e,t)}))}function Ca(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(So(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Pa(e))}function ka(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof sa?(e.No.addReference(o.key,t),Na(e,o)):o instanceof ua?(f("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Ca(e,o.key)):g()}}function Na(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(f("SyncEngine","New document in limbo: "+n),e.So.add(r),Pa(e))}function Pa(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new W(x.fromString(t)),r=e.ko.next();e.Co.set(r,new ha(n)),e.Do=e.Do.insert(n,r),wo(e.remoteStore,new gr(Me(xe(n.path)),r,2,s.o))}}function xa(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s;return(0,a.Jh)(this,(function(u){switch(u.label){case 0:return r=y(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,a){s.push(r.$o(a,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=yi.Pn(a.targetId,e);o.push(t)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(i),[4,function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c,l,h;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:n=y(e),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return nr.forEach(t,(function(t){return nr.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return nr.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return a.sent(),[3,4];case 3:if(!sr(r=a.sent()))throw r;return f("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=o[i],u=s.targetId,s.fromCache||(c=n.Fn.get(u),l=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(l),n.Fn=n.Fn.insert(u,h));return[2]}}))}))}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Aa(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return(n=y(e)).currentUser.isEqual(t)?[3,3]:(f("SyncEngine","User change. New user:",t.toKey()),[4,Si(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new c(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,xa(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Oa(e,t){var n=y(e),r=n.Co.get(t);if(r&&r.bo)return Ut().add(r.key);var i=Ut(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Da(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return[4,xi((n=y(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&ka(n,t.targetId,i.To),i)]}}))}))}function Ra(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){return[2,Oi((t=y(e)).localStore).then((function(e){return xa(t,e)}))]}))}))}function La(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=y(e),r=y(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):nr.resolve(null)}))}))}((i=y(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ro(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ta(i,t,r||null),Ea(i,t),function(e,t){y(y(e)._n).Gt(t)}(i.localStore,t)):g(),a.label=4;case 4:return[4,xa(i,o)];case 5:return a.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Fa(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return qa(n=y(e)),Ga(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ma(n,r.toArray())]);case 1:return i=a.sent(),n.Oo=!0,[4,Bo(n.remoteStore,!0)];case 2:for(a.sent(),o=0,s=i;o<s.length;o++)u=s[o],wo(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Ia(n,t),Pi(n.localStore,t,!0)})),So(n.remoteStore,t)})),[4,l]);case 4:return a.sent(),[4,Ma(n,c)];case 5:return a.sent(),function(e){var t=y(e);t.Co.forEach((function(e,n){So(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Nt(W.comparator)}(n),n.Oo=!1,[4,Bo(n.remoteStore,!1)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))}function Ma(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c,l,h,f,d,p,m,g;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:n=y(e),r=[],i=[],o=0,s=t,a.label=1;case 1:return o<s.length?(u=s[o],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,Ni(n.localStore,Me(l[0]))]:[3,7]):[3,13];case 2:c=a.sent(),h=0,f=l,a.label=3;case 3:return h<f.length?(d=f[h],p=n.Po.get(d),[4,Da(n,p)]):[3,6];case 4:(m=a.sent()).snapshot&&i.push(m.snapshot),a.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ai(n.localStore,u)];case 8:return g=a.sent(),[4,Ni(n.localStore,g)];case 9:return c=a.sent(),[4,pa(n,Va(g),u,!1)];case 10:a.sent(),a.label=11;case 11:r.push(c),a.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Va(e){return Pe(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ja(e){var t=y(e);return y(y(t.localStore).persistence).fn()}function Ua(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return(i=y(e)).Oo?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Oi(i.localStore)];case 3:return o=a.sent(),s=Gt.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,xa(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Pi(i.localStore,t,!0)];case 6:return a.sent(),Ia(i,t,r),[3,8];case 7:g(),a.label=8;case 8:return[2]}}))}))}function Ba(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s,u,c,l,h,d,p;return(0,a.Jh)(this,(function(m){switch(m.label){case 0:if(!(r=qa(e)).Oo)return[3,10];i=0,o=t,m.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(f("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ai(r.localStore,s)]):[3,6];case 2:return u=m.sent(),[4,Ni(r.localStore,u)];case 3:return c=m.sent(),[4,pa(r,Va(u),c.targetId,!1)];case 4:m.sent(),wo(r.remoteStore,c),m.label=5;case 5:return i++,[3,1];case 6:l=function(e){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Pi(r.localStore,e,!1).then((function(){So(r.remoteStore,e),Ia(r,e)})).catch(Qr)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},h=0,d=n,m.label=7;case 7:return h<d.length?(p=d[h],[5,l(p)]):[3,10];case 8:m.sent(),m.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function qa(e){var t=y(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=va.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oa.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ba.bind(null,t),t.vo._r=$o.bind(null,t.eventManager),t.vo.Mo=ea.bind(null,t.eventManager),t}function Ga(e){var t=y(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_a.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wa.bind(null,t),t}function Ka(e,t,n){var r=y(e);(function(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s,u,c;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=a.sent(),[4,function(e,t){var n=y(e),r=on(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Qe.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return a.sent()?[4,t.close()]:[3,4];case 3:return[2,(a.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(aa(r)),i=new oa(r,e.localStore,t.R),[4,t.Lo()];case 5:o=a.sent(),a.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(s=a.sent())&&n._updateProgress(s),[4,t.Lo()];case 8:o=a.sent(),a.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return u=a.sent(),[4,xa(e,u.wn,void 0)];case 12:return a.sent(),[4,function(e,t){var n=y(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Qe.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return a.sent(),n._completeWith(u.progress),[3,15];case 14:return p("SyncEngine","Loading bundle failed with "+(c=a.sent())),n._failWith(c),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Wa=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return this.R=lo(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return wi(this.persistence,new bi,e.initialUser,this.R)},e.prototype.qo=function(e){return new Gi(Wi.bs,this.R)},e.prototype.Bo=function(e){return new no},e.prototype.terminate=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Ha=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,a.ZT)(t,e),t.prototype.initialize=function(t){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Di(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,Ga(this.Ko.syncEngine)];case 4:return n.sent(),[4,Ro(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return wi(this.persistence,new bi,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Zr(t,e.asyncQueue)},t.prototype.qo=function(e){var t=mi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new fi(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,uo(),co(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new no},t}(Wa),za=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,a.ZT)(t,e),t.prototype.initialize=function(t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof to?(this.sharedClientState.syncEngine={ui:La.bind(null,n),ai:Ua.bind(null,n),hi:Ba.bind(null,n),fn:ja.bind(null,n),ci:Ra.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,a.mG)(r,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,Fa(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=uo();if(!to.yt(t))throw new c(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=mi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new to(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Ha),Ja=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n=this;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ya(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Aa.bind(null,this.syncEngine),[4,Bo(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Yo},e.prototype.createDatastore=function(e){var t,n=lo(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new so(t));return function(e,t,n){return new go(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ya(a.syncEngine,e,0)},o=io.yt()?new io:new ro,new yo(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new fa(e,t,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=y(e),f("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,_o(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function Qa(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,a.mG)(this,void 0,void 0,(function(){var r;return(0,a.Jh)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Ya=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Xa=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new tr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t,n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new ra(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),Za=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new c(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=y(e),r=fn(n.R)+"/documents",i={documents:t.map((function(e){return un(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){v(!!t.found),t.found.name,t.found.updateTime;var n=cn(e,t.found.name),r=on(t.found.updateTime),i=new oe({mapValue:{fields:t.found.fields}});return se.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){v(!!t.missing),v(!!t.readTime);var n=cn(e,t.missing),r=on(t.readTime);return se.newNoDocument(n,r)}(e,t):g()}(n.R,e);s.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=s.get(e.toString());v(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Et(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=W.fromPath(n);t.mutations.push(new Tt(r,t.precondition(r)))})),[4,function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return n=y(e),r=fn(n.R)+"/documents",i={writes:t.map((function(e){return gn(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw g();t=I.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new c(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ut.updateTime(t):ut.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(I.min()))throw new c(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ut.updateTime(t)}return ut.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),$a=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ho(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,a.mG)(e,void 0,void 0,(function(){var e,t,n=this;return(0,a.Jh)(this,(function(r){return e=new Za(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!q(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ct(t)}return!1},e}(),es=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Hi.UNAUTHENTICATED,this.clientId=_.u(),this.credentialListener=function(){},this.receivedInitialUser=new tr,this.credentials.setChangeListener((function(e){f("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,a.mG)(e,void 0,void 0,(function(){var e,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Wo(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function ts(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return(0,a.mG)(i,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return[4,Si(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function ns(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,rs(e)];case 1:return n=i.sent(),f("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return(n=y(e)).asyncQueue.verifyOperationInProgress(),f("RemoteStore","RemoteStore received new credentials"),r=ko(n),n.$r.add(3),[4,_o(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,bo(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function rs(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(f("FirestoreClient","Using default OfflineComponentProvider"),[4,ts(e,new Wa)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function is(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(f("FirestoreClient","Using default OnlineComponentProvider"),[4,ns(e,new Ja)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function os(e){return rs(e).then((function(e){return e.persistence}))}function as(e){return rs(e).then((function(e){return e.localStore}))}function ss(e){return is(e).then((function(e){return e.remoteStore}))}function us(e){return is(e).then((function(e){return e.syncEngine}))}function cs(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,is(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=da.bind(null,t.syncEngine),n.onUnlisten=ma.bind(null,t.syncEngine),n)]}}))}))}function ls(e,t,n){var r=this;void 0===n&&(n={});var i=new tr;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(r,void 0,void 0,(function(){var r;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Ya({next:function(o){t.enqueueAndForget((function(){return Zo(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new c(u.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new na(xe(n.path),o,{includeMetadataChanges:!0,so:!0});return Xo(e,a)},[4,cs(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function hs(e,t,n){var r=this;void 0===n&&(n={});var i=new tr;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(r,void 0,void 0,(function(){var r;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Ya({next:function(n){t.enqueueAndForget((function(){return Zo(e,a)})),n.fromCache&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new na(n,o,{includeMetadataChanges:!0,so:!0});return Xo(e,a)},[4,cs(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var fs=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},ds=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ps=new Map,ms=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},gs=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(Hi.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),vs=function(){function e(e){var t=this;this.oc=null,this.currentUser=Hi.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(v("string"==typeof n.accessToken),new ms(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return v(null===e||"string"==typeof e),new Hi(e)},e}(),ys=function(){function e(e,t){this.ac=e,this.hc=t,this.type="FirstParty",this.user=Hi.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),bs=function(){function e(e,t){this.ac=e,this.hc=t}return e.prototype.getToken=function(){return Promise.resolve(new ys(this.ac,this.hc))},e.prototype.setChangeListener=function(e){e(Hi.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function _s(e,t,n){if(!n)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function ws(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new c(u.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Ss(e,t,n,r){if(!0===t&&!0===r)throw new c(u.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Es(e){if(!W.isDocumentKey(e))throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Ts(e){if(W.isDocumentKey(e))throw new c(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Is(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":g()}function Cs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new c(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Is(e);throw new c(u.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function ks(e,t){if(t<=0)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Ns=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new c(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new c(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,Ss("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Ps=function(){function e(e,t){this._persistenceKey="(lite)",this._settings=new Ns({}),this._settingsFrozen=!1,e instanceof ds?(this._databaseId=e,this._credentials=new gs):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new c(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ds(e.options.projectId)}(e),this._credentials=new vs(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ns(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new gs;switch(e.type){case"gapi":var t=e.client;return v(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new bs(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new c(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=ps.get(this))&&(f("ComponentProvider","Removing Datastore"),ps.delete(this),e.terminate()),Promise.resolve();var e},e}(),xs=function(){function e(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Os(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),As=function(){function e(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Os=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,xe(r))||this).firestore=t,i._path=r,i.type="collection",i}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new xs(this.firestore,null,new W(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(As);function Ds(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=(0,r.m9)(e),_s("collection","path",t),e instanceof Ps)return Ts(n=x.fromString.apply(x,(0,a.ev)([t],i))),new Os(e,null,n);if(!(e instanceof xs||e instanceof Os))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ts(n=x.fromString.apply(x,(0,a.ev)([e.path],i)).child(x.fromString(t))),new Os(e.firestore,null,n)}function Rs(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=(0,r.m9)(e),1===arguments.length&&(t=_.u()),_s("doc","path",t),e instanceof Ps)return Es(n=x.fromString.apply(x,(0,a.ev)([t],i))),new xs(e,null,new W(n));if(!(e instanceof xs||e instanceof Os))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Es(n=e._path.child(x.fromString.apply(x,(0,a.ev)([t],i)))),new xs(e.firestore,e instanceof Os?e._converter:null,new W(n))}function Ls(e,t){return e=(0,r.m9)(e),t=(0,r.m9)(t),(e instanceof xs||e instanceof Os)&&(t instanceof xs||t instanceof Os)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function Fs(e,t){return e=(0,r.m9)(e),t=(0,r.m9)(t),e instanceof As&&t instanceof As&&e.firestore===t.firestore&&je(e._query,t._query)&&e._converter===t._converter}var Ms=function(){function e(){var e=this;this.lc=Promise.resolve(),this.fc=[],this.dc=!1,this.wc=[],this._c=null,this.mc=!1,this.yc=[],this.Zi=new ho(this,"async_queue_retry"),this.gc=function(){var t=co();t&&f("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=co();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.gc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.dc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ec(),this.Tc(e)},e.prototype.enterRestrictedMode=function(){if(!this.dc){this.dc=!0;var e=co();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.gc)}},e.prototype.enqueue=function(e){return this.Ec(),this.dc?new Promise((function(e){})):this.Tc(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.fc.push(e),t.Ic()}))},e.prototype.Ic=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.fc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fc[0]()];case 2:return n.sent(),this.fc.shift(),this.Zi.reset(),[3,4];case 3:if(!sr(e=n.sent()))throw e;return f("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.fc.length>0&&this.Zi.ji((function(){return t.Ic()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Tc=function(e){var t=this,n=this.lc.then((function(){return t.mc=!0,e().catch((function(e){throw t._c=e,t.mc=!1,d("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.mc=!1,e}))}));return this.lc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ec(),this.yc.indexOf(e)>-1&&(t=0);var i=Ko.createAndSchedule(this,e,t,n,(function(e){return r.Ac(e)}));return this.wc.push(i),i},e.prototype.Ec=function(){this._c&&g()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Rc=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,e=this.lc];case 1:t.sent(),t.label=2;case 2:if(e!==this.lc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.bc=function(e){for(var t=0,n=this.wc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.vc=function(e){var t=this;return this.Rc().then((function(){t.wc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.wc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Rc()}))},e.prototype.Pc=function(e){this.yc.push(e)},e.prototype.Ac=function(e){var t=this.wc.indexOf(e);this.wc.splice(t,1)},e}();function Vs(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var js=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Us=-1,Bs=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._queue=new Ms,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,a.ZT)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Gs(this),this._firestoreClient.terminate()},t}(Ps);function qs(e){return e._firestoreClient||Gs(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Gs(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new fs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new es(e._credentials,e._queue,r)}function Ks(e,t,n){var r=this,i=new tr;return e.asyncQueue.enqueue((function(){return(0,a.mG)(r,void 0,void 0,(function(){var r;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ts(e,n)];case 1:return o.sent(),[4,ns(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===u.FAILED_PRECONDITION||e.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Ws(e){if(e._initialized||e._terminated)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Hs=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new c(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new O(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),zs=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(R.fromBase64String(t))}catch(t){throw new c(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(R.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Js=function(e){this._methodName=e},Qs=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new c(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new c(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return w(this._lat,e._lat)||w(this._long,e._long)},e}(),Ys=/^__.*__$/,Xs=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new vt(e,this.data,this.fieldMask,t,this.fieldTransforms):new gt(e,this.data,t,this.fieldTransforms)},e}(),Zs=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new vt(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function $s(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var eu=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Vc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Sc",{get:function(){return this.settings.Sc},enumerable:!1,configurable:!0}),e.prototype.Dc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Cc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Dc({path:n,Nc:!1});return r.xc(e),r},e.prototype.Fc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Dc({path:n,Nc:!1});return r.Vc(),r},e.prototype.kc=function(e){return this.Dc({path:void 0,Nc:!0})},e.prototype.Oc=function(e){return _u(e,this.settings.methodName,this.settings.$c||!1,this.path,this.settings.Mc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Vc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.xc(this.path.get(e))},e.prototype.xc=function(e){if(0===e.length)throw this.Oc("Document fields must not be empty");if($s(this.Sc)&&Ys.test(e))throw this.Oc('Document fields cannot begin and end with "__"')},e}(),tu=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||lo(e)}return e.prototype.Lc=function(e,t,n,r){return void 0===r&&(r=!1),new eu({Sc:e,methodName:t,Mc:n,path:O.emptyPath(),Nc:!1,$c:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function nu(e){var t=e._freezeSettings(),n=lo(e._databaseId);return new tu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ru(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Lc(o.merge||o.mergeFields?2:0,t,n,i);gu("Data must be an object, but it was:",a,r);var s,l,h=pu(r,a);if(o.merge)s=new D(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){for(var f=[],d=0,p=o.mergeFields;d<p.length;d++){var m=vu(t,p[d],n);if(!a.contains(m))throw new c(u.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");wu(f,m)||f.push(m)}s=new D(f),l=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,l=a.fieldTransforms;return new Xs(new oe(h),s,l)}var iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Sc)throw 1===e.Sc?e.Oc(this._methodName+"() can only appear at the top level of your update data"):e.Oc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Js);function ou(e,t,n){return new eu({Sc:3,Mc:t.settings.Mc,methodName:e._methodName,Nc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var au=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._toFieldTransform=function(e){return new at(e.path,new Ze)},t.prototype.isEqual=function(e){return e instanceof t},t}(Js),su=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Bc=n,r}return(0,a.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=ou(this,e,!0),n=this.Bc.map((function(e){return du(e,t)})),r=new $e(n);return new at(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Js),uu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Bc=n,r}return(0,a.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=ou(this,e,!0),n=this.Bc.map((function(e){return du(e,t)})),r=new tt(n);return new at(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Js),cu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return(0,a.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=new rt(e.R,ze(e.R,this.qc));return new at(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Js);function lu(e,t,n,i){var o=e.Lc(1,t,n);gu("Data must be an object, but it was:",o,i);var a=[],s=oe.empty();k(i,(function(e,i){var u=bu(t,e,n);i=(0,r.m9)(i);var c=o.Fc(u);if(i instanceof iu)a.push(u);else{var l=du(i,c);null!=l&&(a.push(u),s.set(u,l))}}));var u=new D(a);return new Zs(s,u,o.fieldTransforms)}function hu(e,t,n,i,o,a){var s=e.Lc(1,t,n),l=[vu(t,i,n)],h=[o];if(a.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<a.length;f+=2)l.push(vu(t,a[f])),h.push(a[f+1]);for(var d=[],p=oe.empty(),m=l.length-1;m>=0;--m)if(!wu(d,l[m])){var g=l[m],v=h[m];v=(0,r.m9)(v);var y=s.Fc(g);if(v instanceof iu)d.push(g);else{var b=du(v,y);null!=b&&(d.push(g),p.set(g,b))}}var _=new D(d);return new Zs(p,_,s.fieldTransforms)}function fu(e,t,n,r){return void 0===r&&(r=!1),du(n,e.Lc(r?4:3,t))}function du(e,t){if(mu(e=(0,r.m9)(e)))return gu("Unsupported field value:",t,e),pu(e,t);if(e instanceof Js)return function(e,t){if(!$s(t.Sc))throw t.Oc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Oc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nc&&4!==t.Sc)throw t.Oc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=du(o[i],t.kc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,r.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ze(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=T.fromDate(e);return{timestampValue:tn(t.R,n)}}if(e instanceof T)return n=new T(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:tn(t.R,n)};if(e instanceof Qs)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zs)return{bytesValue:nn(t.R,e._byteString)};if(e instanceof xs){n=t.databaseId;var i=e.firestore._databaseId;if(!i.isEqual(n))throw t.Oc("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:an(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Oc("Unsupported field value: "+Is(e))}(e,t)}function pu(e,t){var n={};return N(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):k(e,(function(e,r){var i=du(r,t.Cc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function mu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof T||e instanceof Qs||e instanceof zs||e instanceof xs||e instanceof Js)}function gu(e,t,n){if(!mu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Is(n);throw"an object"===r?t.Oc(e+" a custom object"):t.Oc(e+" "+r)}}function vu(e,t,n){if((t=(0,r.m9)(t))instanceof Hs)return t._internalPath;if("string"==typeof t)return bu(e,t);throw _u("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var yu=new RegExp("[~\\*/\\[\\]]");function bu(e,t,n){if(t.search(yu)>=0)throw _u("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Hs.bind.apply(Hs,(0,a.ev)([void 0],t.split(".")))))._internalPath}catch(r){throw _u("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function _u(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var l="";return(o||a)&&(l+=" (found",o&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new c(u.INVALID_ARGUMENT,(s+=". ")+e+l)}function wu(e,t){return e.some((function(e){return e.isEqual(t)}))}var Su=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new xs(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Eu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Tu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Su);function Tu(e,t){return"string"==typeof t?bu(e,t):t instanceof Hs?t._internalPath:t._delegate._internalPath}var Iu=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Cu=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,a.ZT)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Tu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Su),ku=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Cu),Nu=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Iu(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ku(n._firestore,n._userDataWriter,r.key,r,new Iu(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new c(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new ku(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Iu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ku(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Iu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Pu(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Pu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function xu(e,t){return e instanceof Cu&&t instanceof Cu?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Nu&&t instanceof Nu&&e._firestore===t._firestore&&Fs(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Au(e){if(Oe(e)&&0===e.explicitOrderBy.length)throw new c(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ou=function(){};function Du(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Ru=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Uc=t,i.Qc=n,i.Kc=r,i.type="where",i}return(0,a.ZT)(t,e),t.prototype._apply=function(e){var t=nu(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new c(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Bu(a,o);for(var l=[],h=0,f=a;h<f.length;h++){var d=f[h];l.push(Uu(r,e,d))}s={arrayValue:{values:l}}}else s=Uu(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Bu(a,o),s=fu(n,"where",a,"in"===o||"not-in"===o);var p=de.create(i,o,s);return function(e,t){if(t.g()){var n=Re(e);if(null!==n&&!n.isEqual(t.field))throw new c(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=De(e);null!==r&&qu(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,p),p}(e._query,0,t,e.firestore._databaseId,this.Uc,this.Qc,this.Kc);return new As(e.firestore,e._converter,function(e,t){var n=e.filters.concat([t]);return new Ne(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Ou),Lu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Uc=t,r.jc=n,r.type="orderBy",r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Te(t,n);return function(e,t){if(null===De(e)){var n=Re(e);null!==n&&qu(0,n,t.field)}}(e,r),r}(e._query,this.Uc,this.jc);return new As(e.firestore,e._converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ne(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Ou),Fu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Wc=n,i.Gc=r,i}return(0,a.ZT)(t,e),t.prototype._apply=function(e){return new As(e.firestore,e._converter,Ve(e._query,this.Wc,this.Gc))},t}(Ou),Mu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.zc=n,i.Hc=r,i}return(0,a.ZT)(t,e),t.prototype._apply=function(e){var t=ju(e,this.type,this.zc,this.Hc);return new As(e.firestore,e._converter,function(e,t){return new Ne(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Ou),Vu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.zc=n,i.Hc=r,i}return(0,a.ZT)(t,e),t.prototype._apply=function(e){var t=ju(e,this.type,this.zc,this.Hc);return new As(e.firestore,e._converter,function(e,t){return new Ne(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Ou);function ju(e,t,n,i){if(n[0]=(0,r.m9)(n[0]),n[0]instanceof Su)return function(e,t,n,r,i){if(!r)throw new c(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Fe(e);a<s.length;a++){var l=s[a];if(l.field.isKeyField())o.push($(t,r.key));else{var h=r.data.field(l.field);if(j(h))throw new c(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){var f=l.field.canonicalString();throw new c(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(h)}}return new Se(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=nu(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new c(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],l=0;l<i.length;l++){var h=i[l];if(a[l].field.isKeyField()){if("string"!=typeof h)throw new c(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof h);if(!Le(e)&&-1!==h.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+h+"' contains a slash.");var f=e.path.child(x.fromString(h));if(!W.isDocumentKey(f))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new W(f);s.push($(t,d))}else{var p=fu(n,r,h);s.push(p)}}return new Se(s,o)}(e._query,e.firestore._databaseId,o,t,n,i)}function Uu(e,t,n){if("string"==typeof(n=(0,r.m9)(n))){if(""===n)throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Le(t)&&-1!==n.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(x.fromString(n));if(!W.isDocumentKey(i))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return $(e,new W(i))}if(n instanceof xs)return $(e,n._key);throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Is(n)+".")}function Bu(e,t){if(!Array.isArray(e)||0===e.length)throw new c(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new c(u.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function qu(e,t,n){if(!n.isEqual(t))throw new c(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Gu=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),H(e)){case 0:return null;case 1:return e.booleanValue;case 2:return M(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(V(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw g()}},e.prototype.convertObject=function(e,t){var n=this,r={};return k(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Qs(M(e.latitude),M(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=U(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(B(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=F(e);return new T(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=x.fromString(e);v(An(n));var r=new ds(n.get(1),n.get(3)),i=new W(n.popFirst(5));return r.isEqual(t)||d("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Ku(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Wu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,a.ZT)(t,e),t.prototype.convertBytes=function(e){return new zs(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xs(this.firestore,null,t)},t}(Gu),Hu=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nu(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=zu(e,this._firestore),i=Ku(r._converter,t,n),o=ru(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,ut.none())),this},e.prototype.update=function(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var a,s=zu(e,this._firestore);return a="string"==typeof(t=(0,r.m9)(t))||t instanceof Hs?hu(this._dataReader,"WriteBatch.update",s._key,t,n,i):lu(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,ut.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=zu(e,this._firestore);return this._mutations=this._mutations.concat(new Et(t._key,ut.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new c(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function zu(e,t){if((e=(0,r.m9)(e)).firestore!==t)throw new c(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Ju=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,a.ZT)(t,e),t.prototype.convertBytes=function(e){return new zs(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xs(this.firestore,null,t)},t}(Gu);function Qu(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=Cs(e,xs);var a=Cs(e.firestore,Bs),s=nu(a);return Xu(a,[("string"==typeof(t=(0,r.m9)(t))||t instanceof Hs?hu(s,"updateDoc",e._key,t,n,i):lu(s,"updateDoc",e._key,t)).toMutation(e._key,ut.exists(!0))])}function Yu(e){for(var t,n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=(0,r.m9)(e);var u={includeMetadataChanges:!1},c=0;"object"!=typeof o[c]||Vs(o[c])||(u=o[c],c++);var l,h,f,d={includeMetadataChanges:u.includeMetadataChanges};if(Vs(o[c])){var p=o[c];o[c]=null===(t=p.next)||void 0===t?void 0:t.bind(p),o[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),o[c+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}if(e instanceof xs)h=Cs(e.firestore,Bs),f=xe(e._key.path),l={next:function(t){o[c]&&o[c](Zu(h,e,t))},error:o[c+1],complete:o[c+2]};else{var m=Cs(e,As);h=Cs(m.firestore,Bs),f=m._query;var g=new Ju(h);l={next:function(e){o[c]&&o[c](new Nu(h,g,m,e))},error:o[c+1],complete:o[c+2]},Au(e._query)}return function(e,t,n,r){var i=this,o=new Ya(r),s=new na(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(i,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=Xo,[4,cs(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(i,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=Zo,[4,cs(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))}))}}(qs(h),f,d,l)}function Xu(e,t){return function(e,t){var n=this,r=new tr;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(n,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return n=ga,[4,us(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(qs(e),t)}function Zu(e,t,n){var r=n.docs.get(t._key),i=new Ju(e);return new Cu(e,i,t._key,r,new Iu(n.hasPendingWrites,n.fromCache),t._converter)}var $u=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,a.ZT)(t,e),t.prototype.get=function(t){var n=this,r=zu(t,this._firestore),i=new Ju(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Cu(n._firestore,i,r._key,e._document,new Iu(!1,!1),r._converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=nu(e)}return e.prototype.get=function(e){var t=this,n=zu(e,this._firestore),r=new Wu(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return g();var i=e[0];if(i.isFoundDocument())return new Su(t._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Su(t._firestore,r,n._key,null,n._converter);throw g()}))},e.prototype.set=function(e,t,n){var r=zu(e,this._firestore),i=Ku(r._converter,t,n),o=ru(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,s=zu(e,this._firestore);return a="string"==typeof(t=(0,r.m9)(t))||t instanceof Hs?hu(this._dataReader,"Transaction.update",s._key,t,n,i):lu(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this},e.prototype.delete=function(e){var t=zu(e,this._firestore);return this._transaction.delete(t._key),this},e}());function ec(){if("undefined"==typeof Uint8Array)throw new c(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tc(){if("undefined"==typeof atob)throw new c(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var nc=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return tc(),new e(zs.fromBase64String(t))},e.fromUint8Array=function(t){return ec(),new e(zs.fromUint8Array(t))},e.prototype.toBase64=function(){return tc(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return ec(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),rc=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Ws(e=Cs(e,Bs));var n=qs(e),r=e._freezeSettings(),i=new Ja;return Ks(n,i,new Ha(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Ws(e=Cs(e,Bs));var t=qs(e),n=e._freezeSettings(),r=new Ja;return Ks(t,r,new za(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new c(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new tr;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,a.mG)(t,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return ir.yt()?(t=e+"main",[4,ir.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(mi(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),ic=function(){function e(e,t,n){var r=this;this._delegate=t,this.Jc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof ds||(this.Yc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t){!function(e,t,n){var r=(e=Cs(e,Ps))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==t&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:t+":"+n,ssl:!1}))}(this._delegate,e,t)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,a.mG)(t,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,os(e)];case 1:return t=r.sent(),[4,ss(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=y(e);return t.$r.delete(0),bo(t)}(n))]}}))}))}))}(qs(Cs(this._delegate,Bs)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,a.mG)(t,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,os(e)];case 1:return t=r.sent(),[4,ss(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return(t=y(e)).$r.add(0),[4,_o(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(qs(Cs(this._delegate,Bs)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Ss("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Jc.enableMultiTabIndexedDbPersistence(this):this.Jc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Jc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Yc&&(this.Yc._removeServiceInstance("firestore"),this.Yc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new tr;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(t,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return t=Sa,[4,us(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(qs(Cs(this._delegate,Bs)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Ya(t);return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(n,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){y(e).Gr.add(t),t.next()},[4,cs(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(n,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){y(e).Gr.delete(t)},[4,cs(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(qs(e=Cs(e,Bs)),Vs(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Yc)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Yc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new bc(this,Ds(this._delegate,e))}catch(e){throw hc(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new lc(this,Rs(this._delegate,e))}catch(e){throw hc(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new gc(this,function(e,t){if(e=Cs(e,Ps),_s("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new As(e,null,function(e){return new Ne(x.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw hc(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new tr;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(n,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(e){return is(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new $a(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(qs(e),(function(n){return t(new $u(e,n))}))}(this._delegate,(function(n){return e(new sc(t,n))}))},e.prototype.batch=function(){var e=this;return qs(this._delegate),new uc(new Hu(this._delegate,(function(t){return Xu(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new c(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new c(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),oc=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,a.ZT)(t,e),t.prototype.convertBytes=function(e){return new nc(new zs(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return lc.Xc(t,this.firestore,null)},t}(Gu);function ac(e){var t;t=e,l.setLogLevel(t)}var sc=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new oc(e)}return e.prototype.get=function(e){var t=this,n=_c(e);return this._delegate.get(n).then((function(e){return new pc(t._firestore,new Cu(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},e.prototype.set=function(e,t,n){var r=_c(e);return n?(ws("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=_c(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,a.ev)([s,t,n],i)),this},e.prototype.delete=function(e){var t=_c(e);return this._delegate.delete(t),this},e}(),uc=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=_c(e);return n?(ws("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=_c(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,a.ev)([s,t,n],i)),this},e.prototype.delete=function(e){var t=_c(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),cc=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new ku(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mc(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.Zc=function(t,n){var r=e.tu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new oc(t),n),i.set(n,o)),o},e}();cc.tu=new WeakMap;var lc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oc(e)}return e.eu=function(t,n,r){if(t.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new xs(n._delegate,r,new W(t)))},e.Xc=function(t,n,r){return new e(n,new xs(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new bc(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new bc(this.firestore,Ds(this._delegate,e))}catch(e){throw hc(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,r.m9)(e))instanceof xs&&Ls(this._delegate,e)},e.prototype.set=function(e,t){t=ws("DocumentReference.set",t);try{return function(e,t,n){e=Cs(e,xs);var r=Cs(e.firestore,Bs),i=Ku(e._converter,t,n);return Xu(r,[ru(nu(r),"setDoc",e._key,i,null!==e._converter,n).toMutation(e._key,ut.none())])}(this._delegate,e,t)}catch(e){throw hc(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Qu(this._delegate,e):Qu.apply(void 0,(0,a.ev)([this._delegate,e,t],n))}catch(e){throw hc(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Xu(Cs((e=this._delegate).firestore,Bs),[new Et(e._key,ut.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=fc(t),i=dc(t,(function(t){return new pc(e.firestore,new Cu(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return Yu(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Cs(e,xs);var t=Cs(e.firestore,Bs),n=qs(t),r=new Ju(t);return function(e,t){var n=this,r=new tr;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(n,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=y(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new c(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Wo(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,as(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Cu(t,r,e._key,n,new Iu(null!==n&&n.hasLocalMutations,!0),e._converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Cs(e,xs);var t=Cs(e.firestore,Bs);return ls(qs(t),e._key,{source:"server"}).then((function(n){return Zu(t,e,n)}))}(this._delegate):function(e){e=Cs(e,xs);var t=Cs(e.firestore,Bs);return ls(qs(t),e._key).then((function(n){return Zu(t,e,n)}))}(this._delegate)).then((function(e){return new pc(t.firestore,new Cu(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(cc.Zc(this.firestore,t)):this._delegate.withConverter(null))},e}();function hc(e,t,n){return e.message=e.message.replace(t,n),e}function fc(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Vs(r))return r}return{}}function dc(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Vs(e[0])?e[0]:Vs(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var pc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new lc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return xu(this._delegate,e._delegate)},e}(),mc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(pc),gc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oc(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Du(this._delegate,function(e,t,n){var r=t,i=Tu("where",e);return new Ru(i,r,n)}(t,n,r)))}catch(t){throw hc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Du(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Tu("orderBy",e);return new Lu(r,n)}(t,n)))}catch(t){throw hc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Du(this._delegate,function(e){return ks("limit",e),new Fu("limit",e,"F")}(t)))}catch(t){throw hc(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Du(this._delegate,function(e){return ks("limitToLast",e),new Fu("limitToLast",e,"L")}(t)))}catch(t){throw hc(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Du(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Mu("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw hc(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Du(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Mu("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw hc(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Du(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Vu("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw hc(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Du(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Vu("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw hc(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Fs(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Cs(e,As);var t=Cs(e.firestore,Bs),n=qs(t),r=new Ju(t);return function(e,t){var n=this,r=new tr;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(n,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,xi(e,t,!0)];case 1:return u=a.sent(),r=new ca(t,u.Bn),i=r._o(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Wo(s,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,as(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Nu(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Cs(e,As);var t=Cs(e.firestore,Bs),n=qs(t),r=new Ju(t);return hs(n,e._query,{source:"server"}).then((function(n){return new Nu(t,r,e,n)}))}(this._delegate):function(e){e=Cs(e,As);var t=Cs(e.firestore,Bs),n=qs(t),r=new Ju(t);return Au(e._query),hs(n,e._query).then((function(n){return new Nu(t,r,e,n)}))}(this._delegate)).then((function(e){return new yc(t.firestore,new Nu(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=fc(t),i=dc(t,(function(t){return new yc(e.firestore,new Nu(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Yu(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(cc.Zc(this.firestore,t)):this._delegate.withConverter(null))},e}(),vc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new mc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),yc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new gc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new mc(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new vc(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new mc(n._firestore,r))}))},e.prototype.isEqual=function(e){return xu(this._delegate,e._delegate)},e}(),bc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new lc(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new lc(this.firestore,void 0===e?Rs(this._delegate):Rs(this._delegate,e))}catch(e){throw hc(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Cs(e.firestore,Bs),r=Rs(e),i=Ku(e._converter,t);return Xu(n,[ru(nu(e.firestore),"addDoc",r._key,i,null!==e._converter,{}).toMutation(r._key,ut.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new lc(t.firestore,e)}))},t.prototype.isEqual=function(e){return Ls(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(cc.Zc(this.firestore,e)):this._delegate.withConverter(null))},t}(gc);function _c(e){return Cs(e,xs)}var wc=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Hs.bind.apply(Hs,(0,a.ev)([void 0],e)))}return e.documentId=function(){return new e(O.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,r.m9)(e))instanceof Hs&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Sc=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new au("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new iu("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new su("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new uu("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new cu("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function Ec(e){return function(e,t){var n=qs(e=Cs(e,Bs)),r=new js;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new Xa(e,t)}(function(e,t){if(e instanceof Uint8Array)return Qa(e,t);if(e instanceof ArrayBuffer)return Qa(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,lo(t));e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(i,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=Ka,[4,us(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function Tc(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,a.mG)(n,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=y(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qe.getNamedQuery(e,t)}))},[4,as(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(qs(t=Cs(t,Bs)),n).then((function(e){return e?new As(t,null,e.query):null}))).then((function(e){return e?new gc(r,e):null}))}},4594:(e,t,n)=>{"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,{in:()=>o,Yd:()=>h,Ub:()=>f,Am:()=>d});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},4589:(e,t,n)=>{"use strict";n.d(t,{BH:()=>f,LL:()=>k,ZR:()=>C,gQ:()=>U,zI:()=>I,hu:()=>i,g5:()=>o,US:()=>s,h$:()=>u,$s:()=>Y,r3:()=>L,ne:()=>B,p$:()=>l,ZB:()=>h,gK:()=>W,m9:()=>X,z$:()=>d,GJ:()=>R,jU:()=>g,ru:()=>v,d:()=>b,xb:()=>M,w1:()=>_,hl:()=>E,uI:()=>p,UG:()=>m,Yr:()=>S,b$:()=>y,Mn:()=>w,w9:()=>D,cI:()=>x,UI:()=>V,xO:()=>j,DV:()=>F,ug:()=>Q,dS:()=>J,Pz:()=>A,Dv:()=>K,Wj:()=>H,lb:()=>z,eu:()=>T});var r=n(655),i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=a(e);return s.encodeByteArray(t,!0)},c=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function m(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function g(){return"object"==typeof self&&self.self===self}function v(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return d().indexOf("Electron/")>=0}function _(){var e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){return d().indexOf("MSAppHost/")>=0}function S(){return!1}function E(){return"indexedDB"in self&&null!=indexedDB}function T(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function I(){return!(!navigator||!navigator.cookieEnabled)}var C=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,k.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),k=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?N(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new C(i,s,r);return u},e}();function N(e,t){return e.replace(P,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var P=/\{\$([^}]+)}/g;function x(e){return JSON.parse(e)}function A(e){return JSON.stringify(e)}var O=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=x(c(o[0])||""),n=x(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},D=function(e){var t=O(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},R=function(e){var t=O(e).claims;return"object"==typeof t&&!0===t.admin};function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function M(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function V(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function j(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var U=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function B(e,t){var n=new q(e,t);return n.subscribe.bind(n)}var q=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=G),void 0===r.error&&(r.error=G),void 0===r.complete&&(r.complete=G);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function G(){}var K=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function W(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+(r+" argument ")}function H(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(W(e,t,r)+"must be a valid function.")}function z(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(W(e,t,r)+"must be a valid context object.")}var J=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},Q=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Y(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function X(e){return e&&e._delegate?e._delegate:e}},3705:(e,t,n)=>{"use strict";n.d(t,{jK:()=>ir,ju:()=>ar,tw:()=>or,kN:()=>sr,ii:()=>ur,JJ:()=>cr,UE:()=>nr,FJ:()=>rr});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},s=s||{},u=a||self;function c(){}function l(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function h(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function m(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function g(e,t,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:m).apply(null,arguments)}function v(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function y(){return Date.now()}function b(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,f)&&e[f]||(e[f]=++d)}(this)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var w=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},S=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function E(e){return Array.prototype.concat.apply([],arguments)}function T(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function I(e){return/^[\s\xa0]*$/.test(e)}var C,k=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function N(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var x=u.navigator;if(x){var A=x.userAgent;if(A){C=A;break e}}C=""}function O(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function D(e){var t={};for(var n in e)t[n]=e[n];return t}var R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<R.length;o++)n=R[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function F(e){return F[" "](e),e}F[" "]=c;var M,V,j=N(C,"Opera"),U=N(C,"Trident")||N(C,"MSIE"),B=N(C,"Edge"),q=B||U,G=N(C,"Gecko")&&!(N(C.toLowerCase(),"webkit")&&!N(C,"Edge"))&&!(N(C,"Trident")||N(C,"MSIE"))&&!N(C,"Edge"),K=N(C.toLowerCase(),"webkit")&&!N(C,"Edge");function W(){var e=u.document;return e?e.documentMode:void 0}e:{var H="",z=(V=C,G?/rv:([^\);]+)(\)|;)/.exec(V):B?/Edge\/([\d\.]+)/.exec(V):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(V):K?/WebKit\/(\S+)/.exec(V):j?/(?:Version)[ \/]?(\S+)/.exec(V):void 0);if(z&&(H=z?z[1]:""),U){var J=W();if(null!=J&&J>parseFloat(H)){M=String(J);break e}}M=H}var Q,Y={};function X(e){return function(e,t){var n=Y;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=k(String(M)).split("."),r=k(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=P(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==a[2].length,0==s[2].length)||P(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}u.document&&U?Q=W()||parseInt(M,10)||void 0:Q=void 0;var Z=Q,$=!U||9<=Number(Z),ee=U&&!X("9"),te=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",c,t),u.removeEventListener("test",c,t)}catch(e){}return e}();function ne(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function re(e,t){if(ne.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(G){e:{try{F(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ie[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ne.prototype.b=function(){this.defaultPrevented=!0},b(re,ne);var ie={2:"touch",3:"pen",4:"mouse"};re.prototype.b=function(){re.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ee)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var oe="closure_listenable_"+(1e6*Math.random()|0),ae=0;function se(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++ae,this.Y=this.Z=!1}function ue(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function ce(e){this.src=e,this.a={},this.b=0}function le(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=w(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ue(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function he(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}ce.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=he(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new se(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var fe="closure_lm_"+(1e6*Math.random()|0),de={};function pe(e,t,n,r,i){if(r&&r.once)return ge(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)pe(e,t[o],n,r,i);return null}return n=Te(n),e&&e[oe]?e.va(t,n,h(r)?!!r.capture:!!r,i):me(e,t,n,!1,r,i)}function me(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i;if(a&&!$)return null;var s=Se(e);if(s||(e[fe]=s=new ce(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=we,t=$?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)te||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(be(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ge(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ge(e,t[o],n,r,i);return null}return n=Te(n),e&&e[oe]?e.wa(t,n,h(r)?!!r.capture:!!r,i):me(e,t,n,!0,r,i)}function ve(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ve(e,t[o],n,r,i);else r=h(r)?!!r.capture:!!r,n=Te(n),e&&e[oe]?(e=e.c,(t=String(t).toString())in e.a&&-1<(n=he(o=e.a[t],n,r,i))&&(ue(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=Se(e))&&(t=e.a[t.toString()],e=-1,t&&(e=he(t,n,r,i)),(n=-1<e?t[e]:null)&&ye(n))}function ye(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[oe])le(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(be(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Se(t))?(le(n,e),0==n.b&&(n.src=null,t[fe]=null)):ue(e)}}}function be(e){return e in de?de[e]:de[e]="on"+e}function _e(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&ye(e),n.call(r,t)}function we(e,t){if(e.Y)return!0;if(!$){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return _e(e,t=new re(t,this))}return _e(e,new re(t,this))}function Se(e){return(e=e[fe])instanceof ce?e:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(e){return"function"==typeof e?e:(e[Ee]||(e[Ee]=function(t){return e.handleEvent(t)}),e[Ee])}function Ie(){_.call(this),this.c=new ce(this),this.J=this,this.C=null}function Ce(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new ne(t,e);else if(t instanceof ne)t.target=t.target||e;else{var i=t;L(t=new ne(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=ke(a,r,!0,t)&&i}if(i=ke(a=t.a=e,r,!0,t)&&i,i=ke(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ke(a=t.a=n[o],r,!1,t)&&i}function ke(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&le(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}b(Ie,_),Ie.prototype[oe]=!0,(o=Ie.prototype).addEventListener=function(e,t,n,r){pe(this,e,t,n,r)},o.removeEventListener=function(e,t,n,r){ve(this,e,t,n,r)},o.G=function(){if(Ie.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ue(n[r]);delete t.a[e],t.b--}}this.C=null},o.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},o.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ne=u.JSON.stringify;function Pe(){this.b=this.a=null}var xe,Ae=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new De}),(function(e){e.reset()}));function Oe(){var e=Me,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function De(){this.next=this.b=this.a=null}function Re(e){u.setTimeout((function(){throw e}),0)}function Le(e,t){xe||function(){var e=u.Promise.resolve(void 0);xe=function(){e.then(Ve)}}(),Fe||(xe(),Fe=!0),Me.add(e,t)}Pe.prototype.add=function(e,t){var n=Ae.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},De.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},De.prototype.reset=function(){this.next=this.b=this.a=null};var Fe=!1,Me=new Pe;function Ve(){for(var e;e=Oe();){try{e.a.call(e.b)}catch(e){Re(e)}var t=Ae;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Fe=!1}function je(e,t){Ie.call(this),this.b=e||1,this.a=t||u,this.f=g(this.Za,this),this.g=y()}function Ue(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Be(e,t,n){if("function"==typeof e)n&&(e=g(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function qe(e){e.a=Be((function(){e.a=null,e.c&&(e.c=!1,qe(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}b(je,Ie),(o=je.prototype).aa=!1,o.M=null,o.Za=function(){if(this.aa){var e=y()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ce(this,"tick"),this.aa&&(Ue(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=y())},o.G=function(){je.X.G.call(this),Ue(this),delete this.a};var Ge=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:qe(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(_);function Ke(e){_.call(this),this.b=e,this.a={}}b(Ke,_);var We=[];function He(e,t,n,r){Array.isArray(n)||(n&&(We[0]=n.toString()),n=We);for(var i=0;i<n.length;i++){var o=pe(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function ze(e){O(e.a,(function(e,t){this.a.hasOwnProperty(t)&&ye(e)}),e),e.a={}}function Je(){this.a=!0}function Qe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ne(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Ke.prototype.G=function(){Ke.X.G.call(this),ze(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Je.prototype.info=function(){};var Ye={},Xe=null;function Ze(){return Xe=Xe||new Ie}function $e(e){ne.call(this,Ye.Fa,e)}function et(e){var t=Ze();Ce(t,new $e(t,e))}function tt(e,t){ne.call(this,Ye.STAT_EVENT,e),this.stat=t}function nt(e){var t=Ze();Ce(t,new tt(t,e))}function rt(e){ne.call(this,Ye.Ga,e)}function it(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){e()}),t)}Ye.Fa="serverreachability",b($e,ne),Ye.STAT_EVENT="statevent",b(tt,ne),Ye.Ga="timingevent",b(rt,ne);var ot={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},at={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function st(){}function ut(e){var t;return(t=e.a)||(t=e.a={}),t}function ct(){}st.prototype.a=null;var lt,ht={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ft(){ne.call(this,"d")}function dt(){ne.call(this,"c")}function pt(){}function mt(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Ke(this),this.P=gt,e=q?125:void 0,this.R=new je(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}b(ft,ne),b(dt,ne),b(pt,st),lt=new pt;var gt=45e3,vt={},yt={};function bt(e,t,n){e.H=1,e.i=Bt(Lt(t)),e.j=n,e.I=!0,_t(e,null)}function _t(e,t){e.u=y(),Et(e),e.l=Lt(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),en(n.b,"t",r),e.D=0,e.a=Qn(e.g,e.g.C?t:null),0<e.O&&(e.F=new Ge(g(e.Ca,e,e.a),e.O)),He(e.J,e.a,"readystatechange",e.Xa),t=e.B?D(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),et(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function wt(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=St(e,n);if(i==yt){4==t&&(e.h=4,nt(14),r=!1),Qe(e.c,e.f,null,"[Incomplete Response]");break}if(i==vt){e.h=4,nt(15),Qe(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Qe(e.c,e.f,i,null),Nt(e,i)}4==t&&0==n.length&&(e.h=1,nt(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bn(t),t.F=!0,nt(11))):(Qe(e.c,e.f,n,"[Invalid Chunked Response]"),kt(e),Ct(e))}function St(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?yt:(n=Number(t.substring(n,r)),isNaN(n)?vt:(r+=1)+n>t.length?yt:(t=t.substr(r,n),e.D=r+n,t))}function Et(e){e.T=y()+e.P,Tt(e,e.P)}function Tt(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=it(g(e.Va,e),t)}function It(e){e.o&&(u.clearTimeout(e.o),e.o=null)}function Ct(e){0==e.g.v||e.A||Kn(e.g,e)}function kt(e){It(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Ue(e.R),ze(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Nt(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||un(n.b,e)))if(n.I=e.N,!e.C&&un(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Gn(n),On(n)}Un(n),nt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=it(g(n.Sa,n),6e3));if(1>=sn(n.b)&&n.ea){try{n.ea()}catch(e){}n.ea=void 0}}else Hn(n,11)}else if((e.C||n.a==e)&&Gn(n),!I(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(N(l,"spdy")||N(l,"quic")||N(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(cn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ut(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=y()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Jn(u,u.C?u.ga:null,u.fa),d.C){ln(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(It(p),Et(p)),u.a=d}else jn(u);0<n.g.length&&Ln(n)}else"stop"!=i[0]&&"close"!=i[0]||Hn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hn(n,7):An(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);et(4)}catch(e){}}function Pt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"==typeof e)S(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(l(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function xt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof xt)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function At(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ot(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ot(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(o=mt.prototype).setTimeout=function(e){this.P=e},o.Xa=function(e){e=e.target;var t=this.F;t&&3==kn(e)?t.f():this.Ca(e)},o.Ca=function(e){try{if(e==this.a)e:{var t=kn(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!q&&!this.a.$())){this.A||4!=t||7==n||et(8==n||0>=r?3:2),It(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,nt(12),kt(this),Ct(this);break e}Qe(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Nt(this,u)}this.I?(wt(this,t,o),q&&this.b&&3==t&&(He(this.J,this.R,"tick",this.Wa),this.R.start())):(Qe(this.c,this.f,o,null),Nt(this,o)),4==t&&kt(this),this.b&&!this.A&&(4==t?Kn(this.g,this):(this.b=!1,Et(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,nt(12)):(this.h=0,nt(13)),kt(this),Ct(this)}}}catch(e){}},o.Wa=function(){if(this.a){var e=kn(this.a),t=this.a.$();this.D<t.length&&(It(this),wt(this,e,t),this.b&&4!=e&&Et(this))}},o.cancel=function(){this.A=!0,kt(this)},o.Va=function(){this.o=null;var e=y();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(et(3),nt(17)),kt(this),this.h=2,Ct(this)):Tt(this,this.T-e)},(o=xt.prototype).K=function(){At(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},o.L=function(){return At(this),this.a.concat()},o.get=function(e,t){return Ot(this.b,e)?this.b[e]:t},o.set=function(e,t){Ot(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},o.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Dt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Rt){this.a=void 0!==t?t:e.a,Ft(this,e.f),this.j=e.j,Mt(this,e.c),Vt(this,e.h),this.g=e.g,t=e.b;var n=new Yt;n.c=t.c,t.a&&(n.a=new xt(t.a),n.b=t.b),jt(this,n),this.i=e.i}else e&&(n=String(e).match(Dt))?(this.a=!!t,Ft(this,n[1]||"",!0),this.j=qt(n[2]||""),Mt(this,n[3]||"",!0),Vt(this,n[4]),this.g=qt(n[5]||"",!0),jt(this,n[6]||"",!0),this.i=qt(n[7]||"")):(this.a=!!t,this.b=new Yt(null,this.a))}function Lt(e){return new Rt(e)}function Ft(e,t,n){e.f=n?qt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Mt(e,t,n){e.c=n?qt(t,!0):t}function Vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function jt(e,t,n){t instanceof Yt?(e.b=t,function(e,t){t&&!e.f&&(Xt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zt(this,t),en(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Gt(t,Jt)),e.b=new Yt(t,e.a))}function Ut(e,t,n){e.b.set(t,n)}function Bt(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^y()).toString(36)),e}function qt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Kt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Gt(t,Wt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Gt(t,Wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gt(n,"/"==n.charAt(0)?zt:Ht,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Gt(n,Qt)),e.join("")};var Wt=/[#\/\?@]/g,Ht=/[#\?:]/g,zt=/[#\?]/g,Jt=/[#\?@]/g,Qt=/#/g;function Yt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Xt(e){e.a||(e.a=new xt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zt(e,t){Xt(e),t=tn(e,t),Ot(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Ot((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&At(e)))}function $t(e,t){return Xt(e),t=tn(e,t),Ot(e.a.b,t)}function en(e,t,n){Zt(e,t),0<n.length&&(e.c=null,e.a.set(tn(e,t),T(n)),e.b+=n.length)}function tn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(o=Yt.prototype).add=function(e,t){Xt(this),this.c=null,e=tn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},o.forEach=function(e,t){Xt(this),this.a.forEach((function(n,r){S(n,(function(n){e.call(t,n,r,this)}),this)}),this)},o.L=function(){Xt(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},o.K=function(e){Xt(this);var t=[];if("string"==typeof e)$t(this,e)&&(t=E(t,this.a.get(tn(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=E(t,e[n])}return t},o.set=function(e,t){return Xt(this),this.c=null,$t(this,e=tn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},o.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var nn=function(e,t){this.b=e,this.a=t};function rn(e){this.g=e||on,e=u.PerformanceNavigationTiming?0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var on=10;function an(e){return!!e.b||!!e.a&&e.a.size>=e.f}function sn(e){return e.b?1:e.a?e.a.size:0}function un(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function cn(e,t){e.a?e.a.add(t):e.b=t}function ln(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function hn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var o=i(e.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return T(e.c)}function fn(){}function dn(){this.a=new fn}function pn(e,t,n){var r=n||"";try{Pt(e,(function(e,n){var i=e;h(e)&&(i=Ne(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function mn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}rn.prototype.cancel=function(){var e,t;if(this.c=hn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},fn.prototype.stringify=function(e){return u.JSON.stringify(e,void 0)},fn.prototype.parse=function(e){return u.JSON.parse(e,void 0)};var gn=u.JSON.parse;function vn(e){Ie.call(this),this.headers=new xt,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=yn,this.D=this.F=!1}b(vn,Ie);var yn="",bn=/^https?$/i,_n=["POST","PUT"];function wn(e){return"content-type"==e.toLowerCase()}function Sn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,En(e),In(e)}function En(e){e.u||(e.u=!0,Ce(e,"complete"),Ce(e,"error"))}function Tn(e){if(e.b&&void 0!==s&&(!e.s[1]||4!=kn(e)||2!=e.W()))if(e.l&&4==kn(e))Be(e.za,0,e);else if(Ce(e,"readystatechange"),4==kn(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Dt)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!bn.test(o?o.toLowerCase():"")}t=i}if(t)Ce(e,"complete"),Ce(e,"success");else{e.h=6;try{var c=2<kn(e)?e.a.statusText:""}catch(n){c=""}e.f=c+" ["+e.W()+"]",En(e)}}finally{In(e)}}}function In(e,t){if(e.a){Cn(e);var n=e.a,r=e.s[0]?c:null;e.a=null,e.s=null,t||Ce(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Cn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(u.clearTimeout(e.m),e.m=null)}function kn(e){return e.a?e.a.readyState:0}function Nn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return O(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Ut(e,t,n))}function Pn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xn(e){this.pa=0,this.g=[],this.c=new Je,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Pn("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Pn("baseRetryDelayMs",5e3,e),this.Ra=Pn("retryDelaySeedMs",1e4,e),this.Ma=Pn("forwardChannelMaxRetries",2,e),this.ma=Pn("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new rn(e&&e.concurrentRequestLimit),this.ka=new dn,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function An(e){if(Dn(e),3==e.v){var t=e.R++,n=Lt(e.B);Ut(n,"SID",e.J),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),Mn(e,n),(t=new mt(e,e.c,t,void 0)).H=2,t.i=Bt(Lt(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(t.i.toString(),"")),!n&&u.Image&&((new Image).src=t.i,n=!0),n||(t.a=Qn(t.g,null),t.a.ba(t.i)),t.u=y(),Et(t)}zn(e)}function On(e){e.a&&(Bn(e),e.a.cancel(),e.a=null)}function Dn(e){On(e),e.j&&(u.clearTimeout(e.j),e.j=null),Gn(e),e.b.cancel(),e.h&&("number"==typeof e.h&&u.clearTimeout(e.h),e.h=null)}function Rn(e,t){e.g.push(new nn(e.Oa++,t)),3==e.v&&Ln(e)}function Ln(e){an(e.b)||e.h||(e.h=!0,Le(e.Ba,e),e.u=0)}function Fn(e,t){var n;n=t?t.f:e.R++;var r=Lt(e.B);Ut(r,"SID",e.J),Ut(r,"RID",n),Ut(r,"AID",e.P),Mn(e,r),e.i&&e.l&&Nn(r,e.i,e.l),n=new mt(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Vn(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),cn(e.b,n),bt(n,r,t)}function Mn(e,t){e.f&&Pt({},(function(e,n){Ut(t,n,e)}))}function Vn(e,t,n){n=Math.min(e.g.length,n);var r=e.f?g(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{pn(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function jn(e){e.a||e.j||(e.T=1,Le(e.Aa,e),e.o=0)}function Un(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=it(g(e.Aa,e),Wn(e,e.o)),e.o++,0))}function Bn(e){null!=e.s&&(u.clearTimeout(e.s),e.s=null)}function qn(e){e.a=new mt(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Lt(e.la);Ut(t,"RID","rpc"),Ut(t,"SID",e.J),Ut(t,"CI",e.H?"0":"1"),Ut(t,"AID",e.P),Mn(e,t),Ut(t,"TYPE","xmlhttp"),e.i&&e.l&&Nn(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Bt(Lt(t)),n.j=null,n.I=!0,_t(n,e)}function Gn(e){null!=e.m&&(u.clearTimeout(e.m),e.m=null)}function Kn(e,t){var n=null;if(e.a==t){Gn(e),Bn(e),e.a=null;var r=2}else{if(!un(e.b,t))return;n=t.s,ln(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=y()-t.u;var i=e.u;Ce(r=Ze(),new rt(r,n,t,i)),Ln(e)}else jn(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(sn(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=it(g(e.Ba,e,t),Wn(e,e.u)),e.u++,0)))}(e,t)||2==r&&Un(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Hn(e,5);break;case 4:Hn(e,10);break;case 3:Hn(e,6);break;default:Hn(e,2)}}function Wn(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Hn(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=g(e.Ya,e);n||(n=new Rt("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Ft(n,"https"),Bt(n)),function(e,t){var n=new Je;if(u.Image){var r=new Image;r.onload=v(mn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=v(mn,n,r,"TestLoadImage: error",!1,t),r.onabort=v(mn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=v(mn,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else nt(2);e.v=0,e.f&&e.f.ra(t),zn(e),Dn(e)}function zn(e){e.v=0,e.I=-1,e.f&&(0==hn(e.b).length&&0==e.g.length||(e.b.c.length=0,T(e.g),e.g.length=0),e.f.qa())}function Jn(e,t,n){var r=function(e){return e instanceof Rt?Lt(e):new Rt(e,void 0)}(n);if(""!=r.c)t&&Mt(r,t+"."+r.c),Vt(r,r.h);else{var i=u.location;r=function(e,t,n,r){var i=new Rt(null,void 0);return e&&Ft(i,e),t&&Mt(i,t),n&&Vt(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&O(e.V,(function(e,t){Ut(r,t,e)})),t=e.A,n=e.na,t&&n&&Ut(r,t,n),Ut(r,"VER",e.ha),Mn(e,r),r}function Qn(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new vn(e.Na)).F=e.C,t}function Yn(){}function Xn(){if(U&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function Zn(e,t){Ie.call(this),this.a=new xn(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!I(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new tr(this)}function $n(e){ft.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function er(){dt.call(this),this.status=1}function tr(e){this.a=e}(o=vn.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ut(this.H):ut(lt),this.a.onreadystatechange=g(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(e){return void Sn(this,e)}e=n||"";var i=new xt(this.headers);r&&Pt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=wn,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=u.FormData&&e instanceof u.FormData,!(0<=w(_n,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Cn(this),0<this.o&&((this.D=function(e){return U&&X(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.xa,this)):this.m=Be(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Sn(this,e)}},o.xa=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ce(this,"timeout"),this.abort(8))},o.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Ce(this,"complete"),Ce(this,"abort"),In(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),In(this,!0)),vn.X.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?Tn(this):this.Ua())},o.Ua=function(){Tn(this)},o.W=function(){try{return 2<kn(this)?this.a.status:-1}catch(e){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},o.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),gn(t)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=xn.prototype).ha=8,o.v=1,o.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new mt(this,this.c,e,void 0),r=this.l;if(this.O&&(r?L(r=D(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Vn(this,n,t),Ut(i=Lt(this.B),"RID",e),Ut(i,"CVER",22),this.A&&Ut(i,"X-HTTP-Session-Id",this.A),Mn(this,i),this.i&&r&&Nn(i,this.i,r),cn(this.b,n),this.Ia&&Ut(i,"TYPE","init"),this.da?(Ut(i,"$req",t),Ut(i,"SID","null"),n.U=!0,bt(n,i,null)):bt(n,i,t),this.v=2}}else 3==this.v&&(e?Fn(this,e):0==this.g.length||an(this.b)||Fn(this))},o.Aa=function(){if(this.j=null,qn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=it(g(this.Ta,this),e)}},o.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,nt(10),On(this),qn(this))},o.Sa=function(){null!=this.m&&(this.m=null,On(this),Un(this),nt(19))},o.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),nt(2)):(this.c.info("Failed to ping google.com"),nt(1))},(o=Yn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ja=function(){},Xn.prototype.a=function(e,t){return new Zn(e,t)},b(Zn,Ie),Zn.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;nt(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Jn(e,null,e.fa),Ln(e)},Zn.prototype.close=function(){An(this.a)},Zn.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,Rn(this.a,t)}else this.l?((t={}).__data__=Ne(e),Rn(this.a,t)):Rn(this.a,e)},Zn.prototype.G=function(){this.a.f=null,delete this.f,An(this.a),delete this.a,Zn.X.G.call(this)},b($n,ft),b(er,dt),b(tr,Yn),tr.prototype.ta=function(){Ce(this.a,"a")},tr.prototype.sa=function(e){Ce(this.a,new $n(e))},tr.prototype.ra=function(e){Ce(this.a,new er(e))},tr.prototype.qa=function(){Ce(this.a,"b")},Xn.prototype.createWebChannel=Xn.prototype.a,Zn.prototype.send=Zn.prototype.h,Zn.prototype.open=Zn.prototype.g,Zn.prototype.close=Zn.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,at.COMPLETE="complete",ct.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",Ie.prototype.listen=Ie.prototype.va,vn.prototype.listenOnce=vn.prototype.wa,vn.prototype.getLastError=vn.prototype.Qa,vn.prototype.getLastErrorCode=vn.prototype.ua,vn.prototype.getStatus=vn.prototype.W,vn.prototype.getResponseJson=vn.prototype.Pa,vn.prototype.getResponseText=vn.prototype.$,vn.prototype.send=vn.prototype.ba;var nr=function(){return new Xn},rr=function(){return Ze()},ir=ot,or=at,ar=Ye,sr={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},ur=ct,cr=vn},9222:function(e){e.exports=function(){return n={},e.m=t=[function(e,t,n){"use strict";n.r(t);var r={allowedTagList:["b","caption","cite","code","const","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","input","ins","kdb","label","li","option","output","p","q","s","sample","span","strong","td","th","u"]};Object.freeze(r.allowedTagList),Object.defineProperty(r,"allowedTagList",{configurable:!1,writable:!1}),r.keyCode={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Pause:19,CapsLock:20,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,num0:48,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,OSLeft:91,OSRight:92,ContextMenu:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,MultiplyNumpad:106,PlusNumpad:107,MinusNumpad:109,DotNumpad:110,SlashNumpad:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,HyphenFirefox:173,MyComputer:182,MyCalculator:183,Semicolon:186,Equal:187,Comma:188,Hyphen:189,Dot:190,Slash:191,Backquote:192,LeftBracket:219,Backslash:220,RightBracket:221,Quote:222,Command:224,AltGraph:225,AndroidDefault:229},Object.freeze(r.keyCode),Object.defineProperty(r,"keyCode",{configurable:!1,writable:!1}),r.fromCharCodeKeyCode={0:"LaunchCalculator",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",91:"OS",92:"OSRight",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",173:"-",182:"MyComputer",183:"MyCalculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta",225:"AltGraph"},Object.freeze(r.fromCharCodeKeyCode),Object.defineProperty(r,"fromCharCodeKeyCode",{configurable:!1,writable:!1}),r.keyName={Unidentified:"Unidentified",AndroidDefault:"AndroidDefault",Alt:"Alt",AltGr:"AltGraph",CapsLock:"CapsLock",Ctrl:"Control",Fn:"Fn",FnLock:"FnLock",Hyper:"Hyper",Meta:"Meta",OSLeft:"OS",OSRight:"OS",Command:"OS",NumLock:"NumLock",ScrollLock:"ScrollLock",Shift:"Shift",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",Enter:"Enter",Tab:"Tab",Space:" ",LeftArrow:"ArrowLeft",UpArrow:"ArrowUp",RightArrow:"ArrowRight",DownArrow:"ArrowDown",End:"End",Home:"Home",PageUp:"PageUp",PageDown:"PageDown",Backspace:"Backspace",Clear:"Clear",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",Delete:"Delete",EraseEof:"EraseEof",ExSel:"ExSel",Insert:"Insert",Paste:"Paste",Redo:"Redo",Undo:"Undo",Accept:"Accept",Again:"Again",Attn:"Attn",Cancel:"Cancel",ContextMenu:"ContextMenu",Esc:"Escape",Execute:"Execute",Find:"Find",Finish:"Finish",Help:"Help",Pause:"Pause",Play:"Play",Props:"Props",Select:"Select",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",Eject:"Eject",LogOff:"LogOff",Power:"Power",PowerOff:"PowerOff",PrintScreen:"PrintScreen",Hibernate:"Hibernate",Standby:"Standby",WakeUp:"WakeUp",Compose:"Compose",Dead:"Dead",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",Print:"Print",num0:"0",num1:"1",num2:"2",num3:"3",num4:"4",num5:"5",num6:"6",num7:"7",num8:"8",num9:"9",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",Semicolon:";",Equal:"=",Comma:",",Hyphen:"-",Minus:"-",Plus:"+",Dot:".",Slash:"/",Backquote:"`",LeftParenthesis:"(",RightParenthesis:")",LeftBracket:"[",RightBracket:"]",Backslash:"\\",Quote:"'",numpad0:"0",numpad1:"1",numpad2:"2",numpad3:"3",numpad4:"4",numpad5:"5",numpad6:"6",numpad7:"7",numpad8:"8",numpad9:"9",NumpadDot:".",NumpadDotAlt:",",NumpadMultiply:"*",NumpadPlus:"+",NumpadMinus:"-",NumpadSubtract:"-",NumpadSlash:"/",NumpadDotObsoleteBrowsers:"Decimal",NumpadMultiplyObsoleteBrowsers:"Multiply",NumpadPlusObsoleteBrowsers:"Add",NumpadMinusObsoleteBrowsers:"Subtract",NumpadSlashObsoleteBrowsers:"Divide",_allFnKeys:["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"],_someNonPrintableKeys:["Tab","Enter","Shift","ShiftLeft","ShiftRight","Control","ControlLeft","ControlRight","Alt","AltLeft","AltRight","Pause","CapsLock","Escape"],_directionKeys:["PageUp","PageDown","End","Home","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"]},Object.freeze(r.keyName._allFnKeys),Object.freeze(r.keyName._someNonPrintableKeys),Object.freeze(r.keyName._directionKeys),Object.freeze(r.keyName),Object.defineProperty(r,"keyName",{configurable:!1,writable:!1}),Object.freeze(r);var i=r;function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,[{key:"isNull",value:function(e){return null===e}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isUndefinedOrNullOrEmpty",value:function(e){return null==e||""===e}},{key:"isString",value:function(e){return"string"==typeof e||e instanceof String}},{key:"isEmptyString",value:function(e){return""===e}},{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isTrueOrFalseString",value:function(e){var t=String(e).toLowerCase();return"true"===t||"false"===t}},{key:"isObject",value:function(e){return"object"===l(e)&&null!==e&&!Array.isArray(e)}},{key:"isEmptyObj",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}},{key:"isNumberStrict",value:function(e){return"number"==typeof e}},{key:"isNumber",value:function(e){return!this.isArray(e)&&!isNaN(parseFloat(e))&&isFinite(e)}},{key:"isDigit",value:function(e){return/\d/.test(e)}},{key:"isNumberOrArabic",value:function(e){var t=this.arabicToLatinNumbers(e,!1,!0,!0);return this.isNumber(t)}},{key:"isInt",value:function(e){return"number"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isIE11",value:function(){return"undefined"!=typeof window&&!!window.MSInputMethodContext&&!!document.documentMode}},{key:"contains",value:function(e,t){return!(!this.isString(e)||!this.isString(t)||""===e||""===t)&&-1!==e.indexOf(t)}},{key:"isInArray",value:function(e,t){return!(!this.isArray(t)||t===[]||this.isUndefined(e))&&-1!==t.indexOf(e)}},{key:"isArray",value:function(e){if("[object Array]"===Object.prototype.toString.call([]))return Array.isArray(e)||"object"===l(e)&&"[object Array]"===Object.prototype.toString.call(e);throw new Error("toString message changed for Object Array")}},{key:"isElement",value:function(e){return"undefined"!=typeof Element&&e instanceof Element}},{key:"isInputElement",value:function(e){return this.isElement(e)&&"input"===e.tagName.toLowerCase()}},{key:"decimalPlaces",value:function(e){var t=s(e.split("."),2)[1];return this.isUndefined(t)?0:t.length}},{key:"indexFirstNonZeroDecimalPlace",value:function(e){var t=s(String(Math.abs(e)).split("."),2)[1];if(this.isUndefined(t))return 0;var n=t.lastIndexOf("0");return-1===n?n=0:n+=2,n}},{key:"keyCodeNumber",value:function(e){return void 0===e.which?e.keyCode:e.which}},{key:"character",value:function(t){var n;if("Unidentified"===t.key||void 0===t.key||this.isSeleniumBot()){var r=this.keyCodeNumber(t);if(r===i.keyCode.AndroidDefault)return i.keyName.AndroidDefault;var o=i.fromCharCodeKeyCode[r];n=e.isUndefinedOrNullOrEmpty(o)?String.fromCharCode(r):o}else{var a;switch(t.key){case"Add":n=i.keyName.NumpadPlus;break;case"Apps":n=i.keyName.ContextMenu;break;case"Crsel":n=i.keyName.CrSel;break;case"Decimal":n=t.char?t.char:i.keyName.NumpadDot;break;case"Del":n="firefox"===(a=this.browser()).name&&a.version<=36||"ie"===a.name&&a.version<=9?i.keyName.Dot:i.keyName.Delete;break;case"Divide":n=i.keyName.NumpadSlash;break;case"Down":n=i.keyName.DownArrow;break;case"Esc":n=i.keyName.Esc;break;case"Exsel":n=i.keyName.ExSel;break;case"Left":n=i.keyName.LeftArrow;break;case"Meta":case"Super":n=i.keyName.OSLeft;break;case"Multiply":n=i.keyName.NumpadMultiply;break;case"Right":n=i.keyName.RightArrow;break;case"Spacebar":n=i.keyName.Space;break;case"Subtract":n=i.keyName.NumpadMinus;break;case"Up":n=i.keyName.UpArrow;break;default:n=t.key}}return n}},{key:"browser",value:function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"ie",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]&&null!==(e=t.match(/\b(OPR|Edge)\/(\d+)/))?{name:e[1].replace("OPR","opera"),version:e[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0].toLowerCase(),version:n[1]})}},{key:"isSeleniumBot",value:function(){return!0===window.navigator.webdriver}},{key:"isNegative",value:function(t,n,r){var i=1<arguments.length&&void 0!==n?n:"-",o=!(2<arguments.length&&void 0!==r)||r;return t===i||""!==t&&(e.isNumber(t)?t<0:o?this.contains(t,i):this.isNegativeStrict(t,i))}},{key:"isNegativeStrict",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"-";return e.charAt(0)===n}},{key:"isNegativeWithBrackets",value:function(e,t,n){return e.charAt(0)===t&&this.contains(e,n)}},{key:"isZeroOrHasNoValue",value:function(e){return!/[1-9]/g.test(e)}},{key:"setRawNegativeSign",value:function(e){return this.isNegativeStrict(e,"-")?e:"-".concat(e)}},{key:"replaceCharAt",value:function(e,t,n){return"".concat(e.substr(0,t)).concat(n).concat(e.substr(t+n.length))}},{key:"clampToRangeLimits",value:function(e,t){return Math.max(t.minimumValue,Math.min(t.maximumValue,e))}},{key:"countNumberCharactersOnTheCaretLeftSide",value:function(e,t,n){for(var r=new RegExp("[0-9".concat(n,"-]")),i=0,o=0;o<t;o++)r.test(e[o])&&i++;return i}},{key:"findCaretPositionInFormattedNumber",value:function(e,t,n,r){var i,o=n.length,a=e.length,s=0;for(i=0;i<o&&s<a&&s<t;i++)(e[s]===n[i]||"."===e[s]&&n[i]===r)&&s++;return i}},{key:"countCharInText",value:function(e,t){for(var n=0,r=0;r<t.length;r++)t[r]===e&&n++;return n}},{key:"convertCharacterCountToIndexPosition",value:function(e){return Math.max(e,e-1)}},{key:"getElementSelection",value:function(e){var t,n={};try{t=this.isUndefined(e.selectionStart)}catch(e){t=!1}try{if(t){var r=window.getSelection().getRangeAt(0);n.start=r.startOffset,n.end=r.endOffset,n.length=n.end-n.start}else n.start=e.selectionStart,n.end=e.selectionEnd,n.length=n.end-n.start}catch(e){n.start=0,n.end=0,n.length=0}return n}},{key:"setElementSelection",value:function(t,n,r){var i=2<arguments.length&&void 0!==r?r:null;if(this.isUndefinedOrNullOrEmpty(i)&&(i=n),this.isInputElement(t))t.setSelectionRange(n,i);else if(!e.isNull(t.firstChild)){var o=document.createRange();o.setStart(t.firstChild,n),o.setEnd(t.firstChild,i);var a=window.getSelection();a.removeAllRanges(),a.addRange(o)}}},{key:"throwError",value:function(e){throw new Error(e)}},{key:"warning",value:function(e,t){1<arguments.length&&void 0!==t&&!t||console.warn("Warning: ".concat(e))}},{key:"isWheelUpEvent",value:function(e){return e.deltaY||this.throwError("The event passed as a parameter is not a valid wheel event, '".concat(e.type,"' given.")),e.deltaY<0}},{key:"isWheelDownEvent",value:function(e){return e.deltaY||this.throwError("The event passed as a parameter is not a valid wheel event, '".concat(e.type,"' given.")),0<e.deltaY}},{key:"forceDecimalPlaces",value:function(e,t){var n=s(String(e).split("."),2),r=n[0],i=n[1];return i?"".concat(r,".").concat(i.substr(0,t)):e}},{key:"roundToNearest",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:1e3;return 0===e?0:(0===n&&this.throwError("The `stepPlace` used to round is equal to `0`. This value must not be equal to zero."),Math.round(e/n)*n)}},{key:"modifyAndRoundToNearestAuto",value:function(e,t,n){e=Number(this.forceDecimalPlaces(e,n));var r=Math.abs(e);if(0<=r&&r<1){var i,o=Math.pow(10,-n);if(0===e)return t?o:-o;var a,s=n,u=this.indexFirstNonZeroDecimalPlace(e);return i=s-1<=u?o:Math.pow(10,-(u+1)),a=t?e+i:e-i,this.roundToNearest(a,i)}e=parseInt(e,10);var c,l=Math.abs(e).toString().length;switch(l){case 1:c=0;break;case 2:case 3:c=1;break;case 4:case 5:c=2;break;default:c=l-3}var h,f=Math.pow(10,c);return(h=t?e+f:e-f)<=10&&-10<=h?h:this.roundToNearest(h,f)}},{key:"addAndRoundToNearestAuto",value:function(e,t){return this.modifyAndRoundToNearestAuto(e,!0,t)}},{key:"subtractAndRoundToNearestAuto",value:function(e,t){return this.modifyAndRoundToNearestAuto(e,!1,t)}},{key:"arabicToLatinNumbers",value:function(e,t,n,r){var i=!(1<arguments.length&&void 0!==t)||t,o=2<arguments.length&&void 0!==n&&n,a=3<arguments.length&&void 0!==r&&r;if(this.isNull(e))return e;var s=e.toString();if(""===s)return e;if(null===s.match(/[]/g))return i&&(s=Number(s)),s;o&&(s=s.replace(//,".")),a&&(s=s.replace(//g,"")),s=s.replace(/[]/g,(function(e){return e.charCodeAt(0)-1632})).replace(/[]/g,(function(e){return e.charCodeAt(0)-1776}));var u=Number(s);return isNaN(u)?u:(i&&(s=u),s)}},{key:"triggerEvent",value:function(e,t,n,r,i){var o,a=1<arguments.length&&void 0!==t?t:document,s=2<arguments.length&&void 0!==n?n:null,u=!(3<arguments.length&&void 0!==r)||r,c=!(4<arguments.length&&void 0!==i)||i;window.CustomEvent?o=new CustomEvent(e,{detail:s,bubbles:u,cancelable:c}):(o=document.createEvent("CustomEvent")).initCustomEvent(e,u,c,{detail:s}),a.dispatchEvent(o)}},{key:"parseStr",value:function(e){var t,n,r,i,o={};if(0===e&&1/e<0&&(e="-0"),e=e.toString(),this.isNegativeStrict(e,"-")?(e=e.slice(1),o.s=-1):o.s=1,-1<(t=e.indexOf("."))&&(e=e.replace(".","")),t<0&&(t=e.length),(n=-1===e.search(/[1-9]/i)?e.length:e.search(/[1-9]/i))===(r=e.length))o.e=0,o.c=[0];else{for(i=r-1;"0"===e.charAt(i);--i)--r;for(--r,o.e=t-n-1,o.c=[],t=0;n<=r;n+=1)o.c[t]=+e.charAt(n),t+=1}return o}},{key:"testMinMax",value:function(e,t){var n=t.c,r=e.c,i=t.s,o=e.s,a=t.e,s=e.e;if(!n[0]||!r[0])return n[0]?i:r[0]?-o:0;if(i!==o)return i;var u=i<0;if(a!==s)return s<a^u?1:-1;for(i=-1,o=(a=n.length)<(s=r.length)?a:s,i+=1;i<o;i+=1)if(n[i]!==r[i])return n[i]>r[i]^u?1:-1;return a===s?0:s<a^u?1:-1}},{key:"randomString",value:function(e){var t=0<arguments.length&&void 0!==e?e:5;return Math.random().toString(36).substr(2,t)}},{key:"domElement",value:function(t){return e.isString(t)?document.querySelector(t):t}},{key:"getElementValue",value:function(e){return"input"===e.tagName.toLowerCase()?e.value:this.text(e)}},{key:"setElementValue",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;"input"===e.tagName.toLowerCase()?e.value=n:e.textContent=n}},{key:"setInvalidState",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"Invalid";""!==n&&!this.isNull(n)||this.throwError("Cannot set the invalid state with an empty message."),e.setCustomValidity(n)}},{key:"setValidState",value:function(e){e.setCustomValidity("")}},{key:"cloneObject",value:function(e){return a({},e)}},{key:"camelize",value:function(e,t,n,r){var i=1<arguments.length&&void 0!==t?t:"-",o=!(2<arguments.length&&void 0!==n)||n,a=!(3<arguments.length&&void 0!==r)||r;if(this.isNull(e))return null;o&&(e=e.replace(/^data-/,""));var s=e.split(i).map((function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}));return s=s.join(""),a&&(s="".concat(s.charAt(0).toLowerCase()).concat(s.slice(1))),s}},{key:"text",value:function(e){var t=e.nodeType;return t===Node.ELEMENT_NODE||t===Node.DOCUMENT_NODE||t===Node.DOCUMENT_FRAGMENT_NODE?e.textContent:t===Node.TEXT_NODE?e.nodeValue:""}},{key:"setText",value:function(e,t){var n=e.nodeType;n!==Node.ELEMENT_NODE&&n!==Node.DOCUMENT_NODE&&n!==Node.DOCUMENT_FRAGMENT_NODE||(e.textContent=t)}},{key:"filterOut",value:function(e,t){var n=this;return e.filter((function(e){return!n.isInArray(e,t)}))}},{key:"trimPaddedZerosFromDecimalPlaces",value:function(e){if(""===(e=String(e)))return"";var t=s(e.split("."),2),n=t[0],r=t[1];if(this.isUndefinedOrNullOrEmpty(r))return n;var i=r.replace(/0+$/g,"");return""===i?n:"".concat(n,".").concat(i)}},{key:"getHoveredElement",value:function(){var e=o(document.querySelectorAll(":hover"));return e[e.length-1]}},{key:"arrayTrim",value:function(e,t){var n=e.length;return 0===n||n<t?e:t<0?[]:(e.length=parseInt(t,10),e)}},{key:"arrayUnique",value:function(){var e;return o(new Set((e=[]).concat.apply(e,arguments)))}},{key:"mergeMaps",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Map(t.reduce((function(e,t){return e.concat(o(t))}),[]))}},{key:"objectKeyLookup",value:function(e,t){var n=Object.entries(e).find((function(e){return e[1]===t})),r=null;return void 0!==n&&(r=n[0]),r}},{key:"insertAt",value:function(e,t,n){if(n>(e=String(e)).length)throw new Error("The given index is out of the string range.");if(1!==t.length)throw new Error("The given string `char` should be only one character long.");return""===e&&0===n?t:"".concat(e.slice(0,n)).concat(t).concat(e.slice(n))}},{key:"scientificToDecimal",value:function(e){var t=Number(e);if(isNaN(t))return NaN;if(e=String(e),!this.contains(e,"e")&&!this.contains(e,"E"))return e;var n=s(e.split(/e/i),2),r=n[0],i=n[1],o=r<0;o&&(r=r.replace("-",""));var a=+i<0;a&&(i=i.replace("-",""));var u,c=s(r.split(/\./),2),l=c[0],h=c[1];return u=a?(u=l.length>i?this.insertAt(l,".",l.length-i):"0.".concat("0".repeat(i-l.length)).concat(l),"".concat(u).concat(h||"")):h?(r="".concat(l).concat(h),i<h.length?this.insertAt(r,".",+i+l.length):"".concat(r).concat("0".repeat(i-h.length))):(r=r.replace(".",""),"".concat(r).concat("0".repeat(Number(i)))),o&&(u="-".concat(u)),u}}]),e}(),f=function(){function e(t){if(function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),null===t)throw new Error("Invalid AST")}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"evaluate",value:function(e){if(null==e)throw new Error("Invalid AST sub-tree");if("number"===e.type)return e.value;if("unaryMinus"===e.type)return-this.evaluate(e.left);var t=this.evaluate(e.left),n=this.evaluate(e.right);switch(e.type){case"op_+":return Number(t)+Number(n);case"op_-":return t-n;case"op_*":return t*n;case"op_/":return t/n;default:throw new Error("Invalid operator '".concat(e.type,"'"))}}}]),e}(),d=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,[{key:"createNode",value:function(t,n,r){var i=new e;return i.type=t,i.left=n,i.right=r,i}},{key:"createUnaryNode",value:function(t){var n=new e;return n.type="unaryMinus",n.left=t,n.right=null,n}},{key:"createLeaf",value:function(t){var n=new e;return n.type="number",n.value=t,n}}]),e}();function p(e,t,n){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this),this.type=e,this.value=t,this.symbol=n}var m=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.text=t,this.textLength=t.length,this.index=0,this.token=new p("Error",0,0)}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"_skipSpaces",value:function(){for(;" "===this.text[this.index]&&this.index<=this.textLength;)this.index++}},{key:"getIndex",value:function(){return this.index}},{key:"getNextToken",value:function(e){var t=0<arguments.length&&void 0!==e?e:".";if(this._skipSpaces(),this.textLength===this.index)return this.token.type="EOT",this.token;if(h.isDigit(this.text[this.index]))return this.token.type="num",this.token.value=this._getNumber(t),this.token;switch(this.token.type="Error",this.text[this.index]){case"+":this.token.type="+";break;case"-":this.token.type="-";break;case"*":this.token.type="*";break;case"/":this.token.type="/";break;case"(":this.token.type="(";break;case")":this.token.type=")"}if("Error"===this.token.type)throw new Error("Unexpected token '".concat(this.token.symbol,"' at position '").concat(this.token.index,"' in the token function"));return this.token.symbol=this.text[this.index],this.index++,this.token}},{key:"_getNumber",value:function(e){this._skipSpaces();for(var t=this.index;this.index<=this.textLength&&h.isDigit(this.text[this.index]);)this.index++;for(this.text[this.index]===e&&this.index++;this.index<=this.textLength&&h.isDigit(this.text[this.index]);)this.index++;if(this.index===t)throw new Error("No number has been found while it was expected");return this.text.substring(t,this.index).replace(e,".")}}]),e}(),g=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:".";return function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.text=t,this.decimalCharacter=n,this.lexer=new m(t),this.token=this.lexer.getNextToken(this.decimalCharacter),this._exp()}return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"_exp",value:function(){var e=this._term(),t=this._moreExp();return d.createNode("op_+",e,t)}},{key:"_moreExp",value:function(){var e,t;switch(this.token.type){case"+":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._term(),t=this._moreExp(),d.createNode("op_+",t,e);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._term(),t=this._moreExp(),d.createNode("op_-",t,e)}return d.createLeaf(0)}},{key:"_term",value:function(){var e=this._factor(),t=this._moreTerms();return d.createNode("op_*",e,t)}},{key:"_moreTerms",value:function(){var e,t;switch(this.token.type){case"*":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._factor(),t=this._moreTerms(),d.createNode("op_*",t,e);case"/":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._factor(),t=this._moreTerms(),d.createNode("op_/",t,e)}return d.createLeaf(1)}},{key:"_factor",value:function(){var e,t,n;switch(this.token.type){case"num":return n=this.token.value,this.token=this.lexer.getNextToken(this.decimalCharacter),d.createLeaf(n);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),t=this._factor(),d.createUnaryNode(t);case"(":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._exp(),this._match(")"),e;default:throw new Error("Unexpected token '".concat(this.token.symbol,"' with type '").concat(this.token.type,"' at position '").concat(this.token.index,"' in the factor function"))}}},{key:"_match",value:function(e){var t=this.lexer.getIndex()-1;if(this.text[t]!==e)throw new Error("Unexpected token '".concat(this.token.symbol,"' at position '").concat(t,"' in the match function"));this.token=this.lexer.getNextToken(this.decimalCharacter)}}]),e}();function v(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T,I=function(){function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var o=e._setArgumentsValues(n,r,i),a=o.domElement,s=o.initialValue,u=o.userOptions;if(this.domElement=a,this.defaultRawValue="",this._setSettings(u,!1),this._checkElement(),this.savedCancellableValue=null,this.historyTable=[],this.historyTableIndex=-1,this.onGoingRedo=!1,this.parentForm=this._getParentForm(),!this.runOnce&&this.settings.formatOnPageLoad)this._formatDefaultValueOnPageLoad(s);else{var c;if(h.isNull(s))switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.min:c=this.settings.minimumValue;break;case e.options.emptyInputBehavior.max:c=this.settings.maximumValue;break;case e.options.emptyInputBehavior.zero:c="0";break;case e.options.emptyInputBehavior.focus:case e.options.emptyInputBehavior.press:case e.options.emptyInputBehavior.always:case e.options.emptyInputBehavior.null:c="";break;default:c=this.settings.emptyInputBehavior}else c=s;this._setElementAndRawValue(c)}this.runOnce=!0,this.hasEventListeners=!1,(this.isInputElement||this.isContentEditable)&&(this.settings.noEventListeners||this._createEventListeners(),this._setWritePermissions(!0)),this._saveInitialValues(s),this.sessionStorageAvailable=this.constructor._storageTest(),this.storageNamePrefix="AUTO_",this._setPersistentStorageName(),this.validState=!0,this.isFocused=!1,this.isWheelEvent=!1,this.isDropEvent=!1,this.isEditing=!1,this.rawValueOnFocus=void 0,this.internalModification=!1,this.attributeToWatch=this._getAttributeToWatch(),this.getterSetter=Object.getOwnPropertyDescriptor(this.domElement.__proto__,this.attributeToWatch),this._addWatcher(),this.settings.createLocalList&&this._createLocalList(),this.constructor._addToGlobalList(this),this.global={set:function(e,n){var r=1<arguments.length&&void 0!==n?n:null;t.autoNumericLocalList.forEach((function(t){t.set(e,r)}))},setUnformatted:function(e,n){var r=1<arguments.length&&void 0!==n?n:null;t.autoNumericLocalList.forEach((function(t){t.setUnformatted(e,r)}))},get:function(e){var n=0<arguments.length&&void 0!==e?e:null,r=[];return t.autoNumericLocalList.forEach((function(e){r.push(e.get())})),t._executeCallback(r,n),r},getNumericString:function(e){var n=0<arguments.length&&void 0!==e?e:null,r=[];return t.autoNumericLocalList.forEach((function(e){r.push(e.getNumericString())})),t._executeCallback(r,n),r},getFormatted:function(e){var n=0<arguments.length&&void 0!==e?e:null,r=[];return t.autoNumericLocalList.forEach((function(e){r.push(e.getFormatted())})),t._executeCallback(r,n),r},getNumber:function(e){var n=0<arguments.length&&void 0!==e?e:null,r=[];return t.autoNumericLocalList.forEach((function(e){r.push(e.getNumber())})),t._executeCallback(r,n),r},getLocalized:function(e){var n=0<arguments.length&&void 0!==e?e:null,r=[];return t.autoNumericLocalList.forEach((function(e){r.push(e.getLocalized())})),t._executeCallback(r,n),r},reformat:function(){t.autoNumericLocalList.forEach((function(e){e.reformat()}))},unformat:function(){t.autoNumericLocalList.forEach((function(e){e.unformat()}))},unformatLocalized:function(e){var n=0<arguments.length&&void 0!==e?e:null;t.autoNumericLocalList.forEach((function(e){e.unformatLocalized(n)}))},update:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.autoNumericLocalList.forEach((function(e){e.update.apply(e,n)}))},isPristine:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],n=!0;return t.autoNumericLocalList.forEach((function(t){n&&!t.isPristine(e)&&(n=!1)})),n},clear:function(e){var n=0<arguments.length&&void 0!==e&&e;t.autoNumericLocalList.forEach((function(e){e.clear(n)}))},remove:function(){t.autoNumericLocalList.forEach((function(e){e.remove()}))},wipe:function(){t.autoNumericLocalList.forEach((function(e){e.wipe()}))},nuke:function(){t.autoNumericLocalList.forEach((function(e){e.nuke()}))},has:function(n){return n instanceof e?t.autoNumericLocalList.has(n.node()):t.autoNumericLocalList.has(n)},addObject:function(n){var r,i;i=n instanceof e?(r=n.node(),n):e.getAutoNumericElement(r=n),t._hasLocalList()||t._createLocalList();var o,a=i._getLocalList();0===a.size&&(i._createLocalList(),a=i._getLocalList()),(o=a instanceof Map?h.mergeMaps(t._getLocalList(),a):(t._addToLocalList(r,i),t._getLocalList())).forEach((function(e){e._setLocalList(o)}))},removeObject:function(n,r){var i,o,a=1<arguments.length&&void 0!==r&&r;o=n instanceof e?(i=n.node(),n):e.getAutoNumericElement(i=n);var s=t.autoNumericLocalList;t.autoNumericLocalList.delete(i),s.forEach((function(e){e._setLocalList(t.autoNumericLocalList)})),a||i!==t.node()?o._createLocalList():o._setLocalList(new Map)},empty:function(e){var n=0<arguments.length&&void 0!==e&&e;t.autoNumericLocalList.forEach((function(e){n?e._createLocalList():e._setLocalList(new Map)}))},elements:function(){var e=[];return t.autoNumericLocalList.forEach((function(t){e.push(t.node())})),e},getList:function(){return t.autoNumericLocalList},size:function(){return t.autoNumericLocalList.size}},this.options={reset:function(){return t.settings={rawValue:t.defaultRawValue},t.update(e.defaultSettings),t},allowDecimalPadding:function(e){return t.update({allowDecimalPadding:e}),t},alwaysAllowDecimalCharacter:function(e){return t.update({alwaysAllowDecimalCharacter:e}),t},caretPositionOnFocus:function(e){return t.settings.caretPositionOnFocus=e,t},createLocalList:function(e){return t.settings.createLocalList=e,t.settings.createLocalList?t._hasLocalList()||t._createLocalList():t._deleteLocalList(),t},currencySymbol:function(e){return t.update({currencySymbol:e}),t},currencySymbolPlacement:function(e){return t.update({currencySymbolPlacement:e}),t},decimalCharacter:function(e){return t.update({decimalCharacter:e}),t},decimalCharacterAlternative:function(e){return t.settings.decimalCharacterAlternative=e,t},decimalPlaces:function(e){return h.warning("Using `options.decimalPlaces()` instead of calling the specific `options.decimalPlacesRawValue()`, `options.decimalPlacesShownOnFocus()` and `options.decimalPlacesShownOnBlur()` methods will reset those options.\nPlease call the specific methods if you do not want to reset those.",t.settings.showWarnings),t.update({decimalPlaces:e}),t},decimalPlacesRawValue:function(e){return t.update({decimalPlacesRawValue:e}),t},decimalPlacesShownOnBlur:function(e){return t.update({decimalPlacesShownOnBlur:e}),t},decimalPlacesShownOnFocus:function(e){return t.update({decimalPlacesShownOnFocus:e}),t},defaultValueOverride:function(e){return t.update({defaultValueOverride:e}),t},digitalGroupSpacing:function(e){return t.update({digitalGroupSpacing:e}),t},digitGroupSeparator:function(e){return t.update({digitGroupSeparator:e}),t},divisorWhenUnfocused:function(e){return t.update({divisorWhenUnfocused:e}),t},emptyInputBehavior:function(n){return null===t.rawValue&&n!==e.options.emptyInputBehavior.null&&(h.warning("You are trying to modify the `emptyInputBehavior` option to something different than `'null'` (".concat(n,"), but the element raw value is currently set to `null`. This would result in an invalid `rawValue`. In order to fix that, the element value has been changed to the empty string `''`."),t.settings.showWarnings),t.rawValue=""),t.update({emptyInputBehavior:n}),t},eventBubbles:function(e){return t.settings.eventBubbles=e,t},eventIsCancelable:function(e){return t.settings.eventIsCancelable=e,t},failOnUnknownOption:function(e){return t.settings.failOnUnknownOption=e,t},formatOnPageLoad:function(e){return t.settings.formatOnPageLoad=e,t},formulaMode:function(e){return t.settings.formulaMode=e,t},historySize:function(e){return t.settings.historySize=e,t},invalidClass:function(e){return t.settings.invalidClass=e,t},isCancellable:function(e){return t.settings.isCancellable=e,t},leadingZero:function(e){return t.update({leadingZero:e}),t},maximumValue:function(e){return t.update({maximumValue:e}),t},minimumValue:function(e){return t.update({minimumValue:e}),t},modifyValueOnWheel:function(e){return t.settings.modifyValueOnWheel=e,t},negativeBracketsTypeOnBlur:function(e){return t.update({negativeBracketsTypeOnBlur:e}),t},negativePositiveSignPlacement:function(e){return t.update({negativePositiveSignPlacement:e}),t},negativeSignCharacter:function(e){return t.update({negativeSignCharacter:e}),t},noEventListeners:function(n){return n===e.options.noEventListeners.noEvents&&t.settings.noEventListeners===e.options.noEventListeners.addEvents&&t._removeEventListeners(),t.update({noEventListeners:n}),t},onInvalidPaste:function(e){return t.settings.onInvalidPaste=e,t},outputFormat:function(e){return t.settings.outputFormat=e,t},overrideMinMaxLimits:function(e){return t.update({overrideMinMaxLimits:e}),t},positiveSignCharacter:function(e){return t.update({positiveSignCharacter:e}),t},rawValueDivisor:function(e){return t.update({rawValueDivisor:e}),t},readOnly:function(e){return t.settings.readOnly=e,t._setWritePermissions(),t},roundingMethod:function(e){return t.update({roundingMethod:e}),t},saveValueToSessionStorage:function(e){return t.update({saveValueToSessionStorage:e}),t},symbolWhenUnfocused:function(e){return t.update({symbolWhenUnfocused:e}),t},selectNumberOnly:function(e){return t.settings.selectNumberOnly=e,t},selectOnFocus:function(e){return t.settings.selectOnFocus=e,t},serializeSpaces:function(e){return t.settings.serializeSpaces=e,t},showOnlyNumbersOnFocus:function(e){return t.update({showOnlyNumbersOnFocus:e}),t},showPositiveSign:function(e){return t.update({showPositiveSign:e}),t},showWarnings:function(e){return t.settings.showWarnings=e,t},styleRules:function(e){return t.update({styleRules:e}),t},suffixText:function(e){return t.update({suffixText:e}),t},unformatOnHover:function(e){return t.settings.unformatOnHover=e,t},unformatOnSubmit:function(e){return t.settings.unformatOnSubmit=e,t},valuesToStrings:function(e){return t.update({valuesToStrings:e}),t},watchExternalChanges:function(e){return t.update({watchExternalChanges:e}),t},wheelOn:function(e){return t.settings.wheelOn=e,t},wheelStep:function(e){return t.settings.wheelStep=e,t}},this._triggerEvent(e.events.initialized,this.domElement,{newValue:h.getElementValue(this.domElement),newRawValue:this.rawValue,error:null,aNElement:this})}var t,n;return n=[{key:"version",value:function(){return"4.6.0"}},{key:"_setArgumentsValues",value:function(e,t,n){h.isNull(e)&&h.throwError("At least one valid parameter is needed in order to initialize an AutoNumeric object");var r,i,o,a=h.isElement(e),s=h.isString(e),u=h.isObject(t),c=Array.isArray(t)&&0<t.length,l=h.isNumberOrArabic(t)||""===t,f=this._isPreDefinedOptionValid(t),d=h.isNull(t),p=h.isEmptyString(t),m=h.isObject(n),g=Array.isArray(n)&&0<n.length,v=h.isNull(n),y=this._isPreDefinedOptionValid(n);return a&&d&&v?(r=e,i=o=null):a&&l&&v?(r=e,o=t,i=null):a&&u&&v?(r=e,o=null,i=t):a&&f&&v?(r=e,o=null,i=this._getOptionObject(t)):a&&c&&v?(r=e,o=null,i=this.mergeOptions(t)):a&&(d||p)&&m?(r=e,o=null,i=n):a&&(d||p)&&g?(r=e,o=null,i=this.mergeOptions(n)):s&&d&&v?(r=document.querySelector(e),i=o=null):s&&u&&v?(r=document.querySelector(e),o=null,i=t):s&&f&&v?(r=document.querySelector(e),o=null,i=this._getOptionObject(t)):s&&c&&v?(r=document.querySelector(e),o=null,i=this.mergeOptions(t)):s&&(d||p)&&m?(r=document.querySelector(e),o=null,i=n):s&&(d||p)&&g?(r=document.querySelector(e),o=null,i=this.mergeOptions(n)):s&&l&&v?(r=document.querySelector(e),o=t,i=null):s&&l&&m?(r=document.querySelector(e),o=t,i=n):s&&l&&y?(r=document.querySelector(e),o=t,i=this._getOptionObject(n)):s&&l&&g?(r=document.querySelector(e),o=t,i=this.mergeOptions(n)):a&&l&&m?(r=e,o=t,i=n):a&&l&&y?(r=e,o=t,i=this._getOptionObject(n)):a&&l&&g?(r=e,o=t,i=this.mergeOptions(n)):h.throwError("The parameters given to the AutoNumeric object are not valid, '".concat(e,"', '").concat(t,"' and '").concat(n,"' given.")),h.isNull(r)&&h.throwError("The selector '".concat(e,"' did not select any valid DOM element. Please check on which element you called AutoNumeric.")),{domElement:r,initialValue:o,userOptions:i}}},{key:"mergeOptions",value:function(e){var t=this,n={};return e.forEach((function(e){w(n,t._getOptionObject(e))})),n}},{key:"_isPreDefinedOptionValid",value:function(t){return Object.prototype.hasOwnProperty.call(e.predefinedOptions,t)}},{key:"_getOptionObject",value:function(t){var n;return h.isString(t)?null==(n=e.getPredefinedOptions()[t])&&h.warning("The given pre-defined option [".concat(t,"] is not recognized by autoNumeric. Please check that pre-defined option name."),!0):n=t,n}},{key:"_doesFormHandlerListExists",value:function(){var e=S(window.aNFormHandlerMap);return"undefined"!==e&&"object"===e}},{key:"_createFormHandlerList",value:function(){window.aNFormHandlerMap=new Map}},{key:"_checkValuesToStringsArray",value:function(e,t){return h.isInArray(String(e),t)}},{key:"_checkValuesToStringsSettings",value:function(e,t){return this._checkValuesToStringsArray(e,Object.keys(t.valuesToStrings))}},{key:"_checkStringsToValuesSettings",value:function(e,t){return this._checkValuesToStringsArray(e,Object.values(t.valuesToStrings))}},{key:"_unformatAltHovered",value:function(e){e.hoveredWithAlt=!0,e.unformat()}},{key:"_reformatAltHovered",value:function(e){e.hoveredWithAlt=!1,e.reformat()}},{key:"_getChildANInputElement",value:function(e){var t=this,n=e.getElementsByTagName("input"),r=[];return Array.prototype.slice.call(n,0).forEach((function(e){t.test(e)&&r.push(e)})),r}},{key:"test",value:function(e){return this._isInGlobalList(h.domElement(e))}},{key:"_createWeakMap",value:function(e){window[e]=new WeakMap}},{key:"_createGlobalList",value:function(){this.autoNumericGlobalListName="autoNumericGlobalList",this._createWeakMap(this.autoNumericGlobalListName)}},{key:"_doesGlobalListExists",value:function(){var e=S(window[this.autoNumericGlobalListName]);return"undefined"!==e&&"object"===e}},{key:"_addToGlobalList",value:function(e){this._doesGlobalListExists()||this._createGlobalList();var t=e.node();if(this._isInGlobalList(t)){if(this._getFromGlobalList(t)===this)return;h.warning("A reference to the DOM element you just initialized already exists in the global AutoNumeric element list. Please make sure to not initialize the same DOM element multiple times.",e.getSettings().showWarnings)}window[this.autoNumericGlobalListName].set(t,e)}},{key:"_removeFromGlobalList",value:function(e){this._doesGlobalListExists()&&window[this.autoNumericGlobalListName].delete(e.node())}},{key:"_getFromGlobalList",value:function(e){return this._doesGlobalListExists()?window[this.autoNumericGlobalListName].get(e):null}},{key:"_isInGlobalList",value:function(e){return!!this._doesGlobalListExists()&&window[this.autoNumericGlobalListName].has(e)}},{key:"validate",value:function(t,n,r){var i=!(1<arguments.length&&void 0!==n)||n,o=2<arguments.length&&void 0!==r?r:null;!h.isUndefinedOrNullOrEmpty(t)&&h.isObject(t)||h.throwError("The userOptions are invalid ; it should be a valid object, [".concat(t,"] given."));var a,s=h.isObject(o);s||h.isNull(o)||h.throwError("The 'originalOptions' parameter is invalid ; it should either be a valid option object or `null`, [".concat(t,"] given.")),h.isNull(t)||this._convertOldOptionsToNewOnes(t),a=i?w({},this.getDefaultConfig(),t):t,h.isTrueOrFalseString(a.showWarnings)||h.isBoolean(a.showWarnings)||h.throwError("The debug option 'showWarnings' is invalid ; it should be either 'true' or 'false', [".concat(a.showWarnings,"] given."));var u,c=/^[0-9]+$/,l=/[0-9]+/,f=/^-?[0-9]+(\.?[0-9]+)?$/,d=/^[0-9]+(\.?[0-9]+)?$/;h.isTrueOrFalseString(a.allowDecimalPadding)||h.isBoolean(a.allowDecimalPadding)||a.allowDecimalPadding===e.options.allowDecimalPadding.floats||h.throwError("The decimal padding option 'allowDecimalPadding' is invalid ; it should either be `false`, `true` or `'floats'`, [".concat(a.allowDecimalPadding,"] given.")),a.allowDecimalPadding!==e.options.allowDecimalPadding.never&&"false"!==a.allowDecimalPadding||a.decimalPlaces===e.options.decimalPlaces.none&&a.decimalPlacesShownOnBlur===e.options.decimalPlacesShownOnBlur.none&&a.decimalPlacesShownOnFocus===e.options.decimalPlacesShownOnFocus.none||h.warning("Setting 'allowDecimalPadding' to [".concat(a.allowDecimalPadding,"] will override the current 'decimalPlaces*' settings [").concat(a.decimalPlaces,", ").concat(a.decimalPlacesShownOnBlur," and ").concat(a.decimalPlacesShownOnFocus,"]."),a.showWarnings),h.isTrueOrFalseString(a.alwaysAllowDecimalCharacter)||h.isBoolean(a.alwaysAllowDecimalCharacter)||h.throwError("The option 'alwaysAllowDecimalCharacter' is invalid ; it should either be `true` or `false`, [".concat(a.alwaysAllowDecimalCharacter,"] given.")),h.isNull(a.caretPositionOnFocus)||h.isInArray(a.caretPositionOnFocus,[e.options.caretPositionOnFocus.start,e.options.caretPositionOnFocus.end,e.options.caretPositionOnFocus.decimalLeft,e.options.caretPositionOnFocus.decimalRight])||h.throwError("The display on empty string option 'caretPositionOnFocus' is invalid ; it should either be `null`, 'focus', 'press', 'always' or 'zero', [".concat(a.caretPositionOnFocus,"] given.")),u=s?o:this._correctCaretPositionOnFocusAndSelectOnFocusOptions(t),h.isNull(u)||u.caretPositionOnFocus===e.options.caretPositionOnFocus.doNoForceCaretPosition||u.selectOnFocus!==e.options.selectOnFocus.select||h.warning("The 'selectOnFocus' option is set to 'select', which is in conflict with the 'caretPositionOnFocus' which is set to '".concat(u.caretPositionOnFocus,"'. As a result, if this has been called when instantiating an AutoNumeric object, the 'selectOnFocus' option is forced to 'doNotSelect'."),a.showWarnings),h.isInArray(a.digitGroupSeparator,[e.options.digitGroupSeparator.comma,e.options.digitGroupSeparator.dot,e.options.digitGroupSeparator.normalSpace,e.options.digitGroupSeparator.thinSpace,e.options.digitGroupSeparator.narrowNoBreakSpace,e.options.digitGroupSeparator.noBreakSpace,e.options.digitGroupSeparator.noSeparator,e.options.digitGroupSeparator.apostrophe,e.options.digitGroupSeparator.arabicThousandsSeparator,e.options.digitGroupSeparator.dotAbove,e.options.digitGroupSeparator.privateUseTwo])||h.throwError("The thousand separator character option 'digitGroupSeparator' is invalid ; it should be ',', '.', '', '', \"'\", '', ' ', '', '', '' or empty (''), [".concat(a.digitGroupSeparator,"] given.")),h.isTrueOrFalseString(a.showOnlyNumbersOnFocus)||h.isBoolean(a.showOnlyNumbersOnFocus)||h.throwError("The 'showOnlyNumbersOnFocus' option is invalid ; it should be either 'true' or 'false', [".concat(a.showOnlyNumbersOnFocus,"] given.")),h.isInArray(a.digitalGroupSpacing,[e.options.digitalGroupSpacing.two,e.options.digitalGroupSpacing.twoScaled,e.options.digitalGroupSpacing.three,e.options.digitalGroupSpacing.four])||2<=a.digitalGroupSpacing&&a.digitalGroupSpacing<=4||h.throwError("The grouping separator option for thousands 'digitalGroupSpacing' is invalid ; it should be '2', '2s', '3', or '4', [".concat(a.digitalGroupSpacing,"] given.")),h.isInArray(a.decimalCharacter,[e.options.decimalCharacter.comma,e.options.decimalCharacter.dot,e.options.decimalCharacter.middleDot,e.options.decimalCharacter.arabicDecimalSeparator,e.options.decimalCharacter.decimalSeparatorKeySymbol])||h.throwError("The decimal separator character option 'decimalCharacter' is invalid ; it should be '.', ',', '', '' or '', [".concat(a.decimalCharacter,"] given.")),a.decimalCharacter===a.digitGroupSeparator&&h.throwError("autoNumeric will not function properly when the decimal character 'decimalCharacter' [".concat(a.decimalCharacter,"] and the thousand separator 'digitGroupSeparator' [").concat(a.digitGroupSeparator,"] are the same character.")),h.isNull(a.decimalCharacterAlternative)||h.isString(a.decimalCharacterAlternative)||h.throwError("The alternate decimal separator character option 'decimalCharacterAlternative' is invalid ; it should be a string, [".concat(a.decimalCharacterAlternative,"] given.")),""===a.currencySymbol||h.isString(a.currencySymbol)||h.throwError("The currency symbol option 'currencySymbol' is invalid ; it should be a string, [".concat(a.currencySymbol,"] given.")),h.isInArray(a.currencySymbolPlacement,[e.options.currencySymbolPlacement.prefix,e.options.currencySymbolPlacement.suffix])||h.throwError("The placement of the currency sign option 'currencySymbolPlacement' is invalid ; it should either be 'p' (prefix) or 's' (suffix), [".concat(a.currencySymbolPlacement,"] given.")),h.isInArray(a.negativePositiveSignPlacement,[e.options.negativePositiveSignPlacement.prefix,e.options.negativePositiveSignPlacement.suffix,e.options.negativePositiveSignPlacement.left,e.options.negativePositiveSignPlacement.right,e.options.negativePositiveSignPlacement.none])||h.throwError("The placement of the negative sign option 'negativePositiveSignPlacement' is invalid ; it should either be 'p' (prefix), 's' (suffix), 'l' (left), 'r' (right) or 'null', [".concat(a.negativePositiveSignPlacement,"] given.")),h.isTrueOrFalseString(a.showPositiveSign)||h.isBoolean(a.showPositiveSign)||h.throwError("The show positive sign option 'showPositiveSign' is invalid ; it should be either 'true' or 'false', [".concat(a.showPositiveSign,"] given.")),h.isString(a.suffixText)&&(""===a.suffixText||!h.isNegative(a.suffixText,a.negativeSignCharacter)&&!l.test(a.suffixText))||h.throwError("The additional suffix option 'suffixText' is invalid ; it should not contains the negative sign '".concat(a.negativeSignCharacter,"' nor any numerical characters, [").concat(a.suffixText,"] given.")),h.isString(a.negativeSignCharacter)&&1===a.negativeSignCharacter.length&&!h.isUndefinedOrNullOrEmpty(a.negativeSignCharacter)&&!l.test(a.negativeSignCharacter)||h.throwError("The negative sign character option 'negativeSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [".concat(a.negativeSignCharacter,"] given.")),h.isString(a.positiveSignCharacter)&&1===a.positiveSignCharacter.length&&!h.isUndefinedOrNullOrEmpty(a.positiveSignCharacter)&&!l.test(a.positiveSignCharacter)||h.throwError("The positive sign character option 'positiveSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [".concat(a.positiveSignCharacter,"] given.\nIf you want to hide the positive sign character, you need to set the `showPositiveSign` option to `true`.")),a.negativeSignCharacter===a.positiveSignCharacter&&h.throwError("The positive 'positiveSignCharacter' and negative 'negativeSignCharacter' sign characters cannot be identical ; [".concat(a.negativeSignCharacter,"] given."));var p=y(h.isNull(a.negativeBracketsTypeOnBlur)?["",""]:a.negativeBracketsTypeOnBlur.split(","),2),m=p[0],g=p[1];(h.contains(a.digitGroupSeparator,a.negativeSignCharacter)||h.contains(a.decimalCharacter,a.negativeSignCharacter)||h.contains(a.decimalCharacterAlternative,a.negativeSignCharacter)||h.contains(m,a.negativeSignCharacter)||h.contains(g,a.negativeSignCharacter)||h.contains(a.suffixText,a.negativeSignCharacter))&&h.throwError("The negative sign character option 'negativeSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [".concat(a.negativeSignCharacter,"] given.")),(h.contains(a.digitGroupSeparator,a.positiveSignCharacter)||h.contains(a.decimalCharacter,a.positiveSignCharacter)||h.contains(a.decimalCharacterAlternative,a.positiveSignCharacter)||h.contains(m,a.positiveSignCharacter)||h.contains(g,a.positiveSignCharacter)||h.contains(a.suffixText,a.positiveSignCharacter))&&h.throwError("The positive sign character option 'positiveSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [".concat(a.positiveSignCharacter,"] given.")),h.isNull(a.overrideMinMaxLimits)||h.isInArray(a.overrideMinMaxLimits,[e.options.overrideMinMaxLimits.ceiling,e.options.overrideMinMaxLimits.floor,e.options.overrideMinMaxLimits.ignore,e.options.overrideMinMaxLimits.invalid])||h.throwError("The override min & max limits option 'overrideMinMaxLimits' is invalid ; it should either be 'ceiling', 'floor', 'ignore' or 'invalid', [".concat(a.overrideMinMaxLimits,"] given.")),a.overrideMinMaxLimits!==e.options.overrideMinMaxLimits.invalid&&a.overrideMinMaxLimits!==e.options.overrideMinMaxLimits.ignore&&(0<a.minimumValue||a.maximumValue<0)&&h.warning("You've set a `minimumValue` or a `maximumValue` excluding the value `0`. AutoNumeric will force the users to always have a valid value in the input, hence preventing them to clear the field. If you want to allow for temporary invalid values (ie. out-of-range), you should use the 'invalid' option for the 'overrideMinMaxLimits' setting."),h.isString(a.maximumValue)&&f.test(a.maximumValue)||h.throwError("The maximum possible value option 'maximumValue' is invalid ; it should be a string that represents a positive or negative number, [".concat(a.maximumValue,"] given.")),h.isString(a.minimumValue)&&f.test(a.minimumValue)||h.throwError("The minimum possible value option 'minimumValue' is invalid ; it should be a string that represents a positive or negative number, [".concat(a.minimumValue,"] given.")),parseFloat(a.minimumValue)>parseFloat(a.maximumValue)&&h.throwError("The minimum possible value option is greater than the maximum possible value option ; 'minimumValue' [".concat(a.minimumValue,"] should be smaller than 'maximumValue' [").concat(a.maximumValue,"].")),h.isInt(a.decimalPlaces)&&0<=a.decimalPlaces||h.isString(a.decimalPlaces)&&c.test(a.decimalPlaces)||h.throwError("The number of decimal places option 'decimalPlaces' is invalid ; it should be a positive integer, [".concat(a.decimalPlaces,"] given.")),h.isNull(a.decimalPlacesRawValue)||h.isInt(a.decimalPlacesRawValue)&&0<=a.decimalPlacesRawValue||h.isString(a.decimalPlacesRawValue)&&c.test(a.decimalPlacesRawValue)||h.throwError("The number of decimal places for the raw value option 'decimalPlacesRawValue' is invalid ; it should be a positive integer or `null`, [".concat(a.decimalPlacesRawValue,"] given.")),this._validateDecimalPlacesRawValue(a),h.isNull(a.decimalPlacesShownOnFocus)||c.test(String(a.decimalPlacesShownOnFocus))||h.throwError("The number of expanded decimal places option 'decimalPlacesShownOnFocus' is invalid ; it should be a positive integer or `null`, [".concat(a.decimalPlacesShownOnFocus,"] given.")),!h.isNull(a.decimalPlacesShownOnFocus)&&Number(a.decimalPlaces)>Number(a.decimalPlacesShownOnFocus)&&h.warning("The extended decimal places 'decimalPlacesShownOnFocus' [".concat(a.decimalPlacesShownOnFocus,"] should be greater than the 'decimalPlaces' [").concat(a.decimalPlaces,"] value. Currently, this will limit the ability of your user to manually change some of the decimal places. Do you really want to do that?"),a.showWarnings),(h.isNull(a.divisorWhenUnfocused)||d.test(a.divisorWhenUnfocused))&&0!==a.divisorWhenUnfocused&&"0"!==a.divisorWhenUnfocused&&1!==a.divisorWhenUnfocused&&"1"!==a.divisorWhenUnfocused||h.throwError("The divisor option 'divisorWhenUnfocused' is invalid ; it should be a positive number higher than one, preferably an integer, [".concat(a.divisorWhenUnfocused,"] given.")),h.isNull(a.decimalPlacesShownOnBlur)||c.test(a.decimalPlacesShownOnBlur)||h.throwError("The number of decimals shown when unfocused option 'decimalPlacesShownOnBlur' is invalid ; it should be a positive integer or `null`, [".concat(a.decimalPlacesShownOnBlur,"] given.")),h.isNull(a.symbolWhenUnfocused)||h.isString(a.symbolWhenUnfocused)||h.throwError("The symbol to show when unfocused option 'symbolWhenUnfocused' is invalid ; it should be a string, [".concat(a.symbolWhenUnfocused,"] given.")),h.isTrueOrFalseString(a.saveValueToSessionStorage)||h.isBoolean(a.saveValueToSessionStorage)||h.throwError("The save to session storage option 'saveValueToSessionStorage' is invalid ; it should be either 'true' or 'false', [".concat(a.saveValueToSessionStorage,"] given.")),h.isInArray(a.onInvalidPaste,[e.options.onInvalidPaste.error,e.options.onInvalidPaste.ignore,e.options.onInvalidPaste.clamp,e.options.onInvalidPaste.truncate,e.options.onInvalidPaste.replace])||h.throwError("The paste behavior option 'onInvalidPaste' is invalid ; it should either be 'error', 'ignore', 'clamp', 'truncate' or 'replace' (cf. documentation), [".concat(a.onInvalidPaste,"] given.")),h.isInArray(a.roundingMethod,[e.options.roundingMethod.halfUpSymmetric,e.options.roundingMethod.halfUpAsymmetric,e.options.roundingMethod.halfDownSymmetric,e.options.roundingMethod.halfDownAsymmetric,e.options.roundingMethod.halfEvenBankersRounding,e.options.roundingMethod.upRoundAwayFromZero,e.options.roundingMethod.downRoundTowardZero,e.options.roundingMethod.toCeilingTowardPositiveInfinity,e.options.roundingMethod.toFloorTowardNegativeInfinity,e.options.roundingMethod.toNearest05,e.options.roundingMethod.toNearest05Alt,e.options.roundingMethod.upToNext05,e.options.roundingMethod.downToNext05])||h.throwError("The rounding method option 'roundingMethod' is invalid ; it should either be 'S', 'A', 's', 'a', 'B', 'U', 'D', 'C', 'F', 'N05', 'CHF', 'U05' or 'D05' (cf. documentation), [".concat(a.roundingMethod,"] given.")),h.isNull(a.negativeBracketsTypeOnBlur)||h.isInArray(a.negativeBracketsTypeOnBlur,[e.options.negativeBracketsTypeOnBlur.parentheses,e.options.negativeBracketsTypeOnBlur.brackets,e.options.negativeBracketsTypeOnBlur.chevrons,e.options.negativeBracketsTypeOnBlur.curlyBraces,e.options.negativeBracketsTypeOnBlur.angleBrackets,e.options.negativeBracketsTypeOnBlur.japaneseQuotationMarks,e.options.negativeBracketsTypeOnBlur.halfBrackets,e.options.negativeBracketsTypeOnBlur.whiteSquareBrackets,e.options.negativeBracketsTypeOnBlur.quotationMarks,e.options.negativeBracketsTypeOnBlur.guillemets])||h.throwError("The brackets for negative values option 'negativeBracketsTypeOnBlur' is invalid ; it should either be '(,)', '[,]', '<,>', '{,}', ',', ',', ',', ',', ',' or ',', [".concat(a.negativeBracketsTypeOnBlur,"] given.")),(h.isString(a.emptyInputBehavior)||h.isNumber(a.emptyInputBehavior))&&(h.isInArray(a.emptyInputBehavior,[e.options.emptyInputBehavior.focus,e.options.emptyInputBehavior.press,e.options.emptyInputBehavior.always,e.options.emptyInputBehavior.min,e.options.emptyInputBehavior.max,e.options.emptyInputBehavior.zero,e.options.emptyInputBehavior.null])||f.test(a.emptyInputBehavior))||h.throwError("The display on empty string option 'emptyInputBehavior' is invalid ; it should either be 'focus', 'press', 'always', 'min', 'max', 'zero', 'null', a number, or a string that represents a number, [".concat(a.emptyInputBehavior,"] given.")),a.emptyInputBehavior===e.options.emptyInputBehavior.zero&&(0<a.minimumValue||a.maximumValue<0)&&h.throwError("The 'emptyInputBehavior' option is set to 'zero', but this value is outside of the range defined by 'minimumValue' and 'maximumValue' [".concat(a.minimumValue,", ").concat(a.maximumValue,"].")),f.test(String(a.emptyInputBehavior))&&(this._isWithinRangeWithOverrideOption(a.emptyInputBehavior,a)||h.throwError("The 'emptyInputBehavior' option is set to a number or a string that represents a number, but its value [".concat(a.emptyInputBehavior,"] is outside of the range defined by the 'minimumValue' and 'maximumValue' options [").concat(a.minimumValue,", ").concat(a.maximumValue,"]."))),h.isTrueOrFalseString(a.eventBubbles)||h.isBoolean(a.eventBubbles)||h.throwError("The event bubbles option 'eventBubbles' is invalid ; it should be either 'true' or 'false', [".concat(a.eventBubbles,"] given.")),h.isTrueOrFalseString(a.eventIsCancelable)||h.isBoolean(a.eventIsCancelable)||h.throwError("The event is cancelable option 'eventIsCancelable' is invalid ; it should be either 'true' or 'false', [".concat(a.eventIsCancelable,"] given.")),!h.isBoolean(a.invalidClass)&&/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(a.invalidClass)||h.throwError("The name of the 'invalidClass' option is not a valid CSS class name ; it should not be empty, and should follow the '^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$' regex, [".concat(a.invalidClass,"] given.")),h.isInArray(a.leadingZero,[e.options.leadingZero.allow,e.options.leadingZero.deny,e.options.leadingZero.keep])||h.throwError("The leading zero behavior option 'leadingZero' is invalid ; it should either be 'allow', 'deny' or 'keep', [".concat(a.leadingZero,"] given.")),h.isTrueOrFalseString(a.formatOnPageLoad)||h.isBoolean(a.formatOnPageLoad)||h.throwError("The format on initialization option 'formatOnPageLoad' is invalid ; it should be either 'true' or 'false', [".concat(a.formatOnPageLoad,"] given.")),h.isTrueOrFalseString(a.formulaMode)||h.isBoolean(a.formulaMode)||h.throwError("The formula mode option 'formulaMode' is invalid ; it should be either 'true' or 'false', [".concat(a.formulaMode,"] given.")),c.test(a.historySize)&&0!==a.historySize||h.throwError("The history size option 'historySize' is invalid ; it should be a positive integer, [".concat(a.historySize,"] given.")),h.isTrueOrFalseString(a.selectNumberOnly)||h.isBoolean(a.selectNumberOnly)||h.throwError("The select number only option 'selectNumberOnly' is invalid ; it should be either 'true' or 'false', [".concat(a.selectNumberOnly,"] given.")),h.isTrueOrFalseString(a.selectOnFocus)||h.isBoolean(a.selectOnFocus)||h.throwError("The select on focus option 'selectOnFocus' is invalid ; it should be either 'true' or 'false', [".concat(a.selectOnFocus,"] given.")),h.isNull(a.defaultValueOverride)||""===a.defaultValueOverride||f.test(a.defaultValueOverride)||h.throwError("The unformatted default value option 'defaultValueOverride' is invalid ; it should be a string that represents a positive or negative number, [".concat(a.defaultValueOverride,"] given.")),h.isTrueOrFalseString(a.unformatOnSubmit)||h.isBoolean(a.unformatOnSubmit)||h.throwError("The remove formatting on submit option 'unformatOnSubmit' is invalid ; it should be either 'true' or 'false', [".concat(a.unformatOnSubmit,"] given.")),h.isNull(a.valuesToStrings)||h.isObject(a.valuesToStrings)||h.throwError("The option 'valuesToStrings' is invalid ; it should be an object, ideally with 'key -> value' entries, [".concat(a.valuesToStrings,"] given.")),h.isNull(a.outputFormat)||h.isInArray(a.outputFormat,[e.options.outputFormat.string,e.options.outputFormat.number,e.options.outputFormat.dot,e.options.outputFormat.negativeDot,e.options.outputFormat.comma,e.options.outputFormat.negativeComma,e.options.outputFormat.dotNegative,e.options.outputFormat.commaNegative])||h.throwError("The custom locale format option 'outputFormat' is invalid ; it should either be null, 'string', 'number', '.', '-.', ',', '-,', '.-' or ',-', [".concat(a.outputFormat,"] given.")),h.isTrueOrFalseString(a.isCancellable)||h.isBoolean(a.isCancellable)||h.throwError("The cancellable behavior option 'isCancellable' is invalid ; it should be either 'true' or 'false', [".concat(a.isCancellable,"] given.")),h.isTrueOrFalseString(a.modifyValueOnWheel)||h.isBoolean(a.modifyValueOnWheel)||h.throwError("The increment/decrement on mouse wheel option 'modifyValueOnWheel' is invalid ; it should be either 'true' or 'false', [".concat(a.modifyValueOnWheel,"] given.")),h.isTrueOrFalseString(a.watchExternalChanges)||h.isBoolean(a.watchExternalChanges)||h.throwError("The option 'watchExternalChanges' is invalid ; it should be either 'true' or 'false', [".concat(a.watchExternalChanges,"] given.")),h.isInArray(a.wheelOn,[e.options.wheelOn.focus,e.options.wheelOn.hover])||h.throwError("The wheel behavior option 'wheelOn' is invalid ; it should either be 'focus' or 'hover', [".concat(a.wheelOn,"] given.")),(h.isString(a.wheelStep)||h.isNumber(a.wheelStep))&&("progressive"===a.wheelStep||d.test(a.wheelStep))&&0!==Number(a.wheelStep)||h.throwError("The wheel step value option 'wheelStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [".concat(a.wheelStep,"] given.")),h.isInArray(a.serializeSpaces,[e.options.serializeSpaces.plus,e.options.serializeSpaces.percent])||h.throwError("The space replacement character option 'serializeSpaces' is invalid ; it should either be '+' or '%20', [".concat(a.serializeSpaces,"] given.")),h.isTrueOrFalseString(a.noEventListeners)||h.isBoolean(a.noEventListeners)||h.throwError("The option 'noEventListeners' that prevent the creation of event listeners is invalid ; it should be either 'true' or 'false', [".concat(a.noEventListeners,"] given.")),h.isNull(a.styleRules)||h.isObject(a.styleRules)&&(Object.prototype.hasOwnProperty.call(a.styleRules,"positive")||Object.prototype.hasOwnProperty.call(a.styleRules,"negative")||Object.prototype.hasOwnProperty.call(a.styleRules,"ranges")||Object.prototype.hasOwnProperty.call(a.styleRules,"userDefined"))||h.throwError("The option 'styleRules' is invalid ; it should be a correctly structured object, with one or more 'positive', 'negative', 'ranges' or 'userDefined' attributes, [".concat(a.styleRules,"] given.")),h.isNull(a.styleRules)||!Object.prototype.hasOwnProperty.call(a.styleRules,"userDefined")||h.isNull(a.styleRules.userDefined)||a.styleRules.userDefined.forEach((function(e){Object.prototype.hasOwnProperty.call(e,"callback")&&!h.isFunction(e.callback)&&h.throwError("The callback defined in the `userDefined` attribute is not a function, ".concat(S(e.callback)," given."))})),(h.isNull(a.rawValueDivisor)||d.test(a.rawValueDivisor))&&0!==a.rawValueDivisor&&"0"!==a.rawValueDivisor&&1!==a.rawValueDivisor&&"1"!==a.rawValueDivisor||h.throwError("The raw value divisor option 'rawValueDivisor' is invalid ; it should be a positive number higher than one, preferably an integer, [".concat(a.rawValueDivisor,"] given.")),h.isTrueOrFalseString(a.readOnly)||h.isBoolean(a.readOnly)||h.throwError("The option 'readOnly' is invalid ; it should be either 'true' or 'false', [".concat(a.readOnly,"] given.")),h.isTrueOrFalseString(a.unformatOnHover)||h.isBoolean(a.unformatOnHover)||h.throwError("The option 'unformatOnHover' is invalid ; it should be either 'true' or 'false', [".concat(a.unformatOnHover,"] given.")),h.isTrueOrFalseString(a.failOnUnknownOption)||h.isBoolean(a.failOnUnknownOption)||h.throwError("The debug option 'failOnUnknownOption' is invalid ; it should be either 'true' or 'false', [".concat(a.failOnUnknownOption,"] given.")),h.isTrueOrFalseString(a.createLocalList)||h.isBoolean(a.createLocalList)||h.throwError("The debug option 'createLocalList' is invalid ; it should be either 'true' or 'false', [".concat(a.createLocalList,"] given."))}},{key:"_validateDecimalPlacesRawValue",value:function(e){h.isNull(e.decimalPlacesRawValue)||(e.decimalPlacesRawValue<e.decimalPlaces&&h.warning("The number of decimal places to store in the raw value [".concat(e.decimalPlacesRawValue,"] is lower than the ones to display [").concat(e.decimalPlaces,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlaces`."),e.showWarnings),e.decimalPlacesRawValue<e.decimalPlacesShownOnFocus&&h.warning("The number of decimal places to store in the raw value [".concat(e.decimalPlacesRawValue,"] is lower than the ones shown on focus [").concat(e.decimalPlacesShownOnFocus,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlacesShownOnFocus`."),e.showWarnings),e.decimalPlacesRawValue<e.decimalPlacesShownOnBlur&&h.warning("The number of decimal places to store in the raw value [".concat(e.decimalPlacesRawValue,"] is lower than the ones shown when unfocused [").concat(e.decimalPlacesShownOnBlur,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlacesShownOnBlur`."),e.showWarnings))}},{key:"areSettingsValid",value:function(e){var t=!0;try{this.validate(e,!0)}catch(e){t=!1}return t}},{key:"getDefaultConfig",value:function(){return e.defaultSettings}},{key:"getPredefinedOptions",value:function(){return e.predefinedOptions}},{key:"_generateOptionsObjectFromOptionsArray",value:function(e){var t,n=this;return h.isUndefinedOrNullOrEmpty(e)||0===e.length?t=null:(t={},1===e.length&&Array.isArray(e[0])?e[0].forEach((function(e){w(t,n._getOptionObject(e))})):1<=e.length&&e.forEach((function(e){w(t,n._getOptionObject(e))}))),t}},{key:"format",value:function(t){if(h.isUndefined(t)||null===t)return null;var n;n=h.isElement(t)?h.getElementValue(t):t,h.isString(n)||h.isNumber(n)||h.throwError('The value "'.concat(n,'" being "set" is not numeric and therefore cannot be used appropriately.'));for(var r=arguments.length,i=new Array(1<r?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=this._generateOptionsObjectFromOptionsArray(i),s=w({},this.getDefaultConfig(),a);s.isNegativeSignAllowed=n<0,s.isPositiveSignAllowed=0<=n,this._setBrackets(s),this._cachesUsualRegularExpressions(s,{});var u=this._toNumericValue(n,s);return isNaN(Number(u))&&h.throwError("The value [".concat(u,"] that you are trying to format is not a recognized number.")),this._isWithinRangeWithOverrideOption(u,s)||(h.triggerEvent(e.events.formatted,document,{oldValue:null,newValue:null,oldRawValue:null,newRawValue:null,isPristine:null,error:"Range test failed",aNElement:null},!0,!0),h.throwError("The value [".concat(u,"] being set falls outside of the minimumValue [").concat(s.minimumValue,"] and maximumValue [").concat(s.maximumValue,"] range set for this element"))),s.valuesToStrings&&this._checkValuesToStringsSettings(n,s)?s.valuesToStrings[n]:(this._correctNegativePositiveSignPlacementOption(s),this._calculateDecimalPlacesOnInit(s),h.isUndefinedOrNullOrEmpty(s.rawValueDivisor)||0===s.rawValueDivisor||""===u||null===u||(u*=s.rawValueDivisor),u=this._roundFormattedValueShownOnFocus(u,s),u=this._modifyNegativeSignAndDecimalCharacterForFormattedValue(u,s),u=this._addGroupSeparators(u,s,!1,u))}},{key:"formatAndSet",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null,r=this.format(e,n);return h.setElementValue(e,r),r}},{key:"unformat",value:function(e){if(h.isNumberStrict(e))return e;var t;if(""===(t=h.isElement(e)?h.getElementValue(e):e))return"";if(h.isUndefined(t)||null===t)return null;(h.isArray(t)||h.isObject(t))&&h.throwError("A number or a string representing a number is needed to be able to unformat it, [".concat(t,"] given."));for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=this._generateOptionsObjectFromOptionsArray(r),a=w({},this.getDefaultConfig(),o);if(a.isNegativeSignAllowed=!1,a.isPositiveSignAllowed=!0,t=t.toString(),a.valuesToStrings&&this._checkStringsToValuesSettings(t,a))return h.objectKeyLookup(a.valuesToStrings,t);if(h.isNegative(t,a.negativeSignCharacter))a.isNegativeSignAllowed=!0,a.isPositiveSignAllowed=!1;else if(!h.isNull(a.negativeBracketsTypeOnBlur)){var s=y(a.negativeBracketsTypeOnBlur.split(","),2);a.firstBracket=s[0],a.lastBracket=s[1],t.charAt(0)===a.firstBracket&&t.charAt(t.length-1)===a.lastBracket&&(a.isNegativeSignAllowed=!0,a.isPositiveSignAllowed=!1,t=this._removeBrackets(t,a,!1))}return t=this._convertToNumericString(t,a),new RegExp("[^+-0123456789.]","gi").test(t)?NaN:(this._correctNegativePositiveSignPlacementOption(a),a.decimalPlacesRawValue?a.originalDecimalPlacesRawValue=a.decimalPlacesRawValue:a.originalDecimalPlacesRawValue=a.decimalPlaces,this._calculateDecimalPlacesOnInit(a),h.isUndefinedOrNullOrEmpty(a.rawValueDivisor)||0===a.rawValueDivisor||""===t||null===t||(t/=a.rawValueDivisor),t=(t=this._roundRawValue(t,a)).replace(a.decimalCharacter,"."),t=this._toLocale(t,a.outputFormat,a))}},{key:"unformatAndSet",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null,r=this.unformat(e,n);return h.setElementValue(e,r),r}},{key:"localize",value:function(t,n){var r,i,o=1<arguments.length&&void 0!==n?n:null;return""===(r=h.isElement(t)?h.getElementValue(t):t)?"":(h.isNull(o)&&(o=e.defaultSettings),r=this.unformat(r,o),0===Number(r)&&o.leadingZero!==e.options.leadingZero.keep&&(r="0"),i=h.isNull(o)?o.outputFormat:e.defaultSettings.outputFormat,this._toLocale(r,i,o))}},{key:"localizeAndSet",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null,r=this.localize(e,n);return h.setElementValue(e,r),r}},{key:"isManagedByAutoNumeric",value:function(e){return this._isInGlobalList(h.domElement(e))}},{key:"getAutoNumericElement",value:function(e){var t=h.domElement(e);return this.isManagedByAutoNumeric(t)?this._getFromGlobalList(t):null}},{key:"set",value:function(e,t,n,r){var i,o=2<arguments.length&&void 0!==n?n:null,a=!(3<arguments.length&&void 0!==r)||r,s=h.domElement(e);return this.isManagedByAutoNumeric(s)?this.getAutoNumericElement(s).set(t,o,a):(i=!(!h.isNull(o)&&Object.prototype.hasOwnProperty.call(o,"showWarnings"))||o.showWarnings,h.warning("Impossible to find an AutoNumeric object for the given DOM element or selector.",i),null)}},{key:"getNumericString",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return this._get(e,"getNumericString",n)}},{key:"getFormatted",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return this._get(e,"getFormatted",n)}},{key:"getNumber",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return this._get(e,"getNumber",n)}},{key:"_get",value:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:null,i=h.domElement(e);return this.isManagedByAutoNumeric(i)||h.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(i)[t](r)}},{key:"getLocalized",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:null,i=2<arguments.length&&void 0!==n?n:null,o=h.domElement(e);return this.isManagedByAutoNumeric(o)||h.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(o).getLocalized(r,i)}},{key:"_stripAllNonNumberCharacters",value:function(e,t,n,r){return this._stripAllNonNumberCharactersExceptCustomDecimalChar(e,t,n,r).replace(t.decimalCharacter,".")}},{key:"_stripAllNonNumberCharactersExceptCustomDecimalChar",value:function(t,n,r,i){var o=(t=(t=this._normalizeCurrencySuffixAndNegativeSignCharacters(t,n)).replace(n.allowedAutoStrip,"")).match(n.numRegAutoStrip);if(t=o?[o[1],o[2],o[3]].join(""):"",n.leadingZero===e.options.leadingZero.allow||n.leadingZero===e.options.leadingZero.keep){var a="",s=y(t.split(n.decimalCharacter),2),u=s[0],c=s[1],l=u;h.contains(l,n.negativeSignCharacter)&&(a=n.negativeSignCharacter,l=l.replace(n.negativeSignCharacter,"")),""===a&&l.length>n.mIntPos&&"0"===l.charAt(0)&&(l=l.slice(1)),""!==a&&l.length>n.mIntNeg&&"0"===l.charAt(0)&&(l=l.slice(1)),t="".concat(a).concat(l).concat(h.isUndefined(c)?"":n.decimalCharacter+c)}return(r&&n.leadingZero===e.options.leadingZero.deny||!i&&n.leadingZero===e.options.leadingZero.allow)&&(t=t.replace(n.stripReg,"$1$2")),t}},{key:"_toggleNegativeBracket",value:function(e,t,n){return n?this._removeBrackets(e,t):this._addBrackets(e,t)}},{key:"_addBrackets",value:function(e,t){return h.isNull(t.negativeBracketsTypeOnBlur)?e:"".concat(t.firstBracket).concat(e.replace(t.negativeSignCharacter,"")).concat(t.lastBracket)}},{key:"_removeBrackets",value:function(e,t,n){var r,i=!(2<arguments.length&&void 0!==n)||n;return h.isNull(t.negativeBracketsTypeOnBlur)||e.charAt(0)!==t.firstBracket?e:(r=(r=e.replace(t.firstBracket,"")).replace(t.lastBracket,""),i?(r=r.replace(t.currencySymbol,""),this._mergeCurrencySignNegativePositiveSignAndValue(r,t,!0,!1)):"".concat(t.negativeSignCharacter).concat(r))}},{key:"_setBrackets",value:function(e){if(h.isNull(e.negativeBracketsTypeOnBlur))e.firstBracket="",e.lastBracket="";else{var t=y(e.negativeBracketsTypeOnBlur.split(","),2),n=t[0],r=t[1];e.firstBracket=n,e.lastBracket=r}}},{key:"_convertToNumericString",value:function(t,n){t=this._removeBrackets(t,n,!1),t=(t=this._normalizeCurrencySuffixAndNegativeSignCharacters(t,n)).replace(new RegExp("[".concat(n.digitGroupSeparator,"]"),"g"),""),"."!==n.decimalCharacter&&(t=t.replace(n.decimalCharacter,".")),h.isNegative(t)&&t.lastIndexOf("-")===t.length-1&&(t=t.replace("-",""),t="-".concat(t)),n.showPositiveSign&&(t=t.replace(n.positiveSignCharacter,""));var r=n.leadingZero!==e.options.leadingZero.keep,i=h.arabicToLatinNumbers(t,r,!1,!1);return isNaN(i)||(t=i.toString()),t}},{key:"_normalizeCurrencySuffixAndNegativeSignCharacters",value:function(t,n){return t=String(t),n.currencySymbol!==e.options.currencySymbol.none&&(t=t.replace(n.currencySymbol,"")),n.suffixText!==e.options.suffixText.none&&(t=t.replace(n.suffixText,"")),n.negativeSignCharacter!==e.options.negativeSignCharacter.hyphen&&(t=t.replace(n.negativeSignCharacter,"-")),t}},{key:"_toLocale",value:function(t,n,r){if(h.isNull(n)||n===e.options.outputFormat.string)return t;var i;switch(n){case e.options.outputFormat.number:i=Number(t);break;case e.options.outputFormat.dotNegative:i=h.isNegative(t)?t.replace("-","")+"-":t;break;case e.options.outputFormat.comma:case e.options.outputFormat.negativeComma:i=t.replace(".",",");break;case e.options.outputFormat.commaNegative:i=t.replace(".",","),i=h.isNegative(i)?i.replace("-","")+"-":i;break;case e.options.outputFormat.dot:case e.options.outputFormat.negativeDot:i=t;break;default:h.throwError("The given outputFormat [".concat(n,"] option is not recognized."))}return n!==e.options.outputFormat.number&&"-"!==r.negativeSignCharacter&&(i=i.replace("-",r.negativeSignCharacter)),i}},{key:"_modifyNegativeSignAndDecimalCharacterForFormattedValue",value:function(e,t){return"-"!==t.negativeSignCharacter&&(e=e.replace("-",t.negativeSignCharacter)),"."!==t.decimalCharacter&&(e=e.replace(".",t.decimalCharacter)),e}},{key:"_isElementValueEmptyOrOnlyTheNegativeSign",value:function(e,t){return""===e||e===t.negativeSignCharacter}},{key:"_orderValueCurrencySymbolAndSuffixText",value:function(t,n,r){var i;if(n.emptyInputBehavior===e.options.emptyInputBehavior.always||r)switch(n.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.none:i=t+n.currencySymbol+n.suffixText;break;default:i=n.currencySymbol+t+n.suffixText}else i=t;return i}},{key:"_addGroupSeparators",value:function(t,n,r,i,o){var a,s=4<arguments.length&&void 0!==o?o:null;if(a=h.isNull(s)?h.isNegative(t,n.negativeSignCharacter)||h.isNegativeWithBrackets(t,n.firstBracket,n.lastBracket):s<0,t=this._stripAllNonNumberCharactersExceptCustomDecimalChar(t,n,!1,r),this._isElementValueEmptyOrOnlyTheNegativeSign(t,n))return this._orderValueCurrencySymbolAndSuffixText(t,n,!0);var u,c=h.isZeroOrHasNoValue(t);switch(a&&(t=t.replace("-","")),n.digitalGroupSpacing=n.digitalGroupSpacing.toString(),n.digitalGroupSpacing){case e.options.digitalGroupSpacing.two:u=/(\d)((\d)(\d{2}?)+)$/;break;case e.options.digitalGroupSpacing.twoScaled:u=/(\d)((?:\d{2}){0,2}\d{3}(?:(?:\d{2}){2}\d{3})*?)$/;break;case e.options.digitalGroupSpacing.four:u=/(\d)((\d{4}?)+)$/;break;case e.options.digitalGroupSpacing.three:default:u=/(\d)((\d{3}?)+)$/}var l,f=y(t.split(n.decimalCharacter),2),d=f[0],p=f[1];if(n.decimalCharacterAlternative&&h.isUndefined(p)){var m=y(t.split(n.decimalCharacterAlternative),2);d=m[0],p=m[1]}if(""!==n.digitGroupSeparator)for(;u.test(d);)d=d.replace(u,"$1".concat(n.digitGroupSeparator,"$2"));return t=0===(l=r?n.decimalPlacesShownOnFocus:n.decimalPlacesShownOnBlur)||h.isUndefined(p)?d:(p.length>l&&(p=p.substring(0,l)),"".concat(d).concat(n.decimalCharacter).concat(p)),t=e._mergeCurrencySignNegativePositiveSignAndValue(t,n,a,c),h.isNull(s)&&(s=i),null!==n.negativeBracketsTypeOnBlur&&(s<0||h.isNegativeStrict(t,n.negativeSignCharacter))&&(t=this._toggleNegativeBracket(t,n,r)),n.suffixText?"".concat(t).concat(n.suffixText):t}},{key:"_mergeCurrencySignNegativePositiveSignAndValue",value:function(t,n,r,i){var o,a="";if(r?a=n.negativeSignCharacter:n.showPositiveSign&&!i&&(a=n.positiveSignCharacter),n.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix)if(n.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(r||!r&&n.showPositiveSign&&!i))switch(n.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:o="".concat(a).concat(n.currencySymbol).concat(t);break;case e.options.negativePositiveSignPlacement.right:o="".concat(n.currencySymbol).concat(a).concat(t);break;case e.options.negativePositiveSignPlacement.suffix:o="".concat(n.currencySymbol).concat(t).concat(a)}else o=n.currencySymbol+t;else if(n.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)if(n.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(r||!r&&n.showPositiveSign&&!i))switch(n.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:o="".concat(t).concat(n.currencySymbol).concat(a);break;case e.options.negativePositiveSignPlacement.left:o="".concat(t).concat(a).concat(n.currencySymbol);break;case e.options.negativePositiveSignPlacement.prefix:o="".concat(a).concat(t).concat(n.currencySymbol)}else o=t+n.currencySymbol;return o}},{key:"_truncateZeros",value:function(e,t){var n;switch(t){case 0:n=/(\.(?:\d*[1-9])?)0*$/;break;case 1:n=/(\.\d(?:\d*[1-9])?)0*$/;break;default:n=new RegExp("(\\.\\d{".concat(t,"}(?:\\d*[1-9])?)0*"))}return e=e.replace(n,"$1"),0===t&&(e=e.replace(/\.$/,"")),e}},{key:"_roundRawValue",value:function(e,t){return this._roundValue(e,t,t.decimalPlacesRawValue)}},{key:"_roundFormattedValueShownOnFocus",value:function(e,t){return this._roundValue(e,t,Number(t.decimalPlacesShownOnFocus))}},{key:"_roundFormattedValueShownOnBlur",value:function(e,t){return this._roundValue(e,t,Number(t.decimalPlacesShownOnBlur))}},{key:"_roundFormattedValueShownOnFocusOrBlur",value:function(e,t,n){return n?this._roundFormattedValueShownOnFocus(e,t):this._roundFormattedValueShownOnBlur(e,t)}},{key:"_roundValue",value:function(t,n,r){if(h.isNull(t))return t;if(t=""===t?"0":t.toString(),n.roundingMethod===e.options.roundingMethod.toNearest05||n.roundingMethod===e.options.roundingMethod.toNearest05Alt||n.roundingMethod===e.options.roundingMethod.upToNext05||n.roundingMethod===e.options.roundingMethod.downToNext05)return this._roundCloseTo05(t,n);var i,o=y(e._prepareValueForRounding(t,n),2),a=o[0],s=(t=o[1]).lastIndexOf("."),u=-1===s,c=y(t.split("."),2),l=c[0];if(!(0<c[1]||n.allowDecimalPadding!==e.options.allowDecimalPadding.never&&n.allowDecimalPadding!==e.options.allowDecimalPadding.floats))return 0===Number(t)?l:"".concat(a).concat(l);i=n.allowDecimalPadding===e.options.allowDecimalPadding.always||n.allowDecimalPadding===e.options.allowDecimalPadding.floats?r:0;var f,d=u?t.length-1:s,p=t.length-1-d,m="";if(p<=r){if(m=t,p<i){u&&(m="".concat(m).concat(n.decimalCharacter));for(var g="000000";p<i;)m+=g=g.substring(0,i-p),p+=g.length}else i<p?m=this._truncateZeros(m,i):0===p&&0===i&&(m=m.replace(/\.$/,""));return 0===Number(m)?m:"".concat(a).concat(m)}f=u?r-1:Number(r)+Number(s);var v,b=Number(t.charAt(f+1)),_=t.substring(0,f+1).split("");if(v="."===t.charAt(f)?t.charAt(f-1)%2:t.charAt(f)%2,this._shouldRoundUp(b,n,a,v))for(var w=_.length-1;0<=w;--w)if("."!==_[w]){if(_[w]=+_[w]+1,_[w]<10)break;0<w&&(_[w]="0")}return _=_.slice(0,f+1),m=this._truncateZeros(_.join(""),i),0===Number(m)?m:"".concat(a).concat(m)}},{key:"_roundCloseTo05",value:function(t,n){switch(n.roundingMethod){case e.options.roundingMethod.toNearest05:case e.options.roundingMethod.toNearest05Alt:t=(Math.round(20*t)/20).toString();break;case e.options.roundingMethod.upToNext05:t=(Math.ceil(20*t)/20).toString();break;default:t=(Math.floor(20*t)/20).toString()}return h.contains(t,".")?t.length-t.indexOf(".")<3?t+"0":t:t+".00"}},{key:"_prepareValueForRounding",value:function(t,n){var r="";return h.isNegativeStrict(t,"-")&&(r="-",t=t.replace("-","")),t.match(/^\d/)||(t="0".concat(t)),0===Number(t)&&(r=""),(0<Number(t)&&n.leadingZero!==e.options.leadingZero.keep||0<t.length&&n.leadingZero===e.options.leadingZero.allow)&&(t=t.replace(/^0*(\d)/,"$1")),[r,t]}},{key:"_shouldRoundUp",value:function(t,n,r,i){return 4<t&&n.roundingMethod===e.options.roundingMethod.halfUpSymmetric||4<t&&n.roundingMethod===e.options.roundingMethod.halfUpAsymmetric&&""===r||5<t&&n.roundingMethod===e.options.roundingMethod.halfUpAsymmetric&&"-"===r||5<t&&n.roundingMethod===e.options.roundingMethod.halfDownSymmetric||5<t&&n.roundingMethod===e.options.roundingMethod.halfDownAsymmetric&&""===r||4<t&&n.roundingMethod===e.options.roundingMethod.halfDownAsymmetric&&"-"===r||5<t&&n.roundingMethod===e.options.roundingMethod.halfEvenBankersRounding||5===t&&n.roundingMethod===e.options.roundingMethod.halfEvenBankersRounding&&1===i||0<t&&n.roundingMethod===e.options.roundingMethod.toCeilingTowardPositiveInfinity&&""===r||0<t&&n.roundingMethod===e.options.roundingMethod.toFloorTowardNegativeInfinity&&"-"===r||0<t&&n.roundingMethod===e.options.roundingMethod.upRoundAwayFromZero}},{key:"_truncateDecimalPlaces",value:function(e,t,n,r){n&&(e=this._roundFormattedValueShownOnFocus(e,t));var i=y(e.split(t.decimalCharacter),2),o=i[0],a=i[1];if(a&&a.length>r)if(0<r){var s=a.substring(0,r);e="".concat(o).concat(t.decimalCharacter).concat(s)}else e=o;return e}},{key:"_checkIfInRangeWithOverrideOption",value:function(t,n){if(h.isNull(t)&&n.emptyInputBehavior===e.options.emptyInputBehavior.null||n.overrideMinMaxLimits===e.options.overrideMinMaxLimits.ignore||n.overrideMinMaxLimits===e.options.overrideMinMaxLimits.invalid)return[!0,!0];t=(t=t.toString()).replace(",",".");var r,i=h.parseStr(n.minimumValue),o=h.parseStr(n.maximumValue),a=h.parseStr(t);switch(n.overrideMinMaxLimits){case e.options.overrideMinMaxLimits.floor:r=[-1<h.testMinMax(i,a),!0];break;case e.options.overrideMinMaxLimits.ceiling:r=[!0,h.testMinMax(o,a)<1];break;default:r=[-1<h.testMinMax(i,a),h.testMinMax(o,a)<1]}return r}},{key:"_isWithinRangeWithOverrideOption",value:function(e,t){var n=y(this._checkIfInRangeWithOverrideOption(e,t),2),r=n[0],i=n[1];return r&&i}},{key:"_cleanValueForRangeParse",value:function(e){return e=e.toString().replace(",","."),h.parseStr(e)}},{key:"_isMinimumRangeRespected",value:function(e,t){return-1<h.testMinMax(h.parseStr(t.minimumValue),this._cleanValueForRangeParse(e))}},{key:"_isMaximumRangeRespected",value:function(e,t){return h.testMinMax(h.parseStr(t.maximumValue),this._cleanValueForRangeParse(e))<1}},{key:"_readCookie",value:function(e){for(var t=e+"=",n=document.cookie.split(";"),r="",i=0;i<n.length;i+=1){for(r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}},{key:"_storageTest",value:function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}},{key:"_correctNegativePositiveSignPlacementOption",value:function(t){if(h.isNull(t.negativePositiveSignPlacement))if(h.isUndefined(t)||!h.isUndefinedOrNullOrEmpty(t.negativePositiveSignPlacement)||h.isUndefinedOrNullOrEmpty(t.currencySymbol))t.negativePositiveSignPlacement=e.options.negativePositiveSignPlacement.left;else switch(t.currencySymbolPlacement){case e.options.currencySymbolPlacement.suffix:t.negativePositiveSignPlacement=e.options.negativePositiveSignPlacement.prefix;break;case e.options.currencySymbolPlacement.prefix:t.negativePositiveSignPlacement=e.options.negativePositiveSignPlacement.left}}},{key:"_correctCaretPositionOnFocusAndSelectOnFocusOptions",value:function(t){return h.isNull(t)?null:(!h.isUndefinedOrNullOrEmpty(t.caretPositionOnFocus)&&h.isUndefinedOrNullOrEmpty(t.selectOnFocus)&&(t.selectOnFocus=e.options.selectOnFocus.doNotSelect),h.isUndefinedOrNullOrEmpty(t.caretPositionOnFocus)&&!h.isUndefinedOrNullOrEmpty(t.selectOnFocus)&&t.selectOnFocus===e.options.selectOnFocus.select&&(t.caretPositionOnFocus=e.options.caretPositionOnFocus.doNoForceCaretPosition),t)}},{key:"_calculateDecimalPlacesOnInit",value:function(t){this._validateDecimalPlacesRawValue(t),t.decimalPlacesShownOnFocus===e.options.decimalPlacesShownOnFocus.useDefault&&(t.decimalPlacesShownOnFocus=t.decimalPlaces),t.decimalPlacesShownOnBlur===e.options.decimalPlacesShownOnBlur.useDefault&&(t.decimalPlacesShownOnBlur=t.decimalPlaces),t.decimalPlacesRawValue===e.options.decimalPlacesRawValue.useDefault&&(t.decimalPlacesRawValue=t.decimalPlaces);var n=0;t.rawValueDivisor&&t.rawValueDivisor!==e.options.rawValueDivisor.none&&(n=String(t.rawValueDivisor).length-1)<0&&(n=0),t.decimalPlacesRawValue=Math.max(Math.max(t.decimalPlacesShownOnBlur,t.decimalPlacesShownOnFocus)+n,Number(t.originalDecimalPlacesRawValue)+n)}},{key:"_calculateDecimalPlacesOnUpdate",value:function(t,n){var r=1<arguments.length&&void 0!==n?n:null;this._validateDecimalPlacesRawValue(t),h.isNull(r)&&h.throwError("When updating the settings, the previous ones should be passed as an argument.");var i="decimalPlaces"in t;if(i||"decimalPlacesRawValue"in t||"decimalPlacesShownOnFocus"in t||"decimalPlacesShownOnBlur"in t||"rawValueDivisor"in t){i?("decimalPlacesShownOnFocus"in t&&t.decimalPlacesShownOnFocus!==e.options.decimalPlacesShownOnFocus.useDefault||(t.decimalPlacesShownOnFocus=t.decimalPlaces),"decimalPlacesShownOnBlur"in t&&t.decimalPlacesShownOnBlur!==e.options.decimalPlacesShownOnBlur.useDefault||(t.decimalPlacesShownOnBlur=t.decimalPlaces),"decimalPlacesRawValue"in t&&t.decimalPlacesRawValue!==e.options.decimalPlacesRawValue.useDefault||(t.decimalPlacesRawValue=t.decimalPlaces)):(h.isUndefined(t.decimalPlacesShownOnFocus)&&(t.decimalPlacesShownOnFocus=r.decimalPlacesShownOnFocus),h.isUndefined(t.decimalPlacesShownOnBlur)&&(t.decimalPlacesShownOnBlur=r.decimalPlacesShownOnBlur));var o=0;t.rawValueDivisor&&t.rawValueDivisor!==e.options.rawValueDivisor.none&&(o=String(t.rawValueDivisor).length-1)<0&&(o=0),t.decimalPlaces||t.decimalPlacesRawValue?t.decimalPlacesRawValue=Math.max(Math.max(t.decimalPlacesShownOnBlur,t.decimalPlacesShownOnFocus)+o,Number(t.decimalPlacesRawValue)+o):t.decimalPlacesRawValue=Math.max(Math.max(t.decimalPlacesShownOnBlur,t.decimalPlacesShownOnFocus)+o,Number(r.originalDecimalPlacesRawValue)+o)}}},{key:"_cachesUsualRegularExpressions",value:function(t,n){var r;r=t.negativeSignCharacter!==e.options.negativeSignCharacter.hyphen?"([-\\".concat(t.negativeSignCharacter,"]?)"):"(-?)",n.aNegRegAutoStrip=r,t.allowedAutoStrip=new RegExp("[^-0123456789\\".concat(t.decimalCharacter,"]"),"g"),t.numRegAutoStrip=new RegExp("".concat(r,"(?:\\").concat(t.decimalCharacter,"?([0-9]+\\").concat(t.decimalCharacter,"[0-9]+)|([0-9]*(?:\\").concat(t.decimalCharacter,"[0-9]*)?))")),t.stripReg=new RegExp("^".concat(n.aNegRegAutoStrip,"0*([0-9])")),t.formulaChars=new RegExp("[0-9".concat(t.decimalCharacter,"+\\-*/() ]"))}},{key:"_convertOldOptionsToNewOnes",value:function(e){var t={aSep:"digitGroupSeparator",nSep:"showOnlyNumbersOnFocus",dGroup:"digitalGroupSpacing",aDec:"decimalCharacter",altDec:"decimalCharacterAlternative",aSign:"currencySymbol",pSign:"currencySymbolPlacement",pNeg:"negativePositiveSignPlacement",aSuffix:"suffixText",oLimits:"overrideMinMaxLimits",vMax:"maximumValue",vMin:"minimumValue",mDec:"decimalPlacesOverride",eDec:"decimalPlacesShownOnFocus",scaleDecimal:"decimalPlacesShownOnBlur",aStor:"saveValueToSessionStorage",mRound:"roundingMethod",aPad:"allowDecimalPadding",nBracket:"negativeBracketsTypeOnBlur",wEmpty:"emptyInputBehavior",lZero:"leadingZero",aForm:"formatOnPageLoad",sNumber:"selectNumberOnly",anDefault:"defaultValueOverride",unSetOnSubmit:"unformatOnSubmit",outputType:"outputFormat",debug:"showWarnings",allowDecimalPadding:!0,alwaysAllowDecimalCharacter:!0,caretPositionOnFocus:!0,createLocalList:!0,currencySymbol:!0,currencySymbolPlacement:!0,decimalCharacter:!0,decimalCharacterAlternative:!0,decimalPlaces:!0,decimalPlacesRawValue:!0,decimalPlacesShownOnBlur:!0,decimalPlacesShownOnFocus:!0,defaultValueOverride:!0,digitalGroupSpacing:!0,digitGroupSeparator:!0,divisorWhenUnfocused:!0,emptyInputBehavior:!0,eventBubbles:!0,eventIsCancelable:!0,failOnUnknownOption:!0,formatOnPageLoad:!0,formulaMode:!0,historySize:!0,isCancellable:!0,leadingZero:!0,maximumValue:!0,minimumValue:!0,modifyValueOnWheel:!0,negativeBracketsTypeOnBlur:!0,negativePositiveSignPlacement:!0,negativeSignCharacter:!0,noEventListeners:!0,onInvalidPaste:!0,outputFormat:!0,overrideMinMaxLimits:!0,positiveSignCharacter:!0,rawValueDivisor:!0,readOnly:!0,roundingMethod:!0,saveValueToSessionStorage:!0,selectNumberOnly:!0,selectOnFocus:!0,serializeSpaces:!0,showOnlyNumbersOnFocus:!0,showPositiveSign:!0,showWarnings:!0,styleRules:!0,suffixText:!0,symbolWhenUnfocused:!0,unformatOnHover:!0,unformatOnSubmit:!0,valuesToStrings:!0,watchExternalChanges:!0,wheelOn:!0,wheelStep:!0,allowedAutoStrip:!0,formulaChars:!0,isNegativeSignAllowed:!0,isPositiveSignAllowed:!0,mIntNeg:!0,mIntPos:!0,numRegAutoStrip:!0,originalDecimalPlaces:!0,originalDecimalPlacesRawValue:!0,stripReg:!0};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(!0===t[n])continue;Object.prototype.hasOwnProperty.call(t,n)?(h.warning("You are using the deprecated option name '".concat(n,"'. Please use '").concat(t[n],"' instead from now on. The old option name will be dropped very soon."),!0),e[t[n]]=e[n],delete e[n]):e.failOnUnknownOption&&h.throwError("Option name '".concat(n,"' is unknown. Please fix the options passed to autoNumeric"))}"mDec"in e&&h.warning("The old `mDec` option has been deprecated in favor of more accurate options ; `decimalPlaces`, `decimalPlacesRawValue`, `decimalPlacesShownOnFocus` and `decimalPlacesShownOnBlur`.",!0)}},{key:"_setNegativePositiveSignPermissions",value:function(e){e.isNegativeSignAllowed=e.minimumValue<0,e.isPositiveSignAllowed=0<=e.maximumValue}},{key:"_toNumericValue",value:function(e,t){var n;return h.isNumber(Number(e))?n=h.scientificToDecimal(e):(n=this._convertToNumericString(e.toString(),t),h.isNumber(Number(n))||(h.warning('The given value "'.concat(e,'" cannot be converted to a numeric one and therefore cannot be used appropriately.'),t.showWarnings),n=NaN)),n}},{key:"_checkIfInRange",value:function(e,t,n){var r=h.parseStr(e);return-1<h.testMinMax(t,r)&&h.testMinMax(n,r)<1}},{key:"_shouldSkipEventKey",value:function(e){var t=h.isInArray(e,i.keyName._allFnKeys),n=e===i.keyName.OSLeft||e===i.keyName.OSRight,r=e===i.keyName.ContextMenu,o=h.isInArray(e,i.keyName._someNonPrintableKeys),a=e===i.keyName.NumLock||e===i.keyName.ScrollLock||e===i.keyName.Insert||e===i.keyName.Command,s=e===i.keyName.Unidentified;return t||n||r||o||s||a}},{key:"_serialize",value:function(e,t,n,r,i){var o,a=this,s=1<arguments.length&&void 0!==t&&t,u=2<arguments.length&&void 0!==n?n:"unformatted",c=3<arguments.length&&void 0!==r?r:"+",l=4<arguments.length&&void 0!==i?i:null,f=[];return"object"===S(e)&&"form"===e.nodeName.toLowerCase()&&Array.prototype.slice.call(e.elements).forEach((function(e){if(e.name&&!e.disabled&&-1===["file","reset","submit","button"].indexOf(e.type))if("select-multiple"===e.type)Array.prototype.slice.call(e.options).forEach((function(t){t.selected&&(s?f.push({name:e.name,value:t.value}):f.push("".concat(encodeURIComponent(e.name),"=").concat(encodeURIComponent(t.value))))}));else if(-1===["checkbox","radio"].indexOf(e.type)||e.checked){var t,n;if(a.isManagedByAutoNumeric(e))switch(u){case"unformatted":n=a.getAutoNumericElement(e),h.isNull(n)||(t=a.unformat(e,n.getSettings()));break;case"localized":if(n=a.getAutoNumericElement(e),!h.isNull(n)){var r=h.cloneObject(n.getSettings());h.isNull(l)||(r.outputFormat=l),t=a.localize(e,r)}break;case"formatted":default:t=e.value}else t=e.value;h.isUndefined(t)&&h.throwError("This error should never be hit. If it has, something really wrong happened!"),s?f.push({name:e.name,value:t}):f.push("".concat(encodeURIComponent(e.name),"=").concat(encodeURIComponent(t)))}})),s?o=f:(o=f.join("&"),"+"===c&&(o=o.replace(/%20/g,"+"))),o}},{key:"_serializeNumericString",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"+";return this._serialize(e,!1,"unformatted",n)}},{key:"_serializeFormatted",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"+";return this._serialize(e,!1,"formatted",n)}},{key:"_serializeLocalized",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:"+",i=2<arguments.length&&void 0!==n?n:null;return this._serialize(e,!1,"localized",r,i)}},{key:"_serializeNumericStringArray",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"+";return this._serialize(e,!0,"unformatted",n)}},{key:"_serializeFormattedArray",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"+";return this._serialize(e,!0,"formatted",n)}},{key:"_serializeLocalizedArray",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:"+",i=2<arguments.length&&void 0!==n?n:null;return this._serialize(e,!0,"localized",r,i)}}],E((t=e).prototype,[{key:"_saveInitialValues",value:function(e){this.initialValueHtmlAttribute=h.scientificToDecimal(this.domElement.getAttribute("value")),h.isNull(this.initialValueHtmlAttribute)&&(this.initialValueHtmlAttribute=""),this.initialValue=e,h.isNull(this.initialValue)&&(this.initialValue="")}},{key:"_createEventListeners",value:function(){var t=this;this.formulaMode=!1,this._onFocusInFunc=function(e){t._onFocusIn(e)},this._onFocusInAndMouseEnterFunc=function(e){t._onFocusInAndMouseEnter(e)},this._onFocusFunc=function(){t._onFocus()},this._onKeydownFunc=function(e){t._onKeydown(e)},this._onKeypressFunc=function(e){t._onKeypress(e)},this._onKeyupFunc=function(e){t._onKeyup(e)},this._onFocusOutAndMouseLeaveFunc=function(e){t._onFocusOutAndMouseLeave(e)},this._onPasteFunc=function(e){t._onPaste(e)},this._onWheelFunc=function(e){t._onWheel(e)},this._onDropFunc=function(e){t._onDrop(e)},this._onKeydownGlobalFunc=function(e){t._onKeydownGlobal(e)},this._onKeyupGlobalFunc=function(e){t._onKeyupGlobal(e)},this.domElement.addEventListener("focusin",this._onFocusInFunc,!1),this.domElement.addEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("focus",this._onFocusFunc,!1),this.domElement.addEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("keydown",this._onKeydownFunc,!1),this.domElement.addEventListener("keypress",this._onKeypressFunc,!1),this.domElement.addEventListener("keyup",this._onKeyupFunc,!1),this.domElement.addEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("paste",this._onPasteFunc,!1),this.domElement.addEventListener("wheel",this._onWheelFunc,!1),this.domElement.addEventListener("drop",this._onDropFunc,!1),this._setupFormListener(),this.hasEventListeners=!0,e._doesGlobalListExists()||(document.addEventListener("keydown",this._onKeydownGlobalFunc,!1),document.addEventListener("keyup",this._onKeyupGlobalFunc,!1))}},{key:"_removeEventListeners",value:function(){this.domElement.removeEventListener("focusin",this._onFocusInFunc,!1),this.domElement.removeEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("focus",this._onFocusFunc,!1),this.domElement.removeEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("keydown",this._onKeydownFunc,!1),this.domElement.removeEventListener("keypress",this._onKeypressFunc,!1),this.domElement.removeEventListener("keyup",this._onKeyupFunc,!1),this.domElement.removeEventListener("paste",this._onPasteFunc,!1),this.domElement.removeEventListener("wheel",this._onWheelFunc,!1),this.domElement.removeEventListener("drop",this._onDropFunc,!1),this._removeFormListener(),this.hasEventListeners=!1,document.removeEventListener("keydown",this._onKeydownGlobalFunc,!1),document.removeEventListener("keyup",this._onKeyupGlobalFunc,!1)}},{key:"_updateEventListeners",value:function(){this.settings.noEventListeners||this.hasEventListeners||this._createEventListeners(),this.settings.noEventListeners&&this.hasEventListeners&&this._removeEventListeners()}},{key:"_setupFormListener",value:function(){var e=this;h.isNull(this.parentForm)||(this._onFormSubmitFunc=function(){e._onFormSubmit()},this._onFormResetFunc=function(){e._onFormReset()},this._hasParentFormCounter()?this._incrementParentFormCounter():(this._initializeFormCounterToOne(),this.parentForm.addEventListener("submit",this._onFormSubmitFunc,!1),this.parentForm.addEventListener("reset",this._onFormResetFunc,!1),this._storeFormHandlerFunction()))}},{key:"_removeFormListener",value:function(){if(!h.isNull(this.parentForm)){var e=this._getParentFormCounter();1===e?(this.parentForm.removeEventListener("submit",this._getFormHandlerFunction().submitFn,!1),this.parentForm.removeEventListener("reset",this._getFormHandlerFunction().resetFn,!1),this._removeFormDataSetInfo()):1<e?this._decrementParentFormCounter():h.throwError("The AutoNumeric object count on the form is incoherent.")}}},{key:"_hasParentFormCounter",value:function(){return"anCount"in this.parentForm.dataset}},{key:"_getParentFormCounter",value:function(){return Number(this.parentForm.dataset.anCount)}},{key:"_initializeFormCounterToOne",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this._getFormElement(t).dataset.anCount=1}},{key:"_incrementParentFormCounter",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this._getFormElement(t).dataset.anCount++}},{key:"_decrementParentFormCounter",value:function(){this.parentForm.dataset.anCount--}},{key:"_hasFormHandlerFunction",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return"anFormHandler"in this._getFormElement(t).dataset}},{key:"_getFormElement",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return h.isNull(t)?this.parentForm:t}},{key:"_storeFormHandlerFunction",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this.constructor._doesFormHandlerListExists()||this.constructor._createFormHandlerList();var n=h.randomString();this._getFormElement(t).dataset.anFormHandler=n,window.aNFormHandlerMap.set(n,{submitFn:this._onFormSubmitFunc,resetFn:this._onFormResetFunc})}},{key:"_getFormHandlerKey",value:function(){this._hasFormHandlerFunction()||h.throwError("Unable to retrieve the form handler name");var e=this.parentForm.dataset.anFormHandler;return""===e&&h.throwError("The form handler name is invalid"),e}},{key:"_getFormHandlerFunction",value:function(){var e=this._getFormHandlerKey();return window.aNFormHandlerMap.get(e)}},{key:"_removeFormDataSetInfo",value:function(){this._decrementParentFormCounter(),window.aNFormHandlerMap.delete(this._getFormHandlerKey()),this.parentForm.removeAttribute("data-an-count"),this.parentForm.removeAttribute("data-an-form-handler")}},{key:"_setWritePermissions",value:function(e){0<arguments.length&&void 0!==e&&e&&this.domElement.readOnly||this.settings.readOnly?this._setReadOnly():this._setReadWrite()}},{key:"_setReadOnly",value:function(){this.isInputElement?this.domElement.readOnly=!0:this.domElement.setAttribute("contenteditable",!1)}},{key:"_setReadWrite",value:function(){this.isInputElement?this.domElement.readOnly=!1:this.domElement.setAttribute("contenteditable",!0)}},{key:"_addWatcher",value:function(){var e=this;if(!h.isUndefined(this.getterSetter)){var t=this.getterSetter,n=t.set,r=t.get;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:function(){return r.call(e.domElement)},set:function(t){n.call(e.domElement,t),e.settings.watchExternalChanges&&!e.internalModification&&e.set(t)}})}}},{key:"_removeWatcher",value:function(){var e=this;if(!h.isUndefined(this.getterSetter)){var t=this.getterSetter,n=t.set,r=t.get;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:function(){return r.call(e.domElement)},set:function(t){n.call(e.domElement,t)}})}}},{key:"_getAttributeToWatch",value:function(){var e;if(this.isInputElement)e="value";else{var t=this.domElement.nodeType;t===Node.ELEMENT_NODE||t===Node.DOCUMENT_NODE||t===Node.DOCUMENT_FRAGMENT_NODE?e="textContent":t===Node.TEXT_NODE&&(e="nodeValue")}return e}},{key:"_historyTableAdd",value:function(){var e=0===this.historyTable.length;if(e||this.rawValue!==this._historyTableCurrentValueUsed()){var t=!0;if(!e){var n=this.historyTableIndex+1;n<this.historyTable.length&&this.rawValue===this.historyTable[n].value?t=!1:h.arrayTrim(this.historyTable,this.historyTableIndex+1)}if(this.historyTableIndex++,t){var r=h.getElementSelection(this.domElement);this.selectionStart=r.start,this.selectionEnd=r.end,this.historyTable.push({value:this.rawValue,start:this.selectionStart+1,end:this.selectionEnd+1}),1<this.historyTable.length&&(this.historyTable[this.historyTableIndex-1].start=this.selectionStart,this.historyTable[this.historyTableIndex-1].end=this.selectionEnd)}this.historyTable.length>this.settings.historySize&&this._historyTableForget()}}},{key:"_historyTableUndoOrRedo",value:function(e){var t;if(0<arguments.length&&void 0!==e&&!e?(t=this.historyTableIndex+1<this.historyTable.length)&&this.historyTableIndex++:(t=0<this.historyTableIndex)&&this.historyTableIndex--,t){var n=this.historyTable[this.historyTableIndex];this.set(n.value,null,!1),h.setElementSelection(this.domElement,n.start,n.end)}}},{key:"_historyTableUndo",value:function(){this._historyTableUndoOrRedo(!0)}},{key:"_historyTableRedo",value:function(){this._historyTableUndoOrRedo(!1)}},{key:"_historyTableForget",value:function(e){for(var t=0<arguments.length&&void 0!==e?e:1,n=[],r=0;r<t;r++)n.push(this.historyTable.shift()),this.historyTableIndex--,this.historyTableIndex<0&&(this.historyTableIndex=0);return 1===n.length?n[0]:n}},{key:"_historyTableCurrentValueUsed",value:function(){var e=this.historyTableIndex;return e<0&&(e=0),h.isUndefinedOrNullOrEmpty(this.historyTable[e])?"":this.historyTable[e].value}},{key:"_parseStyleRules",value:function(){var e=this;h.isUndefinedOrNullOrEmpty(this.settings.styleRules)||""===this.rawValue||(h.isUndefinedOrNullOrEmpty(this.settings.styleRules.positive)||(0<=this.rawValue?this._addCSSClass(this.settings.styleRules.positive):this._removeCSSClass(this.settings.styleRules.positive)),h.isUndefinedOrNullOrEmpty(this.settings.styleRules.negative)||(this.rawValue<0?this._addCSSClass(this.settings.styleRules.negative):this._removeCSSClass(this.settings.styleRules.negative)),h.isUndefinedOrNullOrEmpty(this.settings.styleRules.ranges)||0===this.settings.styleRules.ranges.length||this.settings.styleRules.ranges.forEach((function(t){e.rawValue>=t.min&&e.rawValue<t.max?e._addCSSClass(t.class):e._removeCSSClass(t.class)})),h.isUndefinedOrNullOrEmpty(this.settings.styleRules.userDefined)||0===this.settings.styleRules.userDefined.length||this.settings.styleRules.userDefined.forEach((function(t){if(h.isFunction(t.callback))if(h.isString(t.classes))t.callback(e.rawValue)?e._addCSSClass(t.classes):e._removeCSSClass(t.classes);else if(h.isArray(t.classes))if(2===t.classes.length)t.callback(e.rawValue)?(e._addCSSClass(t.classes[0]),e._removeCSSClass(t.classes[1])):(e._removeCSSClass(t.classes[0]),e._addCSSClass(t.classes[1]));else if(2<t.classes.length){var n=t.callback(e.rawValue);h.isArray(n)?t.classes.forEach((function(t,r){h.isInArray(r,n)?e._addCSSClass(t):e._removeCSSClass(t)})):h.isInt(n)?t.classes.forEach((function(t,r){r===n?e._addCSSClass(t):e._removeCSSClass(t)})):h.isNull(n)?t.classes.forEach((function(t){e._removeCSSClass(t)})):h.throwError("The callback result is not an array nor a valid array index, ".concat(S(n)," given."))}else h.throwError("The classes attribute is not valid for the `styleRules` option.");else h.isUndefinedOrNullOrEmpty(t.classes)?t.callback(e):h.throwError("The callback/classes structure is not valid for the `styleRules` option.");else h.warning("The given `styleRules` callback is not a function, ".concat("undefined"==typeof callback?"undefined":S(callback)," given."),e.settings.showWarnings)})))}},{key:"_addCSSClass",value:function(e){this.domElement.classList.add(e)}},{key:"_removeCSSClass",value:function(e){this.domElement.classList.remove(e)}},{key:"update",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Array.isArray(n)&&Array.isArray(n[0])&&(n=n[0]);var i=h.cloneObject(this.settings),o=this.rawValue,a={};h.isUndefinedOrNullOrEmpty(n)||0===n.length?a=null:1<=n.length&&n.forEach((function(t){e.constructor._isPreDefinedOptionValid(t)&&(t=e.constructor._getOptionObject(t)),w(a,t)}));try{this._setSettings(a,!0),this._setWritePermissions(),this._updateEventListeners(),this.set(o)}catch(t){return this._setSettings(i,!0),h.throwError("Unable to update the settings, those are invalid: [".concat(t,"]")),this}return this}},{key:"getSettings",value:function(){return this.settings}},{key:"set",value:function(t,n,r){var i,o=1<arguments.length&&void 0!==n?n:null,a=!(2<arguments.length&&void 0!==r)||r;if(h.isUndefined(t))return h.warning("You are trying to set an 'undefined' value ; an error could have occurred.",this.settings.showWarnings),this;if(h.isNull(o)||this._setSettings(o,!0),null===t&&this.settings.emptyInputBehavior!==e.options.emptyInputBehavior.null)return h.warning("You are trying to set the `null` value while the `emptyInputBehavior` option is set to ".concat(this.settings.emptyInputBehavior,". If you want to be able to set the `null` value, you need to change the 'emptyInputBehavior' option to `'null'`."),this.settings.showWarnings),this;if(null===t)return this._setElementAndRawValue(null,null,a),this._saveValueToPersistentStorage(),this;if(i=this.constructor._toNumericValue(t,this.settings),isNaN(Number(i)))return h.warning("The value you are trying to set results in `NaN`. The element value is set to the empty string instead.",this.settings.showWarnings),this.setValue("",a),this;if(""===i)switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.zero:i=0;break;case e.options.emptyInputBehavior.min:i=this.settings.minimumValue;break;case e.options.emptyInputBehavior.max:i=this.settings.maximumValue;break;default:h.isNumber(this.settings.emptyInputBehavior)&&(i=Number(this.settings.emptyInputBehavior))}if(""===i)return s=this.settings.emptyInputBehavior===e.options.emptyInputBehavior.always?this.settings.currencySymbol:"",this._setElementAndRawValue(s,"",a),this;var s,u=y(this.constructor._checkIfInRangeWithOverrideOption(i,this.settings),2),c=u[0],l=u[1];if(c&&l&&this.settings.valuesToStrings&&this._checkValuesToStrings(i))return this._setElementAndRawValue(this.settings.valuesToStrings[i],i,a),this._saveValueToPersistentStorage(),this;if(h.isZeroOrHasNoValue(i)&&(i="0"),c&&l){var f=this.constructor._roundRawValue(i,this.settings);return f=this._trimLeadingAndTrailingZeros(f.replace(this.settings.decimalCharacter,".")),i=this._getRawValueToFormat(i),i=this.isFocused?this.constructor._roundFormattedValueShownOnFocus(i,this.settings):(this.settings.divisorWhenUnfocused&&(i=(i/=this.settings.divisorWhenUnfocused).toString()),this.constructor._roundFormattedValueShownOnBlur(i,this.settings)),i=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(i,this.settings),i=this.constructor._addGroupSeparators(i,this.settings,this.isFocused,this.rawValue,f),!this.isFocused&&this.settings.symbolWhenUnfocused&&(i="".concat(i).concat(this.settings.symbolWhenUnfocused)),(this.settings.decimalPlacesShownOnFocus||this.settings.divisorWhenUnfocused)&&this._saveValueToPersistentStorage(),this._setElementAndRawValue(i,f,a),this._setValidOrInvalidState(f),this}return this._triggerRangeEvents(c,l),h.throwError("The value [".concat(i,"] being set falls outside of the minimumValue [").concat(this.settings.minimumValue,"] and maximumValue [").concat(this.settings.maximumValue,"] range set for this element")),this._removeValueFromPersistentStorage(),this.setValue("",a),this}},{key:"setUnformatted",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;if(null===e||h.isUndefined(e))return this;h.isNull(n)||this._setSettings(n,!0);var r=this.constructor._removeBrackets(e,this.settings),i=this.constructor._stripAllNonNumberCharacters(r,this.settings,!0,this.isFocused);return h.isNumber(i)||h.throwError("The value is not a valid one, it's not a numeric string nor a recognized currency."),this.constructor._isWithinRangeWithOverrideOption(i,this.settings)?this.setValue(e):h.throwError("The value is out of the range limits [".concat(this.settings.minimumValue,", ").concat(this.settings.maximumValue,"].")),this}},{key:"setValue",value:function(e,t){var n=!(1<arguments.length&&void 0!==t)||t;return this._setElementAndRawValue(e,n),this}},{key:"_setRawValue",value:function(t,n){var r=!(1<arguments.length&&void 0!==n)||n;if(this.rawValue!==t){var i=this.rawValue;this.rawValue=t,!h.isNull(this.settings.rawValueDivisor)&&0!==this.settings.rawValueDivisor&&""!==t&&null!==t&&this._isUserManuallyEditingTheValue()&&(this.rawValue/=this.settings.rawValueDivisor),this._triggerEvent(e.events.rawValueModified,this.domElement,{oldRawValue:i,newRawValue:this.rawValue,isPristine:this.isPristine(!0),error:null,aNElement:this}),this._parseStyleRules(),r&&this._historyTableAdd()}}},{key:"_setElementValue",value:function(t,n){var r=!(1<arguments.length&&void 0!==n)||n,i=h.getElementValue(this.domElement);return t!==i&&(this.internalModification=!0,h.setElementValue(this.domElement,t),this.internalModification=!1,r&&this._triggerEvent(e.events.formatted,this.domElement,{oldValue:i,newValue:t,oldRawValue:this.rawValue,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this})),this}},{key:"_setElementAndRawValue",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:null,i=!(2<arguments.length&&void 0!==n)||n;return h.isNull(r)?r=e:h.isBoolean(r)&&(i=r,r=e),this._setElementValue(e),this._setRawValue(r,i),this}},{key:"_getRawValueToFormat",value:function(e){return h.isNull(this.settings.rawValueDivisor)||0===this.settings.rawValueDivisor||""===e||null===e?e:e*this.settings.rawValueDivisor}},{key:"_checkValuesToStrings",value:function(e){return this.constructor._checkValuesToStringsArray(e,this.valuesToStringsKeys)}},{key:"_isUserManuallyEditingTheValue",value:function(){return this.isFocused&&this.isEditing||this.isDropEvent}},{key:"_executeCallback",value:function(e,t){!h.isNull(t)&&h.isFunction(t)&&t(e,this)}},{key:"_triggerEvent",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:document,i=2<arguments.length&&void 0!==n?n:null;h.triggerEvent(e,r,i,this.settings.eventBubbles,this.settings.eventIsCancelable)}},{key:"get",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this.getNumericString(t)}},{key:"getNumericString",value:function(e){var t,n=0<arguments.length&&void 0!==e?e:null;return t=h.isNull(this.rawValue)?null:h.trimPaddedZerosFromDecimalPlaces(this.rawValue),this._executeCallback(t,n),t}},{key:"getFormatted",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;"value"in this.domElement||"textContent"in this.domElement||h.throwError("Unable to get the formatted string from the element.");var n=h.getElementValue(this.domElement);return this._executeCallback(n,t),n}},{key:"getNumber",value:function(e){var t,n=0<arguments.length&&void 0!==e?e:null;return t=null===this.rawValue?null:this.constructor._toLocale(this.getNumericString(),"number",this.settings),this._executeCallback(t,n),t}},{key:"getLocalized",value:function(t,n){var r,i,o=0<arguments.length&&void 0!==t?t:null,a=1<arguments.length&&void 0!==n?n:null;h.isFunction(o)&&h.isNull(a)&&(a=o,o=null),(r=h.isEmptyString(this.rawValue)?"":""+Number(this.rawValue))&&0===Number(r)&&this.settings.leadingZero!==e.options.leadingZero.keep&&(r="0"),i=h.isNull(o)?this.settings.outputFormat:o;var s=this.constructor._toLocale(r,i,this.settings);return this._executeCallback(s,a),s}},{key:"reformat",value:function(){return this.set(this.rawValue),this}},{key:"unformat",value:function(){return this._setElementValue(this.getNumericString()),this}},{key:"unformatLocalized",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this._setElementValue(this.getLocalized(t)),this}},{key:"isPristine",value:function(e){return 0<arguments.length&&void 0!==e&&!e?this.initialValueHtmlAttribute===this.getFormatted():this.initialValue===this.getNumericString()}},{key:"select",value:function(){return this.settings.selectNumberOnly?this.selectNumber():this._defaultSelectAll(),this}},{key:"_defaultSelectAll",value:function(){h.setElementSelection(this.domElement,0,h.getElementValue(this.domElement).length)}},{key:"selectNumber",value:function(){var t,n,r=h.getElementValue(this.domElement),i=r.length,o=this.settings.currencySymbol.length,a=this.settings.currencySymbolPlacement,s=h.isNegative(r,this.settings.negativeSignCharacter)?1:0,u=this.settings.suffixText.length;if(t=a===e.options.currencySymbolPlacement.suffix?0:this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left&&1==s&&0<o?o+1:o,a===e.options.currencySymbolPlacement.prefix)n=i-u;else switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.left:n=i-(u+o);break;case e.options.negativePositiveSignPlacement.right:n=0<o?i-(o+s+u):i-(o+u);break;default:n=i-(o+u)}return h.setElementSelection(this.domElement,t,n),this}},{key:"selectInteger",value:function(){var t=0,n=0<=this.rawValue;this.settings.currencySymbolPlacement!==e.options.currencySymbolPlacement.prefix&&(this.settings.currencySymbolPlacement!==e.options.currencySymbolPlacement.suffix||this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.prefix&&this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none)||(this.settings.showPositiveSign&&n||!n&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left)&&(t+=1),this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&(t+=this.settings.currencySymbol.length);var r=h.getElementValue(this.domElement),i=r.indexOf(this.settings.decimalCharacter);return-1===i&&(i=this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?r.length-this.settings.currencySymbol.length:r.length,n||this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.suffix&&this.settings.currencySymbolPlacement!==e.options.currencySymbolPlacement.suffix||--i,i-=this.settings.suffixText.length),h.setElementSelection(this.domElement,t,i),this}},{key:"selectDecimal",value:function(){var e,t,n=h.getElementValue(this.domElement).indexOf(this.settings.decimalCharacter);return e=-1===n?n=0:(n+=1,t=this.isFocused?this.settings.decimalPlacesShownOnFocus:this.settings.decimalPlacesShownOnBlur,n+Number(t)),h.setElementSelection(this.domElement,n,e),this}},{key:"node",value:function(){return this.domElement}},{key:"parent",value:function(){return this.domElement.parentNode}},{key:"detach",value:function(e){var t,n=0<arguments.length&&void 0!==e?e:null;return t=h.isNull(n)?this.domElement:n.node(),this._removeFromLocalList(t),this}},{key:"attach",value:function(e,t){var n=!(1<arguments.length&&void 0!==t)||t;return this._addToLocalList(e.node()),n&&e.update(this.settings),this}},{key:"formatOther",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return this._formatOrUnformatOther(!0,e,n)}},{key:"unformatOther",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return this._formatOrUnformatOther(!1,e,n)}},{key:"_formatOrUnformatOther",value:function(t,n,r){var i,o,a=2<arguments.length&&void 0!==r?r:null;if(i=h.isNull(a)?this.settings:this._cloneAndMergeSettings(a),h.isElement(n)){var s=h.getElementValue(n);return o=t?e.format(s,i):e.unformat(s,i),h.setElementValue(n,o),null}return t?e.format(n,i):e.unformat(n,i)}},{key:"init",value:function(t,n){var r=this,i=!(1<arguments.length&&void 0!==n)||n,o=!1,a=[];if(h.isString(t)?a=v(document.querySelectorAll(t)):h.isElement(t)?(a.push(t),o=!0):h.isArray(t)?a=t:h.throwError("The given parameters to the 'init' function are invalid."),0===a.length)return h.warning("No valid DOM elements were given hence no AutoNumeric object were instantiated.",!0),[];var s=this._getLocalList(),u=[];return a.forEach((function(t){var n=r.settings.createLocalList;i&&(r.settings.createLocalList=!1);var o=new e(t,h.getElementValue(t),r.settings);i&&(o._setLocalList(s),r._addToLocalList(t,o),r.settings.createLocalList=n),u.push(o)})),o?u[0]:u}},{key:"clear",value:function(t){if(0<arguments.length&&void 0!==t&&t){var n={emptyInputBehavior:e.options.emptyInputBehavior.focus};this.set("",n)}else this.set("");return this}},{key:"remove",value:function(){this._removeValueFromPersistentStorage(),this._removeEventListeners(),this._removeWatcher(),this._removeFromLocalList(this.domElement),this.constructor._removeFromGlobalList(this)}},{key:"wipe",value:function(){this._setElementValue("",!1),this.remove()}},{key:"nuke",value:function(){this.remove(),this.domElement.parentNode.removeChild(this.domElement)}},{key:"form",value:function(e){if(0<arguments.length&&void 0!==e&&e||h.isUndefinedOrNullOrEmpty(this.parentForm)){var t=this._getParentForm();if(!h.isNull(t)&&t!==this.parentForm){var n=this._getFormAutoNumericChildren(this.parentForm);this.parentForm.dataset.anCount=n.length,this._hasFormHandlerFunction(t)?this._incrementParentFormCounter(t):(this._storeFormHandlerFunction(t),this._initializeFormCounterToOne(t))}this.parentForm=t}return this.parentForm}},{key:"_getFormAutoNumericChildren",value:function(e){var t=this;return v(e.querySelectorAll("input")).filter((function(e){return t.constructor.isManagedByAutoNumeric(e)}))}},{key:"_getParentForm",value:function(){if("body"===this.domElement.tagName.toLowerCase())return null;var e,t=this.domElement;do{if(t=t.parentNode,h.isNull(t))return null;if("body"===(e=t.tagName?t.tagName.toLowerCase():""))break}while("form"!==e);return"form"===e?t:null}},{key:"formNumericString",value:function(){return this.constructor._serializeNumericString(this.form(),this.settings.serializeSpaces)}},{key:"formFormatted",value:function(){return this.constructor._serializeFormatted(this.form(),this.settings.serializeSpaces)}},{key:"formLocalized",value:function(e){var t,n=0<arguments.length&&void 0!==e?e:null;return t=h.isNull(n)?this.settings.outputFormat:n,this.constructor._serializeLocalized(this.form(),this.settings.serializeSpaces,t)}},{key:"formArrayNumericString",value:function(){return this.constructor._serializeNumericStringArray(this.form(),this.settings.serializeSpaces)}},{key:"formArrayFormatted",value:function(){return this.constructor._serializeFormattedArray(this.form(),this.settings.serializeSpaces)}},{key:"formArrayLocalized",value:function(e){var t,n=0<arguments.length&&void 0!==e?e:null;return t=h.isNull(n)?this.settings.outputFormat:n,this.constructor._serializeLocalizedArray(this.form(),this.settings.serializeSpaces,t)}},{key:"formJsonNumericString",value:function(){return JSON.stringify(this.formArrayNumericString())}},{key:"formJsonFormatted",value:function(){return JSON.stringify(this.formArrayFormatted())}},{key:"formJsonLocalized",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return JSON.stringify(this.formArrayLocalized(t))}},{key:"formUnformat",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach((function(t){e.getAutoNumericElement(t).unformat()})),this}},{key:"formUnformatLocalized",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach((function(t){e.getAutoNumericElement(t).unformatLocalized()})),this}},{key:"formReformat",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach((function(t){e.getAutoNumericElement(t).reformat()})),this}},{key:"formSubmitNumericString",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return h.isNull(t)?(this.formUnformat(),this.form().submit(),this.formReformat()):h.isFunction(t)?t(this.formNumericString()):h.throwError("The given callback is not a function."),this}},{key:"formSubmitFormatted",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return h.isNull(t)?this.form().submit():h.isFunction(t)?t(this.formFormatted()):h.throwError("The given callback is not a function."),this}},{key:"formSubmitLocalized",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:null,r=1<arguments.length&&void 0!==t?t:null;return h.isNull(r)?(this.formUnformatLocalized(),this.form().submit(),this.formReformat()):h.isFunction(r)?r(this.formLocalized(n)):h.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayNumericString",value:function(e){return h.isFunction(e)?e(this.formArrayNumericString()):h.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayFormatted",value:function(e){return h.isFunction(e)?e(this.formArrayFormatted()):h.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayLocalized",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return h.isFunction(e)?e(this.formArrayLocalized(n)):h.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonNumericString",value:function(e){return h.isFunction(e)?e(this.formJsonNumericString()):h.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonFormatted",value:function(e){return h.isFunction(e)?e(this.formJsonFormatted()):h.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonLocalized",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return h.isFunction(e)?e(this.formJsonLocalized(n)):h.throwError("The given callback is not a function."),this}},{key:"_createLocalList",value:function(){this.autoNumericLocalList=new Map,this._addToLocalList(this.domElement)}},{key:"_deleteLocalList",value:function(){delete this.autoNumericLocalList}},{key:"_setLocalList",value:function(e){this.autoNumericLocalList=e}},{key:"_getLocalList",value:function(){return this.autoNumericLocalList}},{key:"_hasLocalList",value:function(){return this.autoNumericLocalList instanceof Map&&0!==this.autoNumericLocalList.size}},{key:"_addToLocalList",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;h.isNull(n)&&(n=this),h.isUndefined(this.autoNumericLocalList)?h.throwError("The local list provided does not exists when trying to add an element. [".concat(this.autoNumericLocalList,"] given.")):this.autoNumericLocalList.set(e,n)}},{key:"_removeFromLocalList",value:function(e){h.isUndefined(this.autoNumericLocalList)?this.settings.createLocalList&&h.throwError("The local list provided does not exists when trying to remove an element. [".concat(this.autoNumericLocalList,"] given.")):this.autoNumericLocalList.delete(e)}},{key:"_mergeSettings",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.apply(void 0,[this.settings].concat(t))}},{key:"_cloneAndMergeSettings",value:function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w.apply(void 0,[e,this.settings].concat(n)),e}},{key:"_updatePredefinedOptions",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return h.isNull(n)?this.update(e):(this._mergeSettings(e,n),this.update(this.settings)),this}},{key:"french",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().French,n),this}},{key:"northAmerican",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().NorthAmerican,n),this}},{key:"british",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().British,n),this}},{key:"swiss",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Swiss,n),this}},{key:"japanese",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Japanese,n),this}},{key:"spanish",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Spanish,n),this}},{key:"chinese",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Chinese,n),this}},{key:"brazilian",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Brazilian,n),this}},{key:"_runCallbacksFoundInTheSettingsObject",value:function(){for(var e in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,e)){var t=this.settings[e];if("function"==typeof t)this.settings[e]=t(this,e);else{var n=this.domElement.getAttribute(e);n=h.camelize(n),"function"==typeof this.settings[n]&&(this.settings[e]=n(this,e))}}}},{key:"_setTrailingNegativeSignInfo",value:function(){this.isTrailingNegative=this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix||this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&(this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left||this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.right)}},{key:"_modifyNegativeSignAndDecimalCharacterForRawValue",value:function(e){return"."!==this.settings.decimalCharacter&&(e=e.replace(this.settings.decimalCharacter,".")),"-"!==this.settings.negativeSignCharacter&&this.settings.isNegativeSignAllowed&&(e=e.replace(this.settings.negativeSignCharacter,"-")),e.match(/\d/)||(e+="0"),e}},{key:"_initialCaretPosition",value:function(t){h.isNull(this.settings.caretPositionOnFocus)&&this.settings.selectOnFocus===e.options.selectOnFocus.doNotSelect&&h.throwError("`_initialCaretPosition()` should never be called when the `caretPositionOnFocus` option is `null`.");var n=this.rawValue<0,r=h.isZeroOrHasNoValue(t),i=t.length,o=0,a=0,s=!1,u=0;this.settings.caretPositionOnFocus!==e.options.caretPositionOnFocus.start&&(o=(t=(t=(t=t.replace(this.settings.negativeSignCharacter,"")).replace(this.settings.positiveSignCharacter,"")).replace(this.settings.currencySymbol,"")).length,s=h.contains(t,this.settings.decimalCharacter),this.settings.caretPositionOnFocus!==e.options.caretPositionOnFocus.decimalLeft&&this.settings.caretPositionOnFocus!==e.options.caretPositionOnFocus.decimalRight||(u=s?(a=t.indexOf(this.settings.decimalCharacter),this.settings.decimalCharacter.length):(a=o,0)));var c="";n?c=this.settings.negativeSignCharacter:this.settings.showPositiveSign&&!r&&(c=this.settings.positiveSignCharacter);var l,f=c.length,d=this.settings.currencySymbol.length;if(this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix){if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!r))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:l=f+d;break;case e.options.negativePositiveSignPlacement.suffix:l=d}else l=d;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!r))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:l=i;break;case e.options.negativePositiveSignPlacement.suffix:l=d+o}else l=i;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!r))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:l=f+d+a;break;case e.options.negativePositiveSignPlacement.suffix:l=d+a}else l=d+a;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!r))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:l=f+d+a+u;break;case e.options.negativePositiveSignPlacement.suffix:l=d+a+u}else l=d+a+u}else if(this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!r))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:l=0;break;case e.options.negativePositiveSignPlacement.prefix:l=f}else l=0;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!r))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:l=o;break;case e.options.negativePositiveSignPlacement.prefix:l=f+o}else l=o;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!r))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:l=a;break;case e.options.negativePositiveSignPlacement.prefix:l=f+a}else l=a;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!r))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:l=a+u;break;case e.options.negativePositiveSignPlacement.prefix:l=f+a+u}else l=a+u;return l}},{key:"_triggerRangeEvents",value:function(t,n){t||this._triggerEvent(e.events.minRangeExceeded,this.domElement),n||this._triggerEvent(e.events.maxRangeExceeded,this.domElement)}},{key:"_setInvalidState",value:function(){this.isInputElement?h.setInvalidState(this.domElement):this._addCSSClass(this.settings.invalidClass),this._triggerEvent(e.events.invalidValue,this.domElement),this.validState=!1}},{key:"_setValidState",value:function(){this.isInputElement?h.setValidState(this.domElement):this._removeCSSClass(this.settings.invalidClass),this.validState||this._triggerEvent(e.events.correctedValue,this.domElement),this.validState=!0}},{key:"_setValidOrInvalidState",value:function(t){if(this.settings.overrideMinMaxLimits===e.options.overrideMinMaxLimits.invalid){var n=this.constructor._isMinimumRangeRespected(t,this.settings),r=this.constructor._isMaximumRangeRespected(t,this.settings);n&&r?this._setValidState():this._setInvalidState(),this._triggerRangeEvents(n,r)}}},{key:"_keepAnOriginalSettingsCopy",value:function(){this.originalDigitGroupSeparator=this.settings.digitGroupSeparator,this.originalCurrencySymbol=this.settings.currencySymbol,this.originalSuffixText=this.settings.suffixText}},{key:"_trimLeadingAndTrailingZeros",value:function(t){if(""===t||null===t)return t;if(this.settings.leadingZero!==e.options.leadingZero.keep){if(0===Number(t))return"0";t=t.replace(/^(-)?0+(?=\d)/g,"$1")}return h.contains(t,".")&&(t=t.replace(/(\.[0-9]*?)0+$/,"$1")),t.replace(/\.$/,"")}},{key:"_setPersistentStorageName",value:function(){this.settings.saveValueToSessionStorage&&(""===this.domElement.name||h.isUndefined(this.domElement.name)?this.rawValueStorageName="".concat(this.storageNamePrefix).concat(this.domElement.id):this.rawValueStorageName="".concat(this.storageNamePrefix).concat(decodeURIComponent(this.domElement.name)))}},{key:"_saveValueToPersistentStorage",value:function(){this.settings.saveValueToSessionStorage&&(this.sessionStorageAvailable?sessionStorage.setItem(this.rawValueStorageName,this.rawValue):document.cookie="".concat(this.rawValueStorageName,"=").concat(this.rawValue,"; expires= ; path=/"))}},{key:"_getValueFromPersistentStorage",value:function(){return this.settings.saveValueToSessionStorage?this.sessionStorageAvailable?sessionStorage.getItem(this.rawValueStorageName):this.constructor._readCookie(this.rawValueStorageName):(h.warning("`_getValueFromPersistentStorage()` is called but `settings.saveValueToSessionStorage` is false. There must be an error that needs fixing.",this.settings.showWarnings),null)}},{key:"_removeValueFromPersistentStorage",value:function(){if(this.settings.saveValueToSessionStorage)if(this.sessionStorageAvailable)sessionStorage.removeItem(this.rawValueStorageName);else{var e=new Date;e.setTime(e.getTime()-864e5);var t="; expires=".concat(e.toUTCString());document.cookie="".concat(this.rawValueStorageName,"='' ;").concat(t,"; path=/")}}},{key:"_getDefaultValue",value:function(e){var t=e.getAttribute("value");return h.isNull(t)?"":t}},{key:"_onFocusInAndMouseEnter",value:function(t){if(this.isEditing=!1,!this.formulaMode&&this.settings.unformatOnHover&&"mouseenter"===t.type&&t.altKey)this.constructor._unformatAltHovered(this);else if("focus"===t.type&&(this.isFocused=!0,this.rawValueOnFocus=this.rawValue),"focus"===t.type&&this.settings.unformatOnHover&&this.hoveredWithAlt&&this.constructor._reformatAltHovered(this),"focus"===t.type||"mouseenter"===t.type&&!this.isFocused){var n=null;this.settings.emptyInputBehavior===e.options.emptyInputBehavior.focus&&this.rawValue<0&&null!==this.settings.negativeBracketsTypeOnBlur&&this.settings.isNegativeSignAllowed&&(n=this.constructor._removeBrackets(h.getElementValue(this.domElement),this.settings));var r=this._getRawValueToFormat(this.rawValue);if(""!==r){var i=this.constructor._roundFormattedValueShownOnFocusOrBlur(r,this.settings,this.isFocused);n=this.settings.showOnlyNumbersOnFocus===e.options.showOnlyNumbersOnFocus.onlyNumbers?(this.settings.digitGroupSeparator="",this.settings.currencySymbol="",this.settings.suffixText="",i.replace(".",this.settings.decimalCharacter)):h.isNull(i)?"":this.constructor._addGroupSeparators(i.replace(".",this.settings.decimalCharacter),this.settings,this.isFocused,r)}h.isNull(n)?this.valueOnFocus="":this.valueOnFocus=n,this.lastVal=this.valueOnFocus;var o=this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(this.valueOnFocus,this.settings),a=this.constructor._orderValueCurrencySymbolAndSuffixText(this.valueOnFocus,this.settings,!0),s=o&&""!==a&&this.settings.emptyInputBehavior===e.options.emptyInputBehavior.focus;s&&(n=a),h.isNull(n)||this._setElementValue(n),s&&a===this.settings.currencySymbol&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&h.setElementSelection(t.target,0)}}},{key:"_onFocus",value:function(){this.settings.isCancellable&&this._saveCancellableValue()}},{key:"_onFocusIn",value:function(e){this.settings.selectOnFocus?this.select():h.isNull(this.settings.caretPositionOnFocus)||h.setElementSelection(e.target,this._initialCaretPosition(h.getElementValue(this.domElement)))}},{key:"_enterFormulaMode",value:function(){this.settings.formulaMode&&(this.formulaMode=!0,h.setElementValue(this.domElement,"="),h.setElementSelection(this.domElement,1))}},{key:"_exitFormulaMode",value:function(){var t,n=h.getElementValue(this.domElement);n=n.replace(/^\s*=/,"");try{var r=new g(n,this.settings.decimalCharacter);t=(new f).evaluate(r)}catch(t){return this._triggerEvent(e.events.invalidFormula,this.domElement,{formula:n,aNElement:this}),this.reformat(),void(this.formulaMode=!1)}this._triggerEvent(e.events.validFormula,this.domElement,{formula:n,result:t,aNElement:this}),this.set(t),this.formulaMode=!1}},{key:"_acceptNonPrintableKeysInFormulaMode",value:function(){return this.eventKey===i.keyName.Backspace||this.eventKey===i.keyName.Delete||this.eventKey===i.keyName.LeftArrow||this.eventKey===i.keyName.RightArrow||this.eventKey===i.keyName.Home||this.eventKey===i.keyName.End}},{key:"_onKeydown",value:function(t){if(this.formatted=!1,this.isEditing=!0,this.formulaMode||this.isFocused||!this.settings.unformatOnHover||!t.altKey||this.domElement!==h.getHoveredElement()){if(this._updateEventKeyInfo(t),this.keydownEventCounter+=1,1===this.keydownEventCounter&&(this.initialValueOnFirstKeydown=h.getElementValue(t.target),this.initialRawValueOnFirstKeydown=this.rawValue),this.formulaMode){if(this.eventKey===i.keyName.Esc)return this.formulaMode=!1,void this.reformat();if(this.eventKey===i.keyName.Enter)return void this._exitFormulaMode();if(this._acceptNonPrintableKeysInFormulaMode())return}else if(this.eventKey===i.keyName.Equal)return void this._enterFormulaMode();if(this.domElement.readOnly||this.settings.readOnly||this.domElement.disabled)this.processed=!0;else{this.eventKey===i.keyName.Esc&&(t.preventDefault(),this.settings.isCancellable&&this.rawValue!==this.savedCancellableValue&&(this.set(this.savedCancellableValue),this._triggerEvent(e.events.native.input,t.target)),this.select());var n=h.getElementValue(t.target);if(this.eventKey===i.keyName.Enter&&this.rawValue!==this.rawValueOnFocus&&(this._triggerEvent(e.events.native.change,t.target),this.valueOnFocus=n,this.rawValueOnFocus=this.rawValue,this.settings.isCancellable&&this._saveCancellableValue()),this._updateInternalProperties(t),this._processNonPrintableKeysAndShortcuts(t))this.processed=!0;else if(this.eventKey===i.keyName.Backspace||this.eventKey===i.keyName.Delete){var r=this._processCharacterDeletion();if(this.processed=!0,!r)return void t.preventDefault();this._formatValue(t),(n=h.getElementValue(t.target))!==this.lastVal&&this.throwInput&&(this._triggerEvent(e.events.native.input,t.target),t.preventDefault()),this.lastVal=n,this.throwInput=!0}}}else this.constructor._unformatAltHovered(this)}},{key:"_onKeypress",value:function(t){if(this.formulaMode){if(this._acceptNonPrintableKeysInFormulaMode())return;if(this.settings.formulaChars.test(this.eventKey))return;t.preventDefault()}else if(this.eventKey!==i.keyName.Insert){var n=this.processed;if(this._updateInternalProperties(t),!this._processNonPrintableKeysAndShortcuts(t))if(n)t.preventDefault();else{if(this._processCharacterInsertion()){this._formatValue(t);var r=h.getElementValue(t.target);if(r!==this.lastVal&&this.throwInput)this._triggerEvent(e.events.native.input,t.target),t.preventDefault();else{if((this.eventKey===this.settings.decimalCharacter||this.eventKey===this.settings.decimalCharacterAlternative)&&h.getElementSelection(t.target).start===h.getElementSelection(t.target).end&&h.getElementSelection(t.target).start===r.indexOf(this.settings.decimalCharacter)){var o=h.getElementSelection(t.target).start+1;h.setElementSelection(t.target,o)}t.preventDefault()}return this.lastVal=h.getElementValue(t.target),this.throwInput=!0,void this._setValidOrInvalidState(this.rawValue)}t.preventDefault()}}}},{key:"_onKeyup",value:function(t){if(this.isEditing=!1,this.keydownEventCounter=0,!this.formulaMode)if(this.settings.isCancellable&&this.eventKey===i.keyName.Esc)t.preventDefault();else{if(this.eventKey===i.keyName.Z||this.eventKey===i.keyName.z){if(t.ctrlKey&&t.shiftKey)return t.preventDefault(),this._historyTableRedo(),void(this.onGoingRedo=!0);if(t.ctrlKey&&!t.shiftKey){if(!this.onGoingRedo)return t.preventDefault(),void this._historyTableUndo();this.onGoingRedo=!1}}if(this.onGoingRedo&&(t.ctrlKey||t.shiftKey)&&(this.onGoingRedo=!1),(t.ctrlKey||t.metaKey)&&this.eventKey===i.keyName.x){var n=h.getElementSelection(this.domElement).start,r=this.constructor._toNumericValue(h.getElementValue(t.target),this.settings);this.set(r),this._setCaretPosition(n)}if(this.eventKey===i.keyName.Alt&&this.settings.unformatOnHover&&this.hoveredWithAlt)this.constructor._reformatAltHovered(this);else if(!t.ctrlKey&&!t.metaKey||this.eventKey!==i.keyName.Backspace&&this.eventKey!==i.keyName.Delete){this._updateInternalProperties(t);var o=this._processNonPrintableKeysAndShortcuts(t);delete this.valuePartsBeforePaste;var a=h.getElementValue(t.target);if(!(o||""===a&&""===this.initialValueOnFirstKeydown)&&(a===this.settings.currencySymbol?this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?h.setElementSelection(t.target,0):h.setElementSelection(t.target,this.settings.currencySymbol.length):this.eventKey===i.keyName.Tab&&h.setElementSelection(t.target,0,a.length),(a===this.settings.suffixText||""===this.rawValue&&""!==this.settings.currencySymbol&&""!==this.settings.suffixText)&&h.setElementSelection(t.target,0),null!==this.settings.decimalPlacesShownOnFocus&&this._saveValueToPersistentStorage(),this.formatted||this._formatValue(t),this._setValidOrInvalidState(this.rawValue),this._saveRawValueForAndroid(),a!==this.initialValueOnFirstKeydown&&this._triggerEvent(e.events.formatted,t.target,{oldValue:this.initialValueOnFirstKeydown,newValue:a,oldRawValue:this.initialRawValueOnFirstKeydown,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this}),1<this.historyTable.length)){var s=h.getElementSelection(this.domElement);this.selectionStart=s.start,this.selectionEnd=s.end,this.historyTable[this.historyTableIndex].start=this.selectionStart,this.historyTable[this.historyTableIndex].end=this.selectionEnd}}else{var u=h.getElementValue(t.target);this._setRawValue(this._formatOrUnformatOther(!1,u))}}}},{key:"_saveRawValueForAndroid",value:function(){if(this.eventKey===i.keyName.AndroidDefault){var e=this.constructor._stripAllNonNumberCharactersExceptCustomDecimalChar(this.getFormatted(),this.settings,!0,this.isFocused);e=this.constructor._convertToNumericString(e,this.settings),this._setRawValue(e)}}},{key:"_onFocusOutAndMouseLeave",value:function(t){if(this.isEditing=!1,"mouseleave"!==t.type||!this.formulaMode)if(this.settings.unformatOnHover&&"mouseleave"===t.type&&this.hoveredWithAlt)this.constructor._reformatAltHovered(this);else if("mouseleave"===t.type&&!this.isFocused||"blur"===t.type){"blur"===t.type&&this.formulaMode&&this._exitFormulaMode(),this._saveValueToPersistentStorage(),this.settings.showOnlyNumbersOnFocus===e.options.showOnlyNumbersOnFocus.onlyNumbers&&(this.settings.digitGroupSeparator=this.originalDigitGroupSeparator,this.settings.currencySymbol=this.originalCurrencySymbol,this.settings.suffixText=this.originalSuffixText);var n=this._getRawValueToFormat(this.rawValue),r=h.isNull(n),i=y(this.constructor._checkIfInRangeWithOverrideOption(n,this.settings),2),o=i[0],a=i[1],s=!1;if(""===n||r||(this._triggerRangeEvents(o,a),this.settings.valuesToStrings&&this._checkValuesToStrings(n)&&(this._setElementValue(this.settings.valuesToStrings[n]),s=!0)),!s){var u;if(u=r||""===n?n:String(n),""===n||r){if(""===n)switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.zero:this._setRawValue("0"),u=this.constructor._roundValue("0",this.settings,0);break;case e.options.emptyInputBehavior.min:this._setRawValue(this.settings.minimumValue),u=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.minimumValue,this.settings,this.isFocused);break;case e.options.emptyInputBehavior.max:this._setRawValue(this.settings.maximumValue),u=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.maximumValue,this.settings,this.isFocused);break;default:h.isNumber(this.settings.emptyInputBehavior)&&(this._setRawValue(this.settings.emptyInputBehavior),u=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.emptyInputBehavior,this.settings,this.isFocused))}}else o&&a&&!this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(n,this.settings)?(u=this._modifyNegativeSignAndDecimalCharacterForRawValue(u),this.settings.divisorWhenUnfocused&&!h.isNull(u)&&(u=(u/=this.settings.divisorWhenUnfocused).toString()),u=this.constructor._roundFormattedValueShownOnBlur(u,this.settings),u=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(u,this.settings)):this._triggerRangeEvents(o,a);var c=this.constructor._orderValueCurrencySymbolAndSuffixText(u,this.settings,!1);this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(u,this.settings)||r&&this.settings.emptyInputBehavior===e.options.emptyInputBehavior.null||(c=this.constructor._addGroupSeparators(u,this.settings,!1,n)),c===n&&""!==n&&this.settings.allowDecimalPadding!==e.options.allowDecimalPadding.never&&this.settings.allowDecimalPadding!==e.options.allowDecimalPadding.floats||(this.settings.symbolWhenUnfocused&&""!==n&&null!==n&&(c="".concat(c).concat(this.settings.symbolWhenUnfocused)),this._setElementValue(c))}this._setValidOrInvalidState(this.rawValue),"blur"===t.type&&this._onBlur(t)}}},{key:"_onPaste",value:function(t){if(t.preventDefault(),!(this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled)){var n,r;window.clipboardData&&window.clipboardData.getData?n=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData?n=t.clipboardData.getData("text/plain"):h.throwError("Unable to retrieve the pasted value. Please use a modern browser (ie. Firefox or Chromium)."),r=t.target.tagName?t.target:t.explicitOriginalTarget;var i=h.getElementValue(r),o=r.selectionStart||0,a=r.selectionEnd||0,s=a-o;if(s===i.length){var u=this._preparePastedText(n),c=h.arabicToLatinNumbers(u,!1,!1,!1);return"."===c||""===c||"."!==c&&!h.isNumber(c)?(this.formatted=!0,void(this.settings.onInvalidPaste===e.options.onInvalidPaste.error&&h.throwError("The pasted value '".concat(n,"' is not a valid paste content.")))):(this.set(c),this.formatted=!0,void this._triggerEvent(e.events.native.input,r))}var l=h.isNegativeStrict(n,this.settings.negativeSignCharacter);l&&(n=n.slice(1,n.length));var f,d,p=this._preparePastedText(n);if("."!==(f="."===p?".":h.arabicToLatinNumbers(p,!1,!1,!1))&&(!h.isNumber(f)||""===f))return this.formatted=!0,void(this.settings.onInvalidPaste===e.options.onInvalidPaste.error&&h.throwError("The pasted value '".concat(n,"' is not a valid paste content.")));var m,g,v=h.isNegativeStrict(this.getNumericString(),this.settings.negativeSignCharacter);m=!(!l||v)&&(v=!0);var y=i.slice(0,o),b=i.slice(a,i.length);g=o!==a?this._preparePastedText(y+b):this._preparePastedText(i),v&&(g=h.setRawNegativeSign(g)),d=h.convertCharacterCountToIndexPosition(h.countNumberCharactersOnTheCaretLeftSide(i,o,this.settings.decimalCharacter)),m&&d++;var _=g.slice(0,d),w=g.slice(d,g.length),S=!1;"."===f&&(h.contains(_,".")&&(S=!0,_=_.replace(".","")),w=w.replace(".",""));var E=!1;switch(""===_&&"-"===w&&(_="-",E=!(w="")),this.settings.onInvalidPaste){case e.options.onInvalidPaste.truncate:case e.options.onInvalidPaste.replace:for(var T=h.parseStr(this.settings.minimumValue),I=h.parseStr(this.settings.maximumValue),C=g,k=0,N=_;k<f.length&&(g=(N+=f[k])+w,this.constructor._checkIfInRange(g,T,I));)C=g,k++;if(d+=k,E&&d++,this.settings.onInvalidPaste===e.options.onInvalidPaste.truncate){g=C,S&&d--;break}for(var P=d,x=C.length;k<f.length&&P<x;)if("."!==C[P]){if(g=h.replaceCharAt(C,P,f[k]),!this.constructor._checkIfInRange(g,T,I))break;C=g,k++,P++}else P++;d=P,S&&d--,g=C;break;case e.options.onInvalidPaste.error:case e.options.onInvalidPaste.ignore:case e.options.onInvalidPaste.clamp:default:if(g="".concat(_).concat(f).concat(w),o===a)d=h.convertCharacterCountToIndexPosition(h.countNumberCharactersOnTheCaretLeftSide(i,o,this.settings.decimalCharacter))+f.length;else if(""===w)d=h.convertCharacterCountToIndexPosition(h.countNumberCharactersOnTheCaretLeftSide(i,o,this.settings.decimalCharacter))+f.length,E&&d++;else{var A=h.convertCharacterCountToIndexPosition(h.countNumberCharactersOnTheCaretLeftSide(i,a,this.settings.decimalCharacter)),O=h.getElementValue(r).slice(o,a);d=A-s+h.countCharInText(this.settings.digitGroupSeparator,O)+f.length}m&&d++,S&&d--}if(h.isNumber(g)&&""!==g){var D=!1,R=!1;try{this.set(g),D=!0}catch(t){var L;switch(this.settings.onInvalidPaste){case e.options.onInvalidPaste.clamp:L=h.clampToRangeLimits(g,this.settings);try{this.set(L)}catch(t){h.throwError("Fatal error: Unable to set the clamped value '".concat(L,"'."))}D=R=!0,g=L;break;case e.options.onInvalidPaste.error:case e.options.onInvalidPaste.truncate:case e.options.onInvalidPaste.replace:h.throwError("The pasted value '".concat(n,"' results in a value '").concat(g,"' that is outside of the minimum [").concat(this.settings.minimumValue,"] and maximum [").concat(this.settings.maximumValue,"] value range."));case e.options.onInvalidPaste.ignore:default:return}}var F,M=h.getElementValue(r);if(D)switch(this.settings.onInvalidPaste){case e.options.onInvalidPaste.clamp:if(R){this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?h.setElementSelection(r,M.length-this.settings.currencySymbol.length):h.setElementSelection(r,M.length);break}case e.options.onInvalidPaste.error:case e.options.onInvalidPaste.ignore:case e.options.onInvalidPaste.truncate:case e.options.onInvalidPaste.replace:default:F=h.findCaretPositionInFormattedNumber(g,d,M,this.settings.decimalCharacter),h.setElementSelection(r,F)}D&&i!==M&&this._triggerEvent(e.events.native.input,r)}else this.settings.onInvalidPaste===e.options.onInvalidPaste.error&&h.throwError("The pasted value '".concat(n,"' would result into an invalid content '").concat(g,"'."))}}},{key:"_onBlur",value:function(t){this.isFocused=!1,this.isEditing=!1,this.rawValue!==this.rawValueOnFocus&&this._triggerEvent(e.events.native.change,t.target),this.rawValueOnFocus=void 0}},{key:"_onWheel",value:function(t){this.formulaMode||this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled||this.settings.modifyValueOnWheel&&(this.settings.wheelOn===e.options.wheelOn.focus?this.isFocused?t.shiftKey||this.wheelAction(t):t.shiftKey&&this.wheelAction(t):this.settings.wheelOn===e.options.wheelOn.hover?t.shiftKey?(t.preventDefault(),window.scrollBy(0,h.isNegativeStrict(String(t.deltaY))?-50:50)):this.wheelAction(t):h.throwError("Unknown `wheelOn` option."))}},{key:"wheelAction",value:function(t){this.isWheelEvent=!0;var n,r=t.target.selectionStart||0,i=t.target.selectionEnd||0,o=this.rawValue;if(h.isUndefinedOrNullOrEmpty(o)?0<this.settings.minimumValue||this.settings.maximumValue<0?h.isWheelUpEvent(t)?n=this.settings.minimumValue:h.isWheelDownEvent(t)?n=this.settings.maximumValue:h.throwError("The event is not a 'wheel' event."):n=0:n=o,n=+n,h.isNumber(this.settings.wheelStep)){var a=+this.settings.wheelStep;h.isWheelUpEvent(t)?n+=a:h.isWheelDownEvent(t)&&(n-=a)}else h.isWheelUpEvent(t)?n=h.addAndRoundToNearestAuto(n,this.settings.decimalPlacesRawValue):h.isWheelDownEvent(t)&&(n=h.subtractAndRoundToNearestAuto(n,this.settings.decimalPlacesRawValue));(n=h.clampToRangeLimits(n,this.settings))!==+o&&(this.set(n),this._triggerEvent(e.events.native.input,t.target)),t.preventDefault(),this._setSelection(r,i),this.isWheelEvent=!1}},{key:"_onDrop",value:function(e){if(!this.formulaMode){var t;this.isDropEvent=!0,e.preventDefault(),t=h.isIE11()?"text":"text/plain";var n=e.dataTransfer.getData(t),r=this.unformatOther(n);this.set(r),this.isDropEvent=!1}}},{key:"_onFormSubmit",value:function(){var e=this;return this._getFormAutoNumericChildren(this.parentForm).map((function(t){return e.constructor.getAutoNumericElement(t)})).forEach((function(e){return e._unformatOnSubmit()})),!0}},{key:"_onFormReset",value:function(){var e=this;this._getFormAutoNumericChildren(this.parentForm).map((function(t){return e.constructor.getAutoNumericElement(t)})).forEach((function(t){var n=e._getDefaultValue(t.node());setTimeout((function(){return t.set(n)}),0)}))}},{key:"_unformatOnSubmit",value:function(){this.settings.unformatOnSubmit&&this._setElementValue(this.rawValue)}},{key:"_onKeydownGlobal",value:function(t){if(h.character(t)===i.keyName.Alt){var n=h.getHoveredElement();if(e.isManagedByAutoNumeric(n)){var r=e.getAutoNumericElement(n);!r.formulaMode&&r.settings.unformatOnHover&&this.constructor._unformatAltHovered(r)}}}},{key:"_onKeyupGlobal",value:function(t){if(h.character(t)===i.keyName.Alt){var n=h.getHoveredElement();if(e.isManagedByAutoNumeric(n)){var r=e.getAutoNumericElement(n);if(r.formulaMode||!r.settings.unformatOnHover)return;this.constructor._reformatAltHovered(r)}}}},{key:"_isElementTagSupported",value:function(){return h.isElement(this.domElement)||h.throwError("The DOM element is not valid, ".concat(this.domElement," given.")),h.isInArray(this.domElement.tagName.toLowerCase(),this.allowedTagList)}},{key:"_isInputElement",value:function(){return"input"===this.domElement.tagName.toLowerCase()}},{key:"_isInputTypeSupported",value:function(){return"text"===this.domElement.type||"hidden"===this.domElement.type||"tel"===this.domElement.type||h.isUndefinedOrNullOrEmpty(this.domElement.type)}},{key:"_checkElement",value:function(){var e=this.domElement.tagName.toLowerCase();this._isElementTagSupported()||h.throwError("The <".concat(e,"> tag is not supported by autoNumeric")),this._isInputElement()?(this._isInputTypeSupported()||h.throwError('The input type "'.concat(this.domElement.type,'" is not supported by autoNumeric')),this.isInputElement=!0):(this.isInputElement=!1,this.isContentEditable=this.domElement.hasAttribute("contenteditable")&&"true"===this.domElement.getAttribute("contenteditable"))}},{key:"_formatDefaultValueOnPageLoad",value:function(t){var n,r=0<arguments.length&&void 0!==t?t:null,i=!0;if(h.isNull(r)?(n=h.getElementValue(this.domElement).trim(),this.domElement.setAttribute("value",n)):n=r,this.isInputElement||this.isContentEditable){var o=this.constructor._toNumericValue(n,this.settings);if(this.domElement.hasAttribute("value")&&""!==this.domElement.getAttribute("value")){if(null!==this.settings.defaultValueOverride&&this.settings.defaultValueOverride.toString()!==n||null===this.settings.defaultValueOverride&&""!==n&&n!==this.domElement.getAttribute("value")||""!==n&&"hidden"===this.domElement.getAttribute("type")&&!h.isNumber(o)){if(this.settings.saveValueToSessionStorage&&(null!==this.settings.decimalPlacesShownOnFocus||this.settings.divisorWhenUnfocused)&&this._setRawValue(this._getValueFromPersistentStorage()),!this.settings.saveValueToSessionStorage){var a=this.constructor._removeBrackets(n,this.settings);(this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)&&""!==this.settings.negativeSignCharacter&&h.isNegative(n,this.settings.negativeSignCharacter)?this._setRawValue("-".concat(this.constructor._stripAllNonNumberCharacters(a,this.settings,!0,this.isFocused))):this._setRawValue(this.constructor._stripAllNonNumberCharacters(a,this.settings,!0,this.isFocused))}i=!1}}else isNaN(Number(o))||1/0===o?h.throwError("The value [".concat(n,"] used in the input is not a valid value autoNumeric can work with.")):(this.set(o),i=!1);if(""===n)switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.focus:case e.options.emptyInputBehavior.null:case e.options.emptyInputBehavior.press:break;case e.options.emptyInputBehavior.always:this._setElementValue(this.settings.currencySymbol);break;case e.options.emptyInputBehavior.min:this.set(this.settings.minimumValue);break;case e.options.emptyInputBehavior.max:this.set(this.settings.maximumValue);break;case e.options.emptyInputBehavior.zero:this.set("0");break;default:this.set(this.settings.emptyInputBehavior)}else i&&n===this.domElement.getAttribute("value")&&this.set(n)}else null!==this.settings.defaultValueOverride&&this.settings.defaultValueOverride!==n||this.set(n)}},{key:"_calculateVMinAndVMaxIntegerSizes",value:function(){var e=y(this.settings.maximumValue.toString().split("."),1)[0],t=y(this.settings.minimumValue||0===this.settings.minimumValue?this.settings.minimumValue.toString().split("."):[],1)[0];e=e.replace(this.settings.negativeSignCharacter,""),t=t.replace(this.settings.negativeSignCharacter,""),this.settings.mIntPos=Math.max(e.length,1),this.settings.mIntNeg=Math.max(t.length,1)}},{key:"_calculateValuesToStringsKeys",value:function(){this.settings.valuesToStrings?this.valuesToStringsKeys=Object.keys(this.settings.valuesToStrings):this.valuesToStringsKeys=[]}},{key:"_transformOptionsValuesToDefaultTypes",value:function(){for(var e in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,e)){var t=this.settings[e];"true"!==t&&"false"!==t||(this.settings[e]="true"===t),"number"==typeof t&&(this.settings[e]=t.toString())}}},{key:"_setSettings",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t;!n&&h.isNull(e)||this.constructor._convertOldOptionsToNewOnes(e),n?("decimalPlacesRawValue"in e&&(this.settings.originalDecimalPlacesRawValue=e.decimalPlacesRawValue),"decimalPlaces"in e&&(this.settings.originalDecimalPlaces=e.decimalPlaces),this.constructor._calculateDecimalPlacesOnUpdate(e,this.settings),this._mergeSettings(e)):(this.settings={},this._mergeSettings(this.constructor.getDefaultConfig(),this.domElement.dataset,e,{rawValue:this.defaultRawValue}),this.caretFix=!1,this.throwInput=!0,this.allowedTagList=i.allowedTagList,this.runOnce=!1,this.hoveredWithAlt=!1),this._transformOptionsValuesToDefaultTypes(),this._runCallbacksFoundInTheSettingsObject(),this.constructor._correctNegativePositiveSignPlacementOption(this.settings),this.constructor._correctCaretPositionOnFocusAndSelectOnFocusOptions(this.settings),this.constructor._setNegativePositiveSignPermissions(this.settings),n||(h.isNull(e)||!e.decimalPlaces?this.settings.originalDecimalPlaces=null:this.settings.originalDecimalPlaces=e.decimalPlaces,this.settings.originalDecimalPlacesRawValue=this.settings.decimalPlacesRawValue,this.constructor._calculateDecimalPlacesOnInit(this.settings)),this._calculateVMinAndVMaxIntegerSizes(),this._setTrailingNegativeSignInfo(),this.regex={},this.constructor._cachesUsualRegularExpressions(this.settings,this.regex),this.constructor._setBrackets(this.settings),this._calculateValuesToStringsKeys(),h.isEmptyObj(this.settings)&&h.throwError("Unable to set the settings, those are invalid ; an empty object was given."),this.constructor.validate(this.settings,!1,e),this._keepAnOriginalSettingsCopy()}},{key:"_preparePastedText",value:function(e){return this.constructor._stripAllNonNumberCharacters(e,this.settings,!0,this.isFocused)}},{key:"_updateInternalProperties",value:function(){this.selection=h.getElementSelection(this.domElement),this.processed=!1}},{key:"_updateEventKeyInfo",value:function(e){this.eventKey=h.character(e)}},{key:"_saveCancellableValue",value:function(){this.savedCancellableValue=this.rawValue}},{key:"_setSelection",value:function(e,t){e=Math.max(e,0),t=Math.min(t,h.getElementValue(this.domElement).length),this.selection={start:e,end:t,length:t-e},h.setElementSelection(this.domElement,e,t)}},{key:"_setCaretPosition",value:function(e){this._setSelection(e,e)}},{key:"_getLeftAndRightPartAroundTheSelection",value:function(){var e=h.getElementValue(this.domElement);return[e.substring(0,this.selection.start),e.substring(this.selection.end,e.length)]}},{key:"_getUnformattedLeftAndRightPartAroundTheSelection",value:function(){var t=y(this._getLeftAndRightPartAroundTheSelection(),2),n=t[0],r=t[1];if(""===n&&""===r)return["",""];var o=!0;return this.eventKey!==i.keyName.Hyphen&&this.eventKey!==i.keyName.Minus||0!==Number(n)||(o=!1),this.isTrailingNegative&&(h.isNegative(r,this.settings.negativeSignCharacter)&&!h.isNegative(n,this.settings.negativeSignCharacter)||""===r&&h.isNegative(n,this.settings.negativeSignCharacter,!0))&&(n=n.replace(this.settings.negativeSignCharacter,""),r=r.replace(this.settings.negativeSignCharacter,""),n=n.replace("-",""),r=r.replace("-",""),n="-".concat(n)),[n=e._stripAllNonNumberCharactersExceptCustomDecimalChar(n,this.settings,o,this.isFocused),r=e._stripAllNonNumberCharactersExceptCustomDecimalChar(r,this.settings,!1,this.isFocused)]}},{key:"_normalizeParts",value:function(t,n){var r=!0;this.eventKey!==i.keyName.Hyphen&&this.eventKey!==i.keyName.Minus||0!==Number(t)||(r=!1),this.isTrailingNegative&&h.isNegative(n,this.settings.negativeSignCharacter)&&!h.isNegative(t,this.settings.negativeSignCharacter)&&(t="-".concat(t),n=n.replace(this.settings.negativeSignCharacter,"")),t=e._stripAllNonNumberCharactersExceptCustomDecimalChar(t,this.settings,r,this.isFocused),n=e._stripAllNonNumberCharactersExceptCustomDecimalChar(n,this.settings,!1,this.isFocused),this.settings.leadingZero!==e.options.leadingZero.deny||this.eventKey!==i.keyName.num0&&this.eventKey!==i.keyName.numpad0||0!==Number(t)||h.contains(t,this.settings.decimalCharacter)||""===n||(t=t.substring(0,t.length-1));var o=t+n;if(this.settings.decimalCharacter){var a=o.match(new RegExp("^".concat(this.regex.aNegRegAutoStrip,"\\").concat(this.settings.decimalCharacter)));a&&(o=(t=t.replace(a[1],a[1]+"0"))+n)}return[t,n,o]}},{key:"_setValueParts",value:function(t,n,r){var i=2<arguments.length&&void 0!==r&&r,o=y(this._normalizeParts(t,n),3),a=o[0],s=o[1],u=o[2],c=y(e._checkIfInRangeWithOverrideOption(u,this.settings),2),l=c[0],h=c[1];if(l&&h){var f=e._truncateDecimalPlaces(u,this.settings,i,this.settings.decimalPlacesRawValue).replace(this.settings.decimalCharacter,".");if(""===f||f===this.settings.negativeSignCharacter){var d;switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.focus:case e.options.emptyInputBehavior.press:case e.options.emptyInputBehavior.always:d="";break;case e.options.emptyInputBehavior.min:d=this.settings.minimumValue;break;case e.options.emptyInputBehavior.max:d=this.settings.maximumValue;break;case e.options.emptyInputBehavior.zero:d="0";break;case e.options.emptyInputBehavior.null:d=null;break;default:d=this.settings.emptyInputBehavior}this._setRawValue(d)}else this._setRawValue(this._trimLeadingAndTrailingZeros(f));var p=e._truncateDecimalPlaces(u,this.settings,i,this.settings.decimalPlacesShownOnFocus),m=a.length;return m>p.length&&(m=p.length),1===m&&"0"===a&&this.settings.leadingZero===e.options.leadingZero.deny&&(m=""===s||"0"===a&&""!==s?1:0),this._setElementValue(p,!1),this._setCaretPosition(m),!0}return this._triggerRangeEvents(l,h),!1}},{key:"_getSignPosition",value:function(){var t;if(this.settings.currencySymbol){var n=this.settings.currencySymbol.length,r=h.getElementValue(this.domElement);if(this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix)t=this.settings.negativeSignCharacter&&r&&r.charAt(0)===this.settings.negativeSignCharacter?[1,n+1]:[0,n];else{var i=r.length;t=[i-n,i]}}else t=[1e3,-1];return t}},{key:"_expandSelectionOnSign",value:function(){var e=y(this._getSignPosition(),2),t=e[0],n=e[1],r=this.selection;r.start<n&&r.end>t&&((r.start<t||r.end>n)&&h.getElementValue(this.domElement).substring(Math.max(r.start,t),Math.min(r.end,n)).match(/^\s*$/)?r.start<t?this._setSelection(r.start,t):this._setSelection(n,r.end):this._setSelection(Math.min(r.start,t),Math.max(r.end,n)))}},{key:"_checkPaste",value:function(){if(!this.formatted&&!h.isUndefined(this.valuePartsBeforePaste)){var t=this.valuePartsBeforePaste,n=y(this._getLeftAndRightPartAroundTheSelection(),2),r=n[0],i=n[1];delete this.valuePartsBeforePaste;var o=r.substr(0,t[0].length)+e._stripAllNonNumberCharactersExceptCustomDecimalChar(r.substr(t[0].length),this.settings,!0,this.isFocused);this._setValueParts(o,i,!0)||(this._setElementValue(t.join(""),!1),this._setCaretPosition(t[0].length))}}},{key:"_processNonPrintableKeysAndShortcuts",value:function(e){if((e.ctrlKey||e.metaKey)&&"keyup"===e.type&&!h.isUndefined(this.valuePartsBeforePaste)||e.shiftKey&&this.eventKey===i.keyName.Insert)return this._checkPaste(),!1;if(this.constructor._shouldSkipEventKey(this.eventKey))return!0;if((e.ctrlKey||e.metaKey)&&this.eventKey===i.keyName.a)return this.settings.selectNumberOnly&&(e.preventDefault(),this.selectNumber()),!0;if((e.ctrlKey||e.metaKey)&&(this.eventKey===i.keyName.c||this.eventKey===i.keyName.v||this.eventKey===i.keyName.x))return"keydown"===e.type&&this._expandSelectionOnSign(),this.eventKey!==i.keyName.v&&this.eventKey!==i.keyName.Insert||("keydown"===e.type||"keypress"===e.type?h.isUndefined(this.valuePartsBeforePaste)&&(this.valuePartsBeforePaste=this._getLeftAndRightPartAroundTheSelection()):this._checkPaste()),"keydown"===e.type||"keypress"===e.type||this.eventKey===i.keyName.c;if(e.ctrlKey||e.metaKey)return!(this.eventKey===i.keyName.Z||this.eventKey===i.keyName.z);if(this.eventKey!==i.keyName.LeftArrow&&this.eventKey!==i.keyName.RightArrow)return h.isInArray(this.eventKey,i.keyName._directionKeys);if("keydown"===e.type&&!e.shiftKey){var t=h.getElementValue(this.domElement);this.eventKey!==i.keyName.LeftArrow||t.charAt(this.selection.start-2)!==this.settings.digitGroupSeparator&&t.charAt(this.selection.start-2)!==this.settings.decimalCharacter?this.eventKey!==i.keyName.RightArrow||t.charAt(this.selection.start+1)!==this.settings.digitGroupSeparator&&t.charAt(this.selection.start+1)!==this.settings.decimalCharacter||this._setCaretPosition(this.selection.start+1):this._setCaretPosition(this.selection.start-1)}return!0}},{key:"_processCharacterDeletionIfTrailingNegativeSign",value:function(t){var n=y(t,2),r=n[0],o=n[1],a=h.getElementValue(this.domElement),s=h.isNegative(a,this.settings.negativeSignCharacter);if(this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix&&(this.eventKey===i.keyName.Backspace?(this.caretFix=this.selection.start>=a.indexOf(this.settings.suffixText)&&""!==this.settings.suffixText,"-"===a.charAt(this.selection.start-1)?r=r.substring(1):this.selection.start<=a.length-this.settings.suffixText.length&&(r=r.substring(0,r.length-1))):(this.caretFix=this.selection.start>=a.indexOf(this.settings.suffixText)&&""!==this.settings.suffixText,this.selection.start>=a.indexOf(this.settings.currencySymbol)+this.settings.currencySymbol.length&&(o=o.substring(1,o.length)),h.isNegative(r,this.settings.negativeSignCharacter)&&"-"===a.charAt(this.selection.start)&&(r=r.substring(1)))),this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.left:this.caretFix=this.selection.start>=a.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===i.keyName.Backspace?this.selection.start===a.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length&&s?r=r.substring(1):"-"!==r&&(this.selection.start<=a.indexOf(this.settings.negativeSignCharacter)||!s)&&(r=r.substring(0,r.length-1)):("-"===r[0]&&(o=o.substring(1)),this.selection.start===a.indexOf(this.settings.negativeSignCharacter)&&s&&(r=r.substring(1)));break;case e.options.negativePositiveSignPlacement.right:this.caretFix=this.selection.start>=a.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===i.keyName.Backspace?this.selection.start===a.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length?r=r.substring(1):("-"!==r&&this.selection.start<=a.indexOf(this.settings.negativeSignCharacter)-this.settings.currencySymbol.length||""!==r&&!s)&&(r=r.substring(0,r.length-1)):(this.caretFix=this.selection.start>=a.indexOf(this.settings.currencySymbol)&&""!==this.settings.currencySymbol,this.selection.start===a.indexOf(this.settings.negativeSignCharacter)&&(r=r.substring(1)),o=o.substring(1))}return[r,o]}},{key:"_processCharacterDeletion",value:function(){var e,t;if(this.selection.length){this._expandSelectionOnSign();var n=y(this._getUnformattedLeftAndRightPartAroundTheSelection(),2);e=n[0],t=n[1]}else{var r=y(this._getUnformattedLeftAndRightPartAroundTheSelection(),2);if(e=r[0],t=r[1],""===e&&""===t&&(this.throwInput=!1),this.isTrailingNegative&&h.isNegative(h.getElementValue(this.domElement),this.settings.negativeSignCharacter)){var o=y(this._processCharacterDeletionIfTrailingNegativeSign([e,t]),2);e=o[0],t=o[1]}else this.eventKey===i.keyName.Backspace?e=e.substring(0,e.length-1):t=t.substring(1,t.length)}return!!this.constructor._isWithinRangeWithOverrideOption("".concat(e).concat(t),this.settings)&&(this._setValueParts(e,t),!0)}},{key:"_isDecimalCharacterInsertionAllowed",value:function(){return String(this.settings.decimalPlacesShownOnFocus)!==String(e.options.decimalPlacesShownOnFocus.none)&&String(this.settings.decimalPlaces)!==String(e.options.decimalPlaces.none)}},{key:"_processCharacterInsertion",value:function(){var e=y(this._getUnformattedLeftAndRightPartAroundTheSelection(),2),t=e[0],n=e[1];if(this.eventKey!==i.keyName.AndroidDefault&&(this.throwInput=!0),this.eventKey===this.settings.decimalCharacter||this.settings.decimalCharacterAlternative&&this.eventKey===this.settings.decimalCharacterAlternative){if(!this._isDecimalCharacterInsertionAllowed()||!this.settings.decimalCharacter)return!1;if(this.settings.alwaysAllowDecimalCharacter)t=t.replace(this.settings.decimalCharacter,""),n=n.replace(this.settings.decimalCharacter,"");else{if(h.contains(t,this.settings.decimalCharacter))return!0;if(0<n.indexOf(this.settings.decimalCharacter))return!0;0===n.indexOf(this.settings.decimalCharacter)&&(n=n.substr(1))}return this.settings.negativeSignCharacter&&h.contains(n,this.settings.negativeSignCharacter)&&(t="".concat(this.settings.negativeSignCharacter).concat(t),n=n.replace(this.settings.negativeSignCharacter,"")),this._setValueParts(t+this.settings.decimalCharacter,n),!0}if(("-"===this.eventKey||"+"===this.eventKey)&&this.settings.isNegativeSignAllowed)return""===t&&h.contains(n,"-")?n=n.replace("-",""):t=h.isNegativeStrict(t,"-")?t.replace("-",""):"".concat(this.settings.negativeSignCharacter).concat(t),this._setValueParts(t,n),!0;var r=Number(this.eventKey);return 0<=r&&r<=9?(this.settings.isNegativeSignAllowed&&""===t&&h.contains(n,"-")&&(t="-",n=n.substring(1,n.length)),this.settings.maximumValue<=0&&this.settings.minimumValue<this.settings.maximumValue&&!h.contains(h.getElementValue(this.domElement),this.settings.negativeSignCharacter)&&"0"!==this.eventKey&&(t="-".concat(t)),this._setValueParts("".concat(t).concat(this.eventKey),n),!0):this.throwInput=!1}},{key:"_formatValue",value:function(t){var n=h.getElementValue(this.domElement),r=y(this._getUnformattedLeftAndRightPartAroundTheSelection(),1)[0];if((""===this.settings.digitGroupSeparator||""!==this.settings.digitGroupSeparator&&!h.contains(n,this.settings.digitGroupSeparator))&&(""===this.settings.currencySymbol||""!==this.settings.currencySymbol&&!h.contains(n,this.settings.currencySymbol))){var o=y(n.split(this.settings.decimalCharacter),1)[0],a="";h.isNegative(o,this.settings.negativeSignCharacter)&&(a=this.settings.negativeSignCharacter,o=o.replace(this.settings.negativeSignCharacter,""),r=r.replace("-","")),""===a&&o.length>this.settings.mIntPos&&"0"===r.charAt(0)&&(r=r.slice(1)),a===this.settings.negativeSignCharacter&&o.length>this.settings.mIntNeg&&"0"===r.charAt(0)&&(r=r.slice(1)),this.isTrailingNegative||(r="".concat(a).concat(r))}var s=this.constructor._addGroupSeparators(n,this.settings,this.isFocused,this.rawValue),u=s.length;if(s){var c,l=r.split("");if((this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)&&l[0]===this.settings.negativeSignCharacter&&!this.settings.isNegativeSignAllowed&&(l.shift(),(this.eventKey===i.keyName.Backspace||this.eventKey===i.keyName.Delete)&&this.caretFix&&((this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left||this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix)&&(l.push(this.settings.negativeSignCharacter),this.caretFix="keydown"===t.type),this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.right))){var f=this.settings.currencySymbol.split(""),d=["\\","^","$",".","|","?","*","+","(",")","["],p=[];f.forEach((function(e,t){t=f[e],h.isInArray(t,d)?p.push("\\"+t):p.push(t)})),this.eventKey===i.keyName.Backspace&&"-"===this.settings.negativeSignCharacter&&p.push("-"),l.push(p.join("")),this.caretFix="keydown"===t.type}for(var m=0;m<l.length;m++)l[m].match("\\d")||(l[m]="\\"+l[m]);c=this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?new RegExp("^.*?".concat(l.join(".*?"))):new RegExp("^.*?".concat(this.settings.currencySymbol).concat(l.join(".*?")));var g=s.match(c);g?(u=g[0].length,this.settings.showPositiveSign&&(0===u&&g.input.charAt(0)===this.settings.positiveSignCharacter&&(u=1===g.input.indexOf(this.settings.currencySymbol)?this.settings.currencySymbol.length+1:1),0===u&&g.input.charAt(this.settings.currencySymbol.length)===this.settings.positiveSignCharacter&&(u=this.settings.currencySymbol.length+1)),(0===u&&s.charAt(0)!==this.settings.negativeSignCharacter||1===u&&s.charAt(0)===this.settings.negativeSignCharacter)&&this.settings.currencySymbol&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&(u=this.settings.currencySymbol.length+(h.isNegativeStrict(s,this.settings.negativeSignCharacter)?1:0))):(this.settings.currencySymbol&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&(u-=this.settings.currencySymbol.length),this.settings.suffixText&&(u-=this.settings.suffixText.length))}s!==n&&(this._setElementValue(s,!1),this._setCaretPosition(u)),this.formatted=!0}}]),E(t,n),e}();function C(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}I.multiple=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=[];if(h.isObject(t)&&(n=t,t=null),h.isString(e))e=v(document.querySelectorAll(e));else if(h.isObject(e)){Object.prototype.hasOwnProperty.call(e,"rootElement")||h.throwError("The object passed to the 'multiple' function is invalid ; no 'rootElement' attribute found.");var i=v(e.rootElement.querySelectorAll("input"));e=Object.prototype.hasOwnProperty.call(e,"exclude")?(Array.isArray(e.exclude)||h.throwError("The 'exclude' array passed to the 'multiple' function is invalid."),h.filterOut(i,e.exclude)):i}else h.isArray(e)||h.throwError("The given parameters to the 'multiple' function are invalid.");if(0===e.length){var o=!0;return!h.isNull(n)&&h.isBoolean(n.showWarnings)&&(o=n.showWarnings),h.warning("No valid DOM elements were given hence no AutoNumeric objects were instantiated.",o),[]}var a=h.isArray(t)&&1<=t.length,s=!1,u=!1;if(a){var c=S(Number(t[0]));(s="number"===c&&!isNaN(Number(t[0])))||"string"!==c&&!isNaN(c)&&"object"!==c||(u=!0)}var l,f=!1;if(h.isArray(n)&&1<=n.length){var d=S(n[0]);"string"!==d&&"object"!==d||(f=!0)}l=u?I.mergeOptions(t):f?I.mergeOptions(n):n;var p,m=h.isNumber(t);return s&&(p=t.length),e.forEach((function(e,n){m?r.push(new I(e,t,l)):s&&n<=p?r.push(new I(e,t[n],l)):r.push(new I(e,null,l))})),r},Array.from||(Array.from=function(e){return[].slice.call(e)}),"undefined"!=typeof window&&"function"!=typeof window.CustomEvent&&(C.prototype=window.Event.prototype,window.CustomEvent=C),I.events={correctedValue:"autoNumeric:correctedValue",initialized:"autoNumeric:initialized",invalidFormula:"autoNumeric:invalidFormula",invalidValue:"autoNumeric:invalidValue",formatted:"autoNumeric:formatted",rawValueModified:"autoNumeric:rawValueModified",minRangeExceeded:"autoNumeric:minExceeded",maxRangeExceeded:"autoNumeric:maxExceeded",native:{input:"input",change:"change"},validFormula:"autoNumeric:validFormula"},Object.freeze(I.events.native),Object.freeze(I.events),Object.defineProperty(I,"events",{configurable:!1,writable:!1}),I.options={allowDecimalPadding:{always:!0,never:!1,floats:"floats"},alwaysAllowDecimalCharacter:{alwaysAllow:!0,doNotAllow:!1},caretPositionOnFocus:{start:"start",end:"end",decimalLeft:"decimalLeft",decimalRight:"decimalRight",doNoForceCaretPosition:null},createLocalList:{createList:!0,doNotCreateList:!1},currencySymbol:{none:"",currencySign:"",austral:"",australCentavo:"",baht:"",cedi:"",cent:"",colon:"",cruzeiro:"",dollar:"$",dong:"",drachma:"",dram:"",european:"",euro:"",florin:"",franc:"",guarani:"",hryvnia:"",kip:"",att:"",lepton:".",lira:"",liraOld:"",lari:"",mark:"",mill:"",naira:"",peseta:"",peso:"",pfennig:"",pound:"",real:"R$",riel:"",ruble:"",rupee:"",rupeeOld:"",shekel:"",shekelAlt:"",taka:"",tenge:"",togrog:"",won:"",yen:""},currencySymbolPlacement:{prefix:"p",suffix:"s"},decimalCharacter:{comma:",",dot:".",middleDot:"",arabicDecimalSeparator:"",decimalSeparatorKeySymbol:""},decimalCharacterAlternative:{none:null,comma:",",dot:"."},decimalPlaces:{none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesRawValue:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnBlur:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnFocus:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},defaultValueOverride:{doNotOverride:null},digitalGroupSpacing:{two:"2",twoScaled:"2s",three:"3",four:"4"},digitGroupSeparator:{comma:",",dot:".",normalSpace:" ",thinSpace:"",narrowNoBreakSpace:"",noBreakSpace:"",noSeparator:"",apostrophe:"'",arabicThousandsSeparator:"",dotAbove:"",privateUseTwo:""},divisorWhenUnfocused:{none:null,percentage:100,permille:1e3,basisPoint:1e4},emptyInputBehavior:{focus:"focus",press:"press",always:"always",zero:"zero",min:"min",max:"max",null:"null"},eventBubbles:{bubbles:!0,doesNotBubble:!1},eventIsCancelable:{isCancelable:!0,isNotCancelable:!1},failOnUnknownOption:{fail:!0,ignore:!1},formatOnPageLoad:{format:!0,doNotFormat:!1},formulaMode:{enabled:!0,disabled:!1},historySize:{verySmall:5,small:10,medium:20,large:50,veryLarge:100,insane:Number.MAX_SAFE_INTEGER},invalidClass:"an-invalid",isCancellable:{cancellable:!0,notCancellable:!1},leadingZero:{allow:"allow",deny:"deny",keep:"keep"},maximumValue:{tenTrillions:"10000000000000",oneBillion:"1000000000",zero:"0"},minimumValue:{tenTrillions:"-10000000000000",oneBillion:"-1000000000",zero:"0"},modifyValueOnWheel:{modifyValue:!0,doNothing:!1},negativeBracketsTypeOnBlur:{parentheses:"(,)",brackets:"[,]",chevrons:"<,>",curlyBraces:"{,}",angleBrackets:",",japaneseQuotationMarks:",",halfBrackets:",",whiteSquareBrackets:",",quotationMarks:",",guillemets:",",none:null},negativePositiveSignPlacement:{prefix:"p",suffix:"s",left:"l",right:"r",none:null},negativeSignCharacter:{hyphen:"-",minus:"",heavyMinus:"",fullWidthHyphen:"",circledMinus:"",squaredMinus:"",triangleMinus:"",plusMinus:"",minusPlus:"",dotMinus:"",minusTilde:"",not:""},noEventListeners:{noEvents:!0,addEvents:!1},onInvalidPaste:{error:"error",ignore:"ignore",clamp:"clamp",truncate:"truncate",replace:"replace"},outputFormat:{string:"string",number:"number",dot:".",negativeDot:"-.",comma:",",negativeComma:"-,",dotNegative:".-",commaNegative:",-",none:null},overrideMinMaxLimits:{ceiling:"ceiling",floor:"floor",ignore:"ignore",invalid:"invalid",doNotOverride:null},positiveSignCharacter:{plus:"+",fullWidthPlus:"",heavyPlus:"",doublePlus:"",triplePlus:"",circledPlus:"",squaredPlus:"",trianglePlus:"",plusMinus:"",minusPlus:"",dotPlus:"",altHebrewPlus:"",normalSpace:" ",thinSpace:"",narrowNoBreakSpace:"",noBreakSpace:""},rawValueDivisor:{none:null,percentage:100,permille:1e3,basisPoint:1e4},readOnly:{readOnly:!0,readWrite:!1},roundingMethod:{halfUpSymmetric:"S",halfUpAsymmetric:"A",halfDownSymmetric:"s",halfDownAsymmetric:"a",halfEvenBankersRounding:"B",upRoundAwayFromZero:"U",downRoundTowardZero:"D",toCeilingTowardPositiveInfinity:"C",toFloorTowardNegativeInfinity:"F",toNearest05:"N05",toNearest05Alt:"CHF",upToNext05:"U05",downToNext05:"D05"},saveValueToSessionStorage:{save:!0,doNotSave:!1},selectNumberOnly:{selectNumbersOnly:!0,selectAll:!1},selectOnFocus:{select:!0,doNotSelect:!1},serializeSpaces:{plus:"+",percent:"%20"},showOnlyNumbersOnFocus:{onlyNumbers:!0,showAll:!1},showPositiveSign:{show:!0,hide:!1},showWarnings:{show:!0,hide:!1},styleRules:{none:null,positiveNegative:{positive:"autoNumeric-positive",negative:"autoNumeric-negative"},range0To100With4Steps:{ranges:[{min:0,max:25,class:"autoNumeric-red"},{min:25,max:50,class:"autoNumeric-orange"},{min:50,max:75,class:"autoNumeric-yellow"},{min:75,max:100,class:"autoNumeric-green"}]},evenOdd:{userDefined:[{callback:function(e){return e%2==0},classes:["autoNumeric-even","autoNumeric-odd"]}]},rangeSmallAndZero:{userDefined:[{callback:function(e){return-1<=e&&e<0?0:0===Number(e)?1:0<e&&e<=1?2:null},classes:["autoNumeric-small-negative","autoNumeric-zero","autoNumeric-small-positive"]}]}},suffixText:{none:"",percentage:"%",permille:"",basisPoint:""},symbolWhenUnfocused:{none:null,percentage:"%",permille:"",basisPoint:""},unformatOnHover:{unformat:!0,doNotUnformat:!1},unformatOnSubmit:{unformat:!0,keepCurrentValue:!1},valuesToStrings:{none:null,zeroDash:{0:"-"},oneAroundZero:{"-1":"Min",1:"Max"}},watchExternalChanges:{watch:!0,doNotWatch:!1},wheelOn:{focus:"focus",hover:"hover"},wheelStep:{progressive:"progressive"}},T=I.options,Object.getOwnPropertyNames(T).forEach((function(e){"valuesToStrings"===e?Object.getOwnPropertyNames(T.valuesToStrings).forEach((function(e){h.isIE11()||null===T.valuesToStrings[e]||Object.freeze(T.valuesToStrings[e])})):"styleRules"!==e&&(h.isIE11()||null===T[e]||Object.freeze(T[e]))})),Object.freeze(T),Object.defineProperty(I,"options",{configurable:!1,writable:!1}),I.defaultSettings={allowDecimalPadding:I.options.allowDecimalPadding.always,alwaysAllowDecimalCharacter:I.options.alwaysAllowDecimalCharacter.doNotAllow,caretPositionOnFocus:I.options.caretPositionOnFocus.doNoForceCaretPosition,createLocalList:I.options.createLocalList.createList,currencySymbol:I.options.currencySymbol.none,currencySymbolPlacement:I.options.currencySymbolPlacement.prefix,decimalCharacter:I.options.decimalCharacter.dot,decimalCharacterAlternative:I.options.decimalCharacterAlternative.none,decimalPlaces:I.options.decimalPlaces.two,decimalPlacesRawValue:I.options.decimalPlacesRawValue.useDefault,decimalPlacesShownOnBlur:I.options.decimalPlacesShownOnBlur.useDefault,decimalPlacesShownOnFocus:I.options.decimalPlacesShownOnFocus.useDefault,defaultValueOverride:I.options.defaultValueOverride.doNotOverride,digitalGroupSpacing:I.options.digitalGroupSpacing.three,digitGroupSeparator:I.options.digitGroupSeparator.comma,divisorWhenUnfocused:I.options.divisorWhenUnfocused.none,emptyInputBehavior:I.options.emptyInputBehavior.focus,eventBubbles:I.options.eventBubbles.bubbles,eventIsCancelable:I.options.eventIsCancelable.isCancelable,failOnUnknownOption:I.options.failOnUnknownOption.ignore,formatOnPageLoad:I.options.formatOnPageLoad.format,formulaMode:I.options.formulaMode.disabled,historySize:I.options.historySize.medium,invalidClass:I.options.invalidClass,isCancellable:I.options.isCancellable.cancellable,leadingZero:I.options.leadingZero.deny,maximumValue:I.options.maximumValue.tenTrillions,minimumValue:I.options.minimumValue.tenTrillions,modifyValueOnWheel:I.options.modifyValueOnWheel.modifyValue,negativeBracketsTypeOnBlur:I.options.negativeBracketsTypeOnBlur.none,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.none,negativeSignCharacter:I.options.negativeSignCharacter.hyphen,noEventListeners:I.options.noEventListeners.addEvents,onInvalidPaste:I.options.onInvalidPaste.error,outputFormat:I.options.outputFormat.none,overrideMinMaxLimits:I.options.overrideMinMaxLimits.doNotOverride,positiveSignCharacter:I.options.positiveSignCharacter.plus,rawValueDivisor:I.options.rawValueDivisor.none,readOnly:I.options.readOnly.readWrite,roundingMethod:I.options.roundingMethod.halfUpSymmetric,saveValueToSessionStorage:I.options.saveValueToSessionStorage.doNotSave,selectNumberOnly:I.options.selectNumberOnly.selectNumbersOnly,selectOnFocus:I.options.selectOnFocus.select,serializeSpaces:I.options.serializeSpaces.plus,showOnlyNumbersOnFocus:I.options.showOnlyNumbersOnFocus.showAll,showPositiveSign:I.options.showPositiveSign.hide,showWarnings:I.options.showWarnings.show,styleRules:I.options.styleRules.none,suffixText:I.options.suffixText.none,symbolWhenUnfocused:I.options.symbolWhenUnfocused.none,unformatOnHover:I.options.unformatOnHover.unformat,unformatOnSubmit:I.options.unformatOnSubmit.keepCurrentValue,valuesToStrings:I.options.valuesToStrings.none,watchExternalChanges:I.options.watchExternalChanges.doNotWatch,wheelOn:I.options.wheelOn.focus,wheelStep:I.options.wheelStep.progressive},Object.freeze(I.defaultSettings),Object.defineProperty(I,"defaultSettings",{configurable:!1,writable:!1});var k={digitGroupSeparator:I.options.digitGroupSeparator.dot,decimalCharacter:I.options.decimalCharacter.comma,decimalCharacterAlternative:I.options.decimalCharacterAlternative.dot,currencySymbol:"",currencySymbolPlacement:I.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.prefix},N={digitGroupSeparator:I.options.digitGroupSeparator.comma,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:I.options.currencySymbol.dollar,currencySymbolPlacement:I.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.right},P={digitGroupSeparator:I.options.digitGroupSeparator.comma,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:I.options.currencySymbol.yen,currencySymbolPlacement:I.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.right};h.cloneObject(k).formulaMode=I.options.formulaMode.enabled;var x=h.cloneObject(k);x.minimumValue=0;var A=h.cloneObject(k);A.maximumValue=0,A.negativePositiveSignPlacement=I.options.negativePositiveSignPlacement.prefix;var O=h.cloneObject(k);O.digitGroupSeparator=I.options.digitGroupSeparator.normalSpace;var D=h.cloneObject(O);D.minimumValue=0;var R=h.cloneObject(O);R.maximumValue=0,R.negativePositiveSignPlacement=I.options.negativePositiveSignPlacement.prefix;var L=h.cloneObject(k);L.currencySymbol=I.options.currencySymbol.none,L.suffixText="".concat(I.options.suffixText.percentage),L.wheelStep=1e-4,L.rawValueDivisor=I.options.rawValueDivisor.percentage;var F=h.cloneObject(L);F.minimumValue=0;var M=h.cloneObject(L);M.maximumValue=0,M.negativePositiveSignPlacement=I.options.negativePositiveSignPlacement.prefix;var V=h.cloneObject(L);V.decimalPlaces=3;var j=h.cloneObject(F);j.decimalPlaces=3;var U=h.cloneObject(M);U.decimalPlaces=3,h.cloneObject(N).formulaMode=I.options.formulaMode.enabled;var B=h.cloneObject(N);B.minimumValue=0;var q=h.cloneObject(N);q.maximumValue=0,q.negativePositiveSignPlacement=I.options.negativePositiveSignPlacement.prefix;var G=h.cloneObject(q);G.negativeBracketsTypeOnBlur=I.options.negativeBracketsTypeOnBlur.parentheses;var K=h.cloneObject(N);K.currencySymbol=I.options.currencySymbol.none,K.suffixText=I.options.suffixText.percentage,K.wheelStep=1e-4,K.rawValueDivisor=I.options.rawValueDivisor.percentage;var W=h.cloneObject(K);W.minimumValue=0;var H=h.cloneObject(K);H.maximumValue=0,H.negativePositiveSignPlacement=I.options.negativePositiveSignPlacement.prefix;var z=h.cloneObject(K);z.decimalPlaces=3;var J=h.cloneObject(W);J.decimalPlaces=3;var Q=h.cloneObject(H);Q.decimalPlaces=3;var Y=h.cloneObject(k);Y.currencySymbol=I.options.currencySymbol.lira,I.predefinedOptions={euro:k,euroPos:x,euroNeg:A,euroSpace:O,euroSpacePos:D,euroSpaceNeg:R,percentageEU2dec:L,percentageEU2decPos:F,percentageEU2decNeg:M,percentageEU3dec:V,percentageEU3decPos:j,percentageEU3decNeg:U,dollar:N,dollarPos:B,dollarNeg:q,dollarNegBrackets:G,percentageUS2dec:K,percentageUS2decPos:W,percentageUS2decNeg:H,percentageUS3dec:z,percentageUS3decPos:J,percentageUS3decNeg:Q,French:k,Spanish:k,NorthAmerican:N,British:{digitGroupSeparator:I.options.digitGroupSeparator.comma,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:I.options.currencySymbol.pound,currencySymbolPlacement:I.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.right},Swiss:{digitGroupSeparator:I.options.digitGroupSeparator.apostrophe,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:"CHF",currencySymbolPlacement:I.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.prefix},Japanese:P,Chinese:P,Brazilian:{digitGroupSeparator:I.options.digitGroupSeparator.dot,decimalCharacter:I.options.decimalCharacter.comma,currencySymbol:I.options.currencySymbol.real,currencySymbolPlacement:I.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.right},Turkish:Y,dotDecimalCharCommaSeparator:{digitGroupSeparator:I.options.digitGroupSeparator.comma,decimalCharacter:I.options.decimalCharacter.dot},commaDecimalCharDotSeparator:{digitGroupSeparator:I.options.digitGroupSeparator.dot,decimalCharacter:I.options.decimalCharacter.comma,decimalCharacterAlternative:I.options.decimalCharacterAlternative.dot},integer:{decimalPlaces:0},integerPos:{minimumValue:I.options.minimumValue.zero,decimalPlaces:0},integerNeg:{maximumValue:I.options.maximumValue.zero,decimalPlaces:0},float:{allowDecimalPadding:I.options.allowDecimalPadding.never},floatPos:{allowDecimalPadding:I.options.allowDecimalPadding.never,minimumValue:I.options.minimumValue.zero,maximumValue:I.options.maximumValue.tenTrillions},floatNeg:{allowDecimalPadding:I.options.allowDecimalPadding.never,minimumValue:I.options.minimumValue.tenTrillions,maximumValue:I.options.maximumValue.zero},numeric:{digitGroupSeparator:I.options.digitGroupSeparator.noSeparator,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:I.options.currencySymbol.none},numericPos:{digitGroupSeparator:I.options.digitGroupSeparator.noSeparator,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:I.options.currencySymbol.none,minimumValue:I.options.minimumValue.zero,maximumValue:I.options.maximumValue.tenTrillions},numericNeg:{digitGroupSeparator:I.options.digitGroupSeparator.noSeparator,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:I.options.currencySymbol.none,minimumValue:I.options.minimumValue.tenTrillions,maximumValue:I.options.maximumValue.zero}},Object.getOwnPropertyNames(I.predefinedOptions).forEach((function(e){Object.freeze(I.predefinedOptions[e])})),Object.freeze(I.predefinedOptions),Object.defineProperty(I,"predefinedOptions",{configurable:!1,writable:!1}),t.default=I}],e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=0).default;function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var t,n}()},9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var r=n(4867),i=n(6026),o=n(4372),a=n(5327),s=n(4097),u=n(4109),c=n(7985),l=n(5061);e.exports=function(e){return new Promise((function(t,n){var h=e.data,f=e.headers;r.isFormData(h)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(p+":"+m)}var g=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,n,o),d=null}},d.onabort=function(){d&&(n(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=(e.withCredentials||c(g))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;v&&(f[e.xsrfHeaderName]=v)}if("setRequestHeader"in d&&r.forEach(f,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),h||(h=null),d.send(h)}))}},1609:(e,t,n)=>{"use strict";var r=n(4867),i=n(1849),o=n(321),a=n(7185);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(n(5655));u.Axios=o,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(5263),u.CancelToken=n(4972),u.isCancel=n(6502),u.all=function(e){return Promise.all(e)},u.spread=n(8713),u.isAxiosError=n(6268),e.exports=u,e.exports.default=u},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var r=n(5263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),i=n(5327),o=n(782),a=n(3572),s=n(7185);function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},782:(e,t,n)=>{"use strict";var r=n(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:(e,t,n)=>{"use strict";var r=n(1793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},5061:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},3572:(e,t,n)=>{"use strict";var r=n(4867),i=n(8527),o=n(6502),a=n(5655);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(o,c),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=i.concat(o).concat(a).concat(s),h=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(h,c),n}},6026:(e,t,n)=>{"use strict";var r=n(5061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},5655:(e,t,n)=>{"use strict";var r=n(4867),i=n(6016),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(s=n(5448)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(o)})),e.exports=u},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var r=n(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4109:(e,t,n)=>{"use strict";var r=n(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4867:(e,t,n)=>{"use strict";var r=n(1849),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},5577:function(e,t,n){!function(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(t);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u="transitionend";function c(e){var t=this,n=!1;return i.default(this).one(l.TRANSITION_END,(function(){n=!0})),setTimeout((function(){n||l.triggerTransitionEnd(t)}),e),this}var l={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=i.default(e).css("transition-duration"),n=i.default(e).css("transition-delay"),r=parseFloat(t),o=parseFloat(n);return r||o?(t=t.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(t)+parseFloat(n))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){i.default(e).trigger(u)},supportsTransitionEnd:function(){return Boolean(u)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r],o=t[r],a=o&&l.isElement(o)?"element":null==(s=o)?""+s:{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(a))throw new Error(e.toUpperCase()+': Option "'+r+'" provided type "'+a+'" but expected type "'+i+'".')}var s},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?l.findShadowRoot(e.parentNode):null},jQueryDetection:function(){if(void 0===i.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=i.default.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};l.jQueryDetection(),i.default.fn.emulateTransitionEnd=c,i.default.event.special[l.TRANSITION_END]={bindType:u,delegateType:u,handle:function(e){if(i.default(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var h="bs.alert",f=i.default.fn.alert,d=function(){function e(e){this._element=e}var t=e.prototype;return t.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},t.dispose=function(){i.default.removeData(this._element,h),this._element=null},t._getRootElement=function(e){var t=l.getSelectorFromElement(e),n=!1;return t&&(n=document.querySelector(t)),n||(n=i.default(e).closest(".alert")[0]),n},t._triggerCloseEvent=function(e){var t=i.default.Event("close.bs.alert");return i.default(e).trigger(t),t},t._removeElement=function(e){var t=this;if(i.default(e).removeClass("show"),i.default(e).hasClass("fade")){var n=l.getTransitionDurationFromElement(e);i.default(e).one(l.TRANSITION_END,(function(n){return t._destroyElement(e,n)})).emulateTransitionEnd(n)}else this._destroyElement(e)},t._destroyElement=function(e){i.default(e).detach().trigger("closed.bs.alert").remove()},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this),r=n.data(h);r||(r=new e(this),n.data(h,r)),"close"===t&&r[t](this)}))},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),e}();i.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',d._handleDismiss(new d)),i.default.fn.alert=d._jQueryInterface,i.default.fn.alert.Constructor=d,i.default.fn.alert.noConflict=function(){return i.default.fn.alert=f,d._jQueryInterface};var p="bs.button",m=i.default.fn.button,g="active",v='[data-toggle^="button"]',y='input:not([type="hidden"])',b=".btn",_=function(){function e(e){this._element=e,this.shouldAvoidTriggerChange=!1}var t=e.prototype;return t.toggle=function(){var e=!0,t=!0,n=i.default(this._element).closest('[data-toggle="buttons"]')[0];if(n){var r=this._element.querySelector(y);if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains(g))e=!1;else{var o=n.querySelector(".active");o&&i.default(o).removeClass(g)}e&&("checkbox"!==r.type&&"radio"!==r.type||(r.checked=!this._element.classList.contains(g)),this.shouldAvoidTriggerChange||i.default(r).trigger("change")),r.focus(),t=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(t&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(g)),e&&i.default(this._element).toggleClass(g))},t.dispose=function(){i.default.removeData(this._element,p),this._element=null},e._jQueryInterface=function(t,n){return this.each((function(){var r=i.default(this),o=r.data(p);o||(o=new e(this),r.data(p,o)),o.shouldAvoidTriggerChange=n,"toggle"===t&&o[t]()}))},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),e}();i.default(document).on("click.bs.button.data-api",v,(function(e){var t=e.target,n=t;if(i.default(t).hasClass("btn")||(t=i.default(t).closest(b)[0]),!t||t.hasAttribute("disabled")||t.classList.contains("disabled"))e.preventDefault();else{var r=t.querySelector(y);if(r&&(r.hasAttribute("disabled")||r.classList.contains("disabled")))return void e.preventDefault();"INPUT"!==n.tagName&&"LABEL"===t.tagName||_._jQueryInterface.call(i.default(t),"toggle","INPUT"===n.tagName)}})).on("focus.bs.button.data-api blur.bs.button.data-api",v,(function(e){var t=i.default(e.target).closest(b)[0];i.default(t).toggleClass("focus",/^focus(in)?$/.test(e.type))})),i.default(window).on("load.bs.button.data-api",(function(){for(var e=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),t=0,n=e.length;t<n;t++){var r=e[t],i=r.querySelector(y);i.checked||i.hasAttribute("checked")?r.classList.add(g):r.classList.remove(g)}for(var o=0,a=(e=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;o<a;o++){var s=e[o];"true"===s.getAttribute("aria-pressed")?s.classList.add(g):s.classList.remove(g)}})),i.default.fn.button=_._jQueryInterface,i.default.fn.button.Constructor=_,i.default.fn.button.noConflict=function(){return i.default.fn.button=m,_._jQueryInterface};var w="carousel",S="bs.carousel",E=".bs.carousel",T=i.default.fn[w],I={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},C={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},k="next",N="prev",P="slid.bs.carousel",x="active",A=".active.carousel-item",O={TOUCH:"touch",PEN:"pen"},D=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var t=e.prototype;return t.next=function(){this._isSliding||this._slide(k)},t.nextWhenVisible=function(){var e=i.default(this._element);!document.hidden&&e.is(":visible")&&"hidden"!==e.css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide(N)},t.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(e){var t=this;this._activeElement=this._element.querySelector(A);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)i.default(this._element).one(P,(function(){return t.to(e)}));else{if(n===e)return this.pause(),void this.cycle();var r=e>n?k:N;this._slide(r,this._items[e])}},t.dispose=function(){i.default(this._element).off(E),i.default.removeData(this._element,S),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(e){return e=s({},I,e),l.typeCheckConfig(w,e,C),e},t._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t>0&&this.prev(),t<0&&this.next()}},t._addEventListeners=function(){var e=this;this._config.keyboard&&i.default(this._element).on("keydown.bs.carousel",(function(t){return e._keydown(t)})),"hover"===this._config.pause&&i.default(this._element).on("mouseenter.bs.carousel",(function(t){return e.pause(t)})).on("mouseleave.bs.carousel",(function(t){return e.cycle(t)})),this._config.touch&&this._addTouchEventListeners()},t._addTouchEventListeners=function(){var e=this;if(this._touchSupported){var t=function(t){e._pointerEvent&&O[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},n=function(t){e._pointerEvent&&O[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),500+e._config.interval))};i.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",(function(e){return e.preventDefault()})),this._pointerEvent?(i.default(this._element).on("pointerdown.bs.carousel",(function(e){return t(e)})),i.default(this._element).on("pointerup.bs.carousel",(function(e){return n(e)})),this._element.classList.add("pointer-event")):(i.default(this._element).on("touchstart.bs.carousel",(function(e){return t(e)})),i.default(this._element).on("touchmove.bs.carousel",(function(t){return function(t){t.originalEvent.touches&&t.originalEvent.touches.length>1?e.touchDeltaX=0:e.touchDeltaX=t.originalEvent.touches[0].clientX-e.touchStartX}(t)})),i.default(this._element).on("touchend.bs.carousel",(function(e){return n(e)})))}},t._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},t._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},t._getItemByDirection=function(e,t){var n=e===k,r=e===N,i=this._getItemIndex(t),o=this._items.length-1;if((r&&0===i||n&&i===o)&&!this._config.wrap)return t;var a=(i+(e===N?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},t._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),r=this._getItemIndex(this._element.querySelector(A)),o=i.default.Event("slide.bs.carousel",{relatedTarget:e,direction:t,from:r,to:n});return i.default(this._element).trigger(o),o},t._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var t=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));i.default(t).removeClass(x);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&i.default(n).addClass(x)}},t._updateInterval=function(){var e=this._activeElement||this._element.querySelector(A);if(e){var t=parseInt(e.getAttribute("data-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}},t._slide=function(e,t){var n,r,o,a=this,s=this._element.querySelector(A),u=this._getItemIndex(s),c=t||s&&this._getItemByDirection(e,s),h=this._getItemIndex(c),f=Boolean(this._interval);if(e===k?(n="carousel-item-left",r="carousel-item-next",o="left"):(n="carousel-item-right",r="carousel-item-prev",o="right"),c&&i.default(c).hasClass(x))this._isSliding=!1;else if(!this._triggerSlideEvent(c,o).isDefaultPrevented()&&s&&c){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(c),this._activeElement=c;var d=i.default.Event(P,{relatedTarget:c,direction:o,from:u,to:h});if(i.default(this._element).hasClass("slide")){i.default(c).addClass(r),l.reflow(c),i.default(s).addClass(n),i.default(c).addClass(n);var p=l.getTransitionDurationFromElement(s);i.default(s).one(l.TRANSITION_END,(function(){i.default(c).removeClass(n+" "+r).addClass(x),i.default(s).removeClass("active "+r+" "+n),a._isSliding=!1,setTimeout((function(){return i.default(a._element).trigger(d)}),0)})).emulateTransitionEnd(p)}else i.default(s).removeClass(x),i.default(c).addClass(x),this._isSliding=!1,i.default(this._element).trigger(d);f&&this.cycle()}},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this).data(S),r=s({},I,i.default(this).data());"object"==typeof t&&(r=s({},r,t));var o="string"==typeof t?t:r.slide;if(n||(n=new e(this,r),i.default(this).data(S,n)),"number"==typeof t)n.to(t);else if("string"==typeof o){if(void 0===n[o])throw new TypeError('No method named "'+o+'"');n[o]()}else r.interval&&r.ride&&(n.pause(),n.cycle())}))},e._dataApiClickHandler=function(t){var n=l.getSelectorFromElement(this);if(n){var r=i.default(n)[0];if(r&&i.default(r).hasClass("carousel")){var o=s({},i.default(r).data(),i.default(this).data()),a=this.getAttribute("data-slide-to");a&&(o.interval=!1),e._jQueryInterface.call(i.default(r),o),a&&i.default(r).data(S).to(a),t.preventDefault()}}},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return I}}]),e}();i.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",D._dataApiClickHandler),i.default(window).on("load.bs.carousel.data-api",(function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),t=0,n=e.length;t<n;t++){var r=i.default(e[t]);D._jQueryInterface.call(r,r.data())}})),i.default.fn[w]=D._jQueryInterface,i.default.fn[w].Constructor=D,i.default.fn[w].noConflict=function(){return i.default.fn[w]=T,D._jQueryInterface};var R="collapse",L="bs.collapse",F=i.default.fn[R],M={toggle:!0,parent:""},V={toggle:"boolean",parent:"(string|element)"},j="show",U="collapse",B="collapsing",q="collapsed",G="width",K='[data-toggle="collapse"]',W=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(K)),r=0,i=n.length;r<i;r++){var o=n[r],a=l.getSelectorFromElement(o),s=[].slice.call(document.querySelectorAll(a)).filter((function(t){return t===e}));null!==a&&s.length>0&&(this._selector=a,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=e.prototype;return t.toggle=function(){i.default(this._element).hasClass(j)?this.hide():this.show()},t.show=function(){var t,n,r=this;if(!(this._isTransitioning||i.default(this._element).hasClass(j)||(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(e){return"string"==typeof r._config.parent?e.getAttribute("data-parent")===r._config.parent:e.classList.contains(U)}))).length&&(t=null),t&&(n=i.default(t).not(this._selector).data(L))&&n._isTransitioning))){var o=i.default.Event("show.bs.collapse");if(i.default(this._element).trigger(o),!o.isDefaultPrevented()){t&&(e._jQueryInterface.call(i.default(t).not(this._selector),"hide"),n||i.default(t).data(L,null));var a=this._getDimension();i.default(this._element).removeClass(U).addClass(B),this._element.style[a]=0,this._triggerArray.length&&i.default(this._triggerArray).removeClass(q).attr("aria-expanded",!0),this.setTransitioning(!0);var s="scroll"+(a[0].toUpperCase()+a.slice(1)),u=l.getTransitionDurationFromElement(this._element);i.default(this._element).one(l.TRANSITION_END,(function(){i.default(r._element).removeClass(B).addClass("collapse show"),r._element.style[a]="",r.setTransitioning(!1),i.default(r._element).trigger("shown.bs.collapse")})).emulateTransitionEnd(u),this._element.style[a]=this._element[s]+"px"}}},t.hide=function(){var e=this;if(!this._isTransitioning&&i.default(this._element).hasClass(j)){var t=i.default.Event("hide.bs.collapse");if(i.default(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",l.reflow(this._element),i.default(this._element).addClass(B).removeClass("collapse show");var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var a=this._triggerArray[o],s=l.getSelectorFromElement(a);null!==s&&(i.default([].slice.call(document.querySelectorAll(s))).hasClass(j)||i.default(a).addClass(q).attr("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[n]="";var u=l.getTransitionDurationFromElement(this._element);i.default(this._element).one(l.TRANSITION_END,(function(){e.setTransitioning(!1),i.default(e._element).removeClass(B).addClass(U).trigger("hidden.bs.collapse")})).emulateTransitionEnd(u)}}},t.setTransitioning=function(e){this._isTransitioning=e},t.dispose=function(){i.default.removeData(this._element,L),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function(e){return(e=s({},M,e)).toggle=Boolean(e.toggle),l.typeCheckConfig(R,e,V),e},t._getDimension=function(){return i.default(this._element).hasClass(G)?G:"height"},t._getParent=function(){var t,n=this;l.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(t.querySelectorAll(r));return i.default(o).each((function(t,r){n._addAriaAndCollapsedClass(e._getTargetFromElement(r),[r])})),t},t._addAriaAndCollapsedClass=function(e,t){var n=i.default(e).hasClass(j);t.length&&i.default(t).toggleClass(q,!n).attr("aria-expanded",n)},e._getTargetFromElement=function(e){var t=l.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this),r=n.data(L),o=s({},M,n.data(),"object"==typeof t&&t?t:{});if(!r&&o.toggle&&"string"==typeof t&&/show|hide/.test(t)&&(o.toggle=!1),r||(r=new e(this,o),n.data(L,r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t]()}}))},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return M}}]),e}();i.default(document).on("click.bs.collapse.data-api",K,(function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var t=i.default(this),n=l.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(n));i.default(r).each((function(){var e=i.default(this),n=e.data(L)?"toggle":t.data();W._jQueryInterface.call(e,n)}))})),i.default.fn[R]=W._jQueryInterface,i.default.fn[R].Constructor=W,i.default.fn[R].noConflict=function(){return i.default.fn[R]=F,W._jQueryInterface};var H="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,z=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(H&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var J=H&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),z))}};function Q(e){return e&&"[object Function]"==={}.toString.call(e)}function Y(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function X(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Z(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Y(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:Z(X(e))}function $(e){return e&&e.referenceNode?e.referenceNode:e}var ee=H&&!(!window.MSInputMethodContext||!document.documentMode),te=H&&/MSIE 10/.test(navigator.userAgent);function ne(e){return 11===e?ee:10===e?te:ee||te}function re(e){if(!e)return document.documentElement;for(var t=ne(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Y(n,"position")?re(n):n:e?e.ownerDocument.documentElement:document.documentElement}function ie(e){return null!==e.parentNode?ie(e.parentNode):e}function oe(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a,s,u=o.commonAncestorContainer;if(e!==u&&t!==u||r.contains(i))return"BODY"===(s=(a=u).nodeName)||"HTML"!==s&&re(a.firstElementChild)!==a?re(u):u;var c=ie(e);return c.host?oe(c.host,t):oe(e,ie(t).host)}function ae(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ae(t,"top"),i=ae(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}function ue(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function ce(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],ne(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function le(e){var t=e.body,n=e.documentElement,r=ne(10)&&getComputedStyle(n);return{height:ce("Height",t,n,r),width:ce("Width",t,n,r)}}var he=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),de=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function me(e){return pe({},e,{right:e.left+e.width,bottom:e.top+e.height})}function ge(e){var t={};try{if(ne(10)){t=e.getBoundingClientRect();var n=ae(e,"top"),r=ae(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?le(e.ownerDocument):{},a=o.width||e.clientWidth||i.width,s=o.height||e.clientHeight||i.height,u=e.offsetWidth-a,c=e.offsetHeight-s;if(u||c){var l=Y(e);u-=ue(l,"x"),c-=ue(l,"y"),i.width-=u,i.height-=c}return me(i)}function ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ne(10),i="HTML"===t.nodeName,o=ge(e),a=ge(t),s=Z(e),u=Y(t),c=parseFloat(u.borderTopWidth),l=parseFloat(u.borderLeftWidth);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var h=me({top:o.top-a.top-c,left:o.left-a.left-l,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var f=parseFloat(u.marginTop),d=parseFloat(u.marginLeft);h.top-=c-f,h.bottom-=c-f,h.left-=l-d,h.right-=l-d,h.marginTop=f,h.marginLeft=d}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(h=se(h,t)),h}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=ve(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:ae(n),s=t?0:ae(n,"left");return me({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}function be(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===Y(e,"position"))return!0;var n=X(e);return!!n&&be(n)}function _e(e){if(!e||!e.parentElement||ne())return document.documentElement;for(var t=e.parentElement;t&&"none"===Y(t,"transform");)t=t.parentElement;return t||document.documentElement}function we(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?_e(e):oe(e,$(t));if("viewport"===r)o=ye(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=Z(X(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var u=ve(s,a,i);if("HTML"!==s.nodeName||be(a))o=u;else{var c=le(e.ownerDocument),l=c.height,h=c.width;o.top+=u.top-u.marginTop,o.bottom=l+u.top,o.left+=u.left-u.marginLeft,o.right=h+u.left}}var f="number"==typeof(n=n||0);return o.left+=f?n:n.left||0,o.top+=f?n:n.top||0,o.right-=f?n:n.right||0,o.bottom-=f?n:n.bottom||0,o}function Se(e){return e.width*e.height}function Ee(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=we(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map((function(e){return pe({key:e},s[e],{area:Se(s[e])})})).sort((function(e,t){return t.area-e.area})),c=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,h=e.split("-")[1];return l+(h?"-"+h:"")}function Te(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ve(n,r?_e(t):oe(t,$(n)),r)}function Ie(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function Ce(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function ke(e,t,n){n=n.split("-")[0];var r=Ie(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return i[a]=t[a]+t[u]/2-r[u]/2,i[s]=n===s?t[s]-r[c]:t[Ce(s)],i}function Ne(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Pe(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=Ne(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&Q(n)&&(t.offsets.popper=me(t.offsets.popper),t.offsets.reference=me(t.offsets.reference),t=n(t,e))})),t}function xe(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Te(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Ee(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=ke(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Pe(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Ae(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Oe(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function De(){return this.state.isDestroyed=!0,Ae(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Oe("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Re(e){var t=e.ownerDocument;return t?t.defaultView:window}function Le(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||Le(Z(o.parentNode),t,n,r),r.push(o)}function Fe(e,t,n,r){n.updateBound=r,Re(e).addEventListener("resize",n.updateBound,{passive:!0});var i=Z(e);return Le(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Me(){this.state.eventsEnabled||(this.state=Fe(this.reference,this.options,this.state,this.scheduleUpdate))}function Ve(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Re(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function je(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Ue(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&je(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Be=H&&/Firefox/i.test(navigator.userAgent);function qe(e,t,n){var r=Ne(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var Ge=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ke=Ge.slice(3);function We(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ke.indexOf(e),r=Ke.slice(n+1).concat(Ke.slice(0,n));return t?r.reverse():r}var He="flip",ze="clockwise",Je="counterclockwise";function Qe(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(Ne(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(c=c.map((function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return me(s)[t]/100*o}return"vh"===a||"vw"===a?("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){je(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var Ye={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:de({},u,o[u]),end:de({},u,o[u]+o[c]-a[c])};e.offsets.popper=pe({},a,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,r=t.offset,i=e.placement,o=e.offsets,a=o.popper,s=o.reference,u=i.split("-")[0];return n=je(+r)?[+r,0]:Qe(r,a,s,u),"left"===u?(a.top+=n[0],a.left-=n[1]):"right"===u?(a.top+=n[0],a.left+=n[1]):"top"===u?(a.left+=n[0],a.top-=n[1]):"bottom"===u&&(a.left+=n[0],a.top+=n[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||re(e.instance.popper);e.instance.reference===n&&(n=re(n));var r=Oe("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=we(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,h={primary:function(e){var n=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(l[e],u[e])),de({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(l[n],u[e]-("right"===e?l.width:l.height))),de({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=pe({},l,h[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return n[s]<o(r[u])&&(e.offsets.popper[u]=o(r[u])-n[c]),n[u]>o(r[s])&&(e.offsets.popper[u]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!qe(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,u=-1!==["left","right"].indexOf(i),c=u?"height":"width",l=u?"Top":"Left",h=l.toLowerCase(),f=u?"left":"top",d=u?"bottom":"right",p=Ie(r)[c];s[d]-p<a[h]&&(e.offsets.popper[h]-=a[h]-(s[d]-p)),s[h]+p>a[d]&&(e.offsets.popper[h]+=s[h]+p-a[d]),e.offsets.popper=me(e.offsets.popper);var m=s[h]+s[c]/2-p/2,g=Y(e.instance.popper),v=parseFloat(g["margin"+l]),y=parseFloat(g["border"+l+"Width"]),b=m-e.offsets.popper[h]-v-y;return b=Math.max(Math.min(a[c]-p,b),0),e.arrowElement=r,e.offsets.arrow=(de(n={},h,Math.round(b)),de(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Ae(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=we(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=Ce(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case He:a=[r,i];break;case ze:a=We(r);break;case Je:a=We(r,!0);break;default:a=t.behavior}return a.forEach((function(s,u){if(r!==s||a.length===u+1)return e;r=e.placement.split("-")[0],i=Ce(r);var c=e.offsets.popper,l=e.offsets.reference,h=Math.floor,f="left"===r&&h(c.right)>h(l.left)||"right"===r&&h(c.left)<h(l.right)||"top"===r&&h(c.bottom)>h(l.top)||"bottom"===r&&h(c.top)<h(l.bottom),d=h(c.left)<h(n.left),p=h(c.right)>h(n.right),m=h(c.top)<h(n.top),g=h(c.bottom)>h(n.bottom),v="left"===r&&d||"right"===r&&p||"top"===r&&m||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===o&&d||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g),_=!!t.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&d||!y&&"start"===o&&g||!y&&"end"===o&&m),w=b||_;(f||v||w)&&(e.flipped=!0,(f||v)&&(r=a[u+1]),w&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=pe({},e.offsets.popper,ke(e.instance.popper,e.offsets.reference,e.placement)),e=Pe(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=Ce(t),e.offsets.popper=me(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!qe(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Ne(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=Ne(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,s,u=void 0!==o?o:t.gpuAcceleration,c=re(e.instance.popper),l=ge(c),h={position:i.position},f=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},u=o(i.width),c=o(r.width),l=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),f=t?l||h||u%2==c%2?o:a:s,d=t?o:s;return{left:f(u%2==1&&c%2==1&&!h&&t?r.left-1:r.left),top:d(r.top),bottom:d(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!Be),d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",m=Oe("transform");if(s="bottom"===d?"HTML"===c.nodeName?-c.clientHeight+f.bottom:-l.height+f.bottom:f.top,a="right"===p?"HTML"===c.nodeName?-c.clientWidth+f.right:-l.width+f.right:f.left,u&&m)h[m]="translate3d("+a+"px, "+s+"px, 0)",h[d]=0,h[p]=0,h.willChange="transform";else{var g="bottom"===d?-1:1,v="right"===p?-1:1;h[d]=s*g,h[p]=a*v,h.willChange=d+", "+p}var y={"x-placement":e.placement};return e.attributes=pe({},y,e.attributes),e.styles=pe({},h,e.styles),e.arrowStyles=pe({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return Ue(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Ue(e.arrowElement,e.arrowStyles),e;var t,n},onLoad:function(e,t,n,r,i){var o=Te(i,t,e,n.positionFixed),a=Ee(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),Ue(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Xe=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};he(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=J(this.update.bind(this)),this.options=pe({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(pe({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=pe({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return pe({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&Q(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return fe(e,[{key:"update",value:function(){return xe.call(this)}},{key:"destroy",value:function(){return De.call(this)}},{key:"enableEventListeners",value:function(){return Me.call(this)}},{key:"disableEventListeners",value:function(){return Ve.call(this)}}]),e}();Xe.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,Xe.placements=Ge,Xe.Defaults=Ye;var Ze="dropdown",$e="bs.dropdown",et=".bs.dropdown",tt=i.default.fn[Ze],nt=new RegExp("38|40|27"),rt="hide.bs.dropdown",it="hidden.bs.dropdown",ot="click.bs.dropdown.data-api",at="keydown.bs.dropdown.data-api",st="disabled",ut="show",ct="dropdown-menu-right",lt='[data-toggle="dropdown"]',ht=".dropdown-menu",ft={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},dt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},pt=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=e.prototype;return t.toggle=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(st)){var t=i.default(this._menu).hasClass(ut);e._clearMenus(),t||this.show(!0)}},t.show=function(t){if(void 0===t&&(t=!1),!(this._element.disabled||i.default(this._element).hasClass(st)||i.default(this._menu).hasClass(ut))){var n={relatedTarget:this._element},r=i.default.Event("show.bs.dropdown",n),o=e._getParentFromElement(this._element);if(i.default(o).trigger(r),!r.isDefaultPrevented()){if(!this._inNavbar&&t){if(void 0===Xe)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var a=this._element;"parent"===this._config.reference?a=o:l.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&i.default(o).addClass("position-static"),this._popper=new Xe(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===i.default(o).closest(".navbar-nav").length&&i.default(document.body).children().on("mouseover",null,i.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),i.default(this._menu).toggleClass(ut),i.default(o).toggleClass(ut).trigger(i.default.Event("shown.bs.dropdown",n))}}},t.hide=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(st)&&i.default(this._menu).hasClass(ut)){var t={relatedTarget:this._element},n=i.default.Event(rt,t),r=e._getParentFromElement(this._element);i.default(r).trigger(n),n.isDefaultPrevented()||(this._popper&&this._popper.destroy(),i.default(this._menu).toggleClass(ut),i.default(r).toggleClass(ut).trigger(i.default.Event(it,t)))}},t.dispose=function(){i.default.removeData(this._element,$e),i.default(this._element).off(et),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var e=this;i.default(this._element).on("click.bs.dropdown",(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))},t._getConfig=function(e){return e=s({},this.constructor.Default,i.default(this._element).data(),e),l.typeCheckConfig(Ze,e,this.constructor.DefaultType),e},t._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(ht))}return this._menu},t._getPlacement=function(){var e=i.default(this._element.parentNode),t="bottom-start";return e.hasClass("dropup")?t=i.default(this._menu).hasClass(ct)?"top-end":"top-start":e.hasClass("dropright")?t="right-start":e.hasClass("dropleft")?t="left-start":i.default(this._menu).hasClass(ct)&&(t="bottom-end"),t},t._detectNavbar=function(){return i.default(this._element).closest(".navbar").length>0},t._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=s({},t.offsets,e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},t._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),s({},e,this._config.popperConfig)},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this).data($e);if(n||(n=new e(this,"object"==typeof t?t:null),i.default(this).data($e,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},e._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var n=[].slice.call(document.querySelectorAll(lt)),r=0,o=n.length;r<o;r++){var a=e._getParentFromElement(n[r]),s=i.default(n[r]).data($e),u={relatedTarget:n[r]};if(t&&"click"===t.type&&(u.clickEvent=t),s){var c=s._menu;if(i.default(a).hasClass(ut)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&i.default.contains(a,t.target))){var l=i.default.Event(rt,u);i.default(a).trigger(l),l.isDefaultPrevented()||("ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),n[r].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),i.default(c).removeClass(ut),i.default(a).removeClass(ut).trigger(i.default.Event(it,u)))}}}},e._getParentFromElement=function(e){var t,n=l.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},e._dataApiKeydownHandler=function(t){if(!(/input|textarea/i.test(t.target.tagName)?32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||i.default(t.target).closest(ht).length):!nt.test(t.which))&&!this.disabled&&!i.default(this).hasClass(st)){var n=e._getParentFromElement(this),r=i.default(n).hasClass(ut);if(r||27!==t.which){if(t.preventDefault(),t.stopPropagation(),!r||27===t.which||32===t.which)return 27===t.which&&i.default(n.querySelector(lt)).trigger("focus"),void i.default(this).trigger("click");var o=[].slice.call(n.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(e){return i.default(e).is(":visible")}));if(0!==o.length){var a=o.indexOf(t.target);38===t.which&&a>0&&a--,40===t.which&&a<o.length-1&&a++,a<0&&(a=0),o[a].focus()}}}},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return ft}},{key:"DefaultType",get:function(){return dt}}]),e}();i.default(document).on(at,lt,pt._dataApiKeydownHandler).on(at,ht,pt._dataApiKeydownHandler).on(ot+" keyup.bs.dropdown.data-api",pt._clearMenus).on(ot,lt,(function(e){e.preventDefault(),e.stopPropagation(),pt._jQueryInterface.call(i.default(this),"toggle")})).on(ot,".dropdown form",(function(e){e.stopPropagation()})),i.default.fn[Ze]=pt._jQueryInterface,i.default.fn[Ze].Constructor=pt,i.default.fn[Ze].noConflict=function(){return i.default.fn[Ze]=tt,pt._jQueryInterface};var mt="modal",gt="bs.modal",vt=".bs.modal",yt=i.default.fn.modal,bt={backdrop:!0,keyboard:!0,focus:!0,show:!0},_t={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},wt="hidden.bs.modal",St="show.bs.modal",Et="focusin.bs.modal",Tt="resize.bs.modal",It="click.dismiss.bs.modal",Ct="keydown.dismiss.bs.modal",kt="mousedown.dismiss.bs.modal",Nt="modal-open",Pt="fade",xt="show",At="modal-static",Ot=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Dt=".sticky-top",Rt=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var t=e.prototype;return t.toggle=function(e){return this._isShown?this.hide():this.show(e)},t.show=function(e){var t=this;if(!this._isShown&&!this._isTransitioning){i.default(this._element).hasClass(Pt)&&(this._isTransitioning=!0);var n=i.default.Event(St,{relatedTarget:e});i.default(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),i.default(this._element).on(It,'[data-dismiss="modal"]',(function(e){return t.hide(e)})),i.default(this._dialog).on(kt,(function(){i.default(t._element).one("mouseup.dismiss.bs.modal",(function(e){i.default(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return t._showElement(e)})))}},t.hide=function(e){var t=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var n=i.default.Event("hide.bs.modal");if(i.default(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var r=i.default(this._element).hasClass(Pt);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),i.default(document).off(Et),i.default(this._element).removeClass(xt),i.default(this._element).off(It),i.default(this._dialog).off(kt),r){var o=l.getTransitionDurationFromElement(this._element);i.default(this._element).one(l.TRANSITION_END,(function(e){return t._hideModal(e)})).emulateTransitionEnd(o)}else this._hideModal()}}},t.dispose=function(){[window,this._element,this._dialog].forEach((function(e){return i.default(e).off(vt)})),i.default(document).off(Et),i.default.removeData(this._element,gt),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},t.handleUpdate=function(){this._adjustDialog()},t._getConfig=function(e){return e=s({},bt,e),l.typeCheckConfig(mt,e,_t),e},t._triggerBackdropTransition=function(){var e=this,t=i.default.Event("hidePrevented.bs.modal");if(i.default(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._element.scrollHeight>document.documentElement.clientHeight;n||(this._element.style.overflowY="hidden"),this._element.classList.add(At);var r=l.getTransitionDurationFromElement(this._dialog);i.default(this._element).off(l.TRANSITION_END),i.default(this._element).one(l.TRANSITION_END,(function(){e._element.classList.remove(At),n||i.default(e._element).one(l.TRANSITION_END,(function(){e._element.style.overflowY=""})).emulateTransitionEnd(e._element,r)})).emulateTransitionEnd(r),this._element.focus()}},t._showElement=function(e){var t=this,n=i.default(this._element).hasClass(Pt),r=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),i.default(this._dialog).hasClass("modal-dialog-scrollable")&&r?r.scrollTop=0:this._element.scrollTop=0,n&&l.reflow(this._element),i.default(this._element).addClass(xt),this._config.focus&&this._enforceFocus();var o=i.default.Event("shown.bs.modal",{relatedTarget:e}),a=function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,i.default(t._element).trigger(o)};if(n){var s=l.getTransitionDurationFromElement(this._dialog);i.default(this._dialog).one(l.TRANSITION_END,a).emulateTransitionEnd(s)}else a()},t._enforceFocus=function(){var e=this;i.default(document).off(Et).on(Et,(function(t){document!==t.target&&e._element!==t.target&&0===i.default(e._element).has(t.target).length&&e._element.focus()}))},t._setEscapeEvent=function(){var e=this;this._isShown?i.default(this._element).on(Ct,(function(t){e._config.keyboard&&27===t.which?(t.preventDefault(),e.hide()):e._config.keyboard||27!==t.which||e._triggerBackdropTransition()})):this._isShown||i.default(this._element).off(Ct)},t._setResizeEvent=function(){var e=this;this._isShown?i.default(window).on(Tt,(function(t){return e.handleUpdate(t)})):i.default(window).off(Tt)},t._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){i.default(document.body).removeClass(Nt),e._resetAdjustments(),e._resetScrollbar(),i.default(e._element).trigger(wt)}))},t._removeBackdrop=function(){this._backdrop&&(i.default(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function(e){var t=this,n=i.default(this._element).hasClass(Pt)?Pt:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&this._backdrop.classList.add(n),i.default(this._backdrop).appendTo(document.body),i.default(this._element).on(It,(function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===t._config.backdrop?t._triggerBackdropTransition():t.hide())})),n&&l.reflow(this._backdrop),i.default(this._backdrop).addClass(xt),!e)return;if(!n)return void e();var r=l.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(l.TRANSITION_END,e).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){i.default(this._backdrop).removeClass(xt);var o=function(){t._removeBackdrop(),e&&e()};if(i.default(this._element).hasClass(Pt)){var a=l.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(l.TRANSITION_END,o).emulateTransitionEnd(a)}else o()}else e&&e()},t._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(Ot)),n=[].slice.call(document.querySelectorAll(Dt));i.default(t).each((function(t,n){var r=n.style.paddingRight,o=i.default(n).css("padding-right");i.default(n).data("padding-right",r).css("padding-right",parseFloat(o)+e._scrollbarWidth+"px")})),i.default(n).each((function(t,n){var r=n.style.marginRight,o=i.default(n).css("margin-right");i.default(n).data("margin-right",r).css("margin-right",parseFloat(o)-e._scrollbarWidth+"px")}));var r=document.body.style.paddingRight,o=i.default(document.body).css("padding-right");i.default(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}i.default(document.body).addClass(Nt)},t._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(Ot));i.default(e).each((function(e,t){var n=i.default(t).data("padding-right");i.default(t).removeData("padding-right"),t.style.paddingRight=n||""}));var t=[].slice.call(document.querySelectorAll(".sticky-top"));i.default(t).each((function(e,t){var n=i.default(t).data("margin-right");void 0!==n&&i.default(t).css("margin-right",n).removeData("margin-right")}));var n=i.default(document.body).data("padding-right");i.default(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},t._getScrollbarWidth=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(t,n){return this.each((function(){var r=i.default(this).data(gt),o=s({},bt,i.default(this).data(),"object"==typeof t&&t?t:{});if(r||(r=new e(this,o),i.default(this).data(gt,r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t](n)}else o.show&&r.show(n)}))},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return bt}}]),e}();i.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(e){var t,n=this,r=l.getSelectorFromElement(this);r&&(t=document.querySelector(r));var o=i.default(t).data(gt)?"toggle":s({},i.default(t).data(),i.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var a=i.default(t).one(St,(function(e){e.isDefaultPrevented()||a.one(wt,(function(){i.default(n).is(":visible")&&n.focus()}))}));Rt._jQueryInterface.call(i.default(t),o,this)})),i.default.fn.modal=Rt._jQueryInterface,i.default.fn.modal.Constructor=Rt,i.default.fn.modal.noConflict=function(){return i.default.fn.modal=yt,Rt._jQueryInterface};var Lt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Ft=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Mt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Vt(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);for(var r=(new window.DOMParser).parseFromString(e,"text/html"),i=Object.keys(t),o=[].slice.call(r.body.querySelectorAll("*")),a=function(e,n){var r=o[e],a=r.nodeName.toLowerCase();if(-1===i.indexOf(r.nodeName.toLowerCase()))return r.parentNode.removeChild(r),"continue";var s=[].slice.call(r.attributes),u=[].concat(t["*"]||[],t[a]||[]);s.forEach((function(e){(function(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===Lt.indexOf(n)||Boolean(e.nodeValue.match(Ft)||e.nodeValue.match(Mt));for(var r=t.filter((function(e){return e instanceof RegExp})),i=0,o=r.length;i<o;i++)if(n.match(r[i]))return!0;return!1})(e,u)||r.removeAttribute(e.nodeName)}))},s=0,u=o.length;s<u;s++)a(s);return r.body.innerHTML}var jt="tooltip",Ut="bs.tooltip",Bt=".bs.tooltip",qt=i.default.fn.tooltip,Gt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Kt=["sanitize","whiteList","sanitizeFn"],Wt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Ht={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},zt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Jt="show",Qt="out",Yt={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Xt="fade",Zt="show",$t="hover",en="focus",tn=function(){function e(e,t){if(void 0===Xe)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var t=e.prototype;return t.enable=function(){this._isEnabled=!0},t.disable=function(){this._isEnabled=!1},t.toggleEnabled=function(){this._isEnabled=!this._isEnabled},t.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,n=i.default(e.currentTarget).data(t);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),i.default(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(i.default(this.getTipElement()).hasClass(Zt))return void this._leave(null,this);this._enter(null,this)}},t.dispose=function(){clearTimeout(this._timeout),i.default.removeData(this.element,this.constructor.DATA_KEY),i.default(this.element).off(this.constructor.EVENT_KEY),i.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&i.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function(){var e=this;if("none"===i.default(this.element).css("display"))throw new Error("Please use show on visible elements");var t=i.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){i.default(this.element).trigger(t);var n=l.findShadowRoot(this.element),r=i.default.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!r)return;var o=this.getTipElement(),a=l.getUID(this.constructor.NAME);o.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&i.default(o).addClass(Xt);var s="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,u=this._getAttachment(s);this.addAttachmentClass(u);var c=this._getContainer();i.default(o).data(this.constructor.DATA_KEY,this),i.default.contains(this.element.ownerDocument.documentElement,this.tip)||i.default(o).appendTo(c),i.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Xe(this.element,o,this._getPopperConfig(u)),i.default(o).addClass(Zt),i.default(o).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&i.default(document.body).children().on("mouseover",null,i.default.noop);var h=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,i.default(e.element).trigger(e.constructor.Event.SHOWN),t===Qt&&e._leave(null,e)};if(i.default(this.tip).hasClass(Xt)){var f=l.getTransitionDurationFromElement(this.tip);i.default(this.tip).one(l.TRANSITION_END,h).emulateTransitionEnd(f)}else h()}},t.hide=function(e){var t=this,n=this.getTipElement(),r=i.default.Event(this.constructor.Event.HIDE),o=function(){t._hoverState!==Jt&&n.parentNode&&n.parentNode.removeChild(n),t._cleanTipClass(),t.element.removeAttribute("aria-describedby"),i.default(t.element).trigger(t.constructor.Event.HIDDEN),null!==t._popper&&t._popper.destroy(),e&&e()};if(i.default(this.element).trigger(r),!r.isDefaultPrevented()){if(i.default(n).removeClass(Zt),"ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,i.default(this.tip).hasClass(Xt)){var a=l.getTransitionDurationFromElement(n);i.default(n).one(l.TRANSITION_END,o).emulateTransitionEnd(a)}else o();this._hoverState=""}},t.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function(){return Boolean(this.getTitle())},t.addAttachmentClass=function(e){i.default(this.getTipElement()).addClass("bs-tooltip-"+e)},t.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},t.setContent=function(){var e=this.getTipElement();this.setElementContent(i.default(e.querySelectorAll(".tooltip-inner")),this.getTitle()),i.default(e).removeClass("fade show")},t.setElementContent=function(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=Vt(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?i.default(t).parent().is(e)||e.empty().append(t):e.text(i.default(t).text())},t.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},t._getPopperConfig=function(e){var t=this;return s({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}},this.config.popperConfig)},t._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=s({},t.offsets,e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},t._getContainer=function(){return!1===this.config.container?document.body:l.isElement(this.config.container)?i.default(this.config.container):i.default(document).find(this.config.container)},t._getAttachment=function(e){return Ht[e.toUpperCase()]},t._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach((function(t){if("click"===t)i.default(e.element).on(e.constructor.Event.CLICK,e.config.selector,(function(t){return e.toggle(t)}));else if("manual"!==t){var n=t===$t?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=t===$t?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;i.default(e.element).on(n,e.config.selector,(function(t){return e._enter(t)})).on(r,e.config.selector,(function(t){return e._leave(t)}))}})),this._hideModalHandler=function(){e.element&&e.hide()},i.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function(e,t){var n=this.constructor.DATA_KEY;(t=t||i.default(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),i.default(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?en:$t]=!0),i.default(t.getTipElement()).hasClass(Zt)||t._hoverState===Jt?t._hoverState=Jt:(clearTimeout(t._timeout),t._hoverState=Jt,t.config.delay&&t.config.delay.show?t._timeout=setTimeout((function(){t._hoverState===Jt&&t.show()}),t.config.delay.show):t.show())},t._leave=function(e,t){var n=this.constructor.DATA_KEY;(t=t||i.default(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),i.default(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?en:$t]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=Qt,t.config.delay&&t.config.delay.hide?t._timeout=setTimeout((function(){t._hoverState===Qt&&t.hide()}),t.config.delay.hide):t.hide())},t._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},t._getConfig=function(e){var t=i.default(this.element).data();return Object.keys(t).forEach((function(e){-1!==Kt.indexOf(e)&&delete t[e]})),"number"==typeof(e=s({},this.constructor.Default,t,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),l.typeCheckConfig(jt,e,this.constructor.DefaultType),e.sanitize&&(e.template=Vt(e.template,e.whiteList,e.sanitizeFn)),e},t._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},t._cleanTipClass=function(){var e=i.default(this.getTipElement()),t=e.attr("class").match(Gt);null!==t&&t.length&&e.removeClass(t.join(""))},t._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},t._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(i.default(e).removeClass(Xt),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this),r=n.data(Ut),o="object"==typeof t&&t;if((r||!/dispose|hide/.test(t))&&(r||(r=new e(this,o),n.data(Ut,r)),"string"==typeof t)){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t]()}}))},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return zt}},{key:"NAME",get:function(){return jt}},{key:"DATA_KEY",get:function(){return Ut}},{key:"Event",get:function(){return Yt}},{key:"EVENT_KEY",get:function(){return Bt}},{key:"DefaultType",get:function(){return Wt}}]),e}();i.default.fn.tooltip=tn._jQueryInterface,i.default.fn.tooltip.Constructor=tn,i.default.fn.tooltip.noConflict=function(){return i.default.fn.tooltip=qt,tn._jQueryInterface};var nn="popover",rn="bs.popover",on=".bs.popover",an=i.default.fn.popover,sn=new RegExp("(^|\\s)bs-popover\\S+","g"),un=s({},tn.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),cn=s({},tn.DefaultType,{content:"(string|element|function)"}),ln={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},hn=function(e){function t(){return e.apply(this,arguments)||this}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var o=t.prototype;return o.isWithContent=function(){return this.getTitle()||this._getContent()},o.addAttachmentClass=function(e){i.default(this.getTipElement()).addClass("bs-popover-"+e)},o.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},o.setContent=function(){var e=i.default(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(".popover-body"),t),e.removeClass("fade show")},o._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},o._cleanTipClass=function(){var e=i.default(this.getTipElement()),t=e.attr("class").match(sn);null!==t&&t.length>0&&e.removeClass(t.join(""))},t._jQueryInterface=function(e){return this.each((function(){var n=i.default(this).data(rn),r="object"==typeof e?e:null;if((n||!/dispose|hide/.test(e))&&(n||(n=new t(this,r),i.default(this).data(rn,n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},a(t,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return un}},{key:"NAME",get:function(){return nn}},{key:"DATA_KEY",get:function(){return rn}},{key:"Event",get:function(){return ln}},{key:"EVENT_KEY",get:function(){return on}},{key:"DefaultType",get:function(){return cn}}]),t}(tn);i.default.fn.popover=hn._jQueryInterface,i.default.fn.popover.Constructor=hn,i.default.fn.popover.noConflict=function(){return i.default.fn.popover=an,hn._jQueryInterface};var fn="scrollspy",dn="bs.scrollspy",pn="."+dn,mn=i.default.fn[fn],gn={offset:10,method:"auto",target:""},vn={offset:"number",method:"string",target:"(string|element)"},yn="active",bn=".nav, .list-group",_n=".nav-link",wn="position",Sn=function(){function e(e,t){var n=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+".nav-link,"+this._config.target+" "+".list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,i.default(this._scrollElement).on("scroll.bs.scrollspy",(function(e){return n._process(e)})),this.refresh(),this._process()}var t=e.prototype;return t.refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?"offset":wn,n="auto"===this._config.method?t:this._config.method,r=n===wn?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(e){var t,o=l.getSelectorFromElement(e);if(o&&(t=document.querySelector(o)),t){var a=t.getBoundingClientRect();if(a.width||a.height)return[i.default(t)[n]().top+r,o]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))},t.dispose=function(){i.default.removeData(this._element,dn),i.default(this._scrollElement).off(pn),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function(e){if("string"!=typeof(e=s({},gn,"object"==typeof e&&e?e:{})).target&&l.isElement(e.target)){var t=i.default(e.target).attr("id");t||(t=l.getUID(fn),i.default(e.target).attr("id",t)),e.target="#"+t}return l.typeCheckConfig(fn,e,vn),e},t._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}},t._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",").map((function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'})),n=i.default([].slice.call(document.querySelectorAll(t.join(","))));n.hasClass("dropdown-item")?(n.closest(".dropdown").find(".dropdown-toggle").addClass(yn),n.addClass(yn)):(n.addClass(yn),n.parents(bn).prev(".nav-link, .list-group-item").addClass(yn),n.parents(bn).prev(".nav-item").children(_n).addClass(yn)),i.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:e})},t._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(e){return e.classList.contains(yn)})).forEach((function(e){return e.classList.remove(yn)}))},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this).data(dn);if(n||(n=new e(this,"object"==typeof t&&t),i.default(this).data(dn,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return gn}}]),e}();i.default(window).on("load.bs.scrollspy.data-api",(function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),t=e.length;t--;){var n=i.default(e[t]);Sn._jQueryInterface.call(n,n.data())}})),i.default.fn[fn]=Sn._jQueryInterface,i.default.fn[fn].Constructor=Sn,i.default.fn[fn].noConflict=function(){return i.default.fn[fn]=mn,Sn._jQueryInterface};var En="bs.tab",Tn=i.default.fn.tab,In="active",Cn="fade",kn="show",Nn=".active",Pn="> li > .active",xn=function(){function e(e){this._element=e}var t=e.prototype;return t.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&i.default(this._element).hasClass(In)||i.default(this._element).hasClass("disabled"))){var t,n,r=i.default(this._element).closest(".nav, .list-group")[0],o=l.getSelectorFromElement(this._element);if(r){var a="UL"===r.nodeName||"OL"===r.nodeName?Pn:Nn;n=(n=i.default.makeArray(i.default(r).find(a)))[n.length-1]}var s=i.default.Event("hide.bs.tab",{relatedTarget:this._element}),u=i.default.Event("show.bs.tab",{relatedTarget:n});if(n&&i.default(n).trigger(s),i.default(this._element).trigger(u),!u.isDefaultPrevented()&&!s.isDefaultPrevented()){o&&(t=document.querySelector(o)),this._activate(this._element,r);var c=function(){var t=i.default.Event("hidden.bs.tab",{relatedTarget:e._element}),r=i.default.Event("shown.bs.tab",{relatedTarget:n});i.default(n).trigger(t),i.default(e._element).trigger(r)};t?this._activate(t,t.parentNode,c):c()}}},t.dispose=function(){i.default.removeData(this._element,En),this._element=null},t._activate=function(e,t,n){var r=this,o=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?i.default(t).children(Nn):i.default(t).find(Pn))[0],a=n&&o&&i.default(o).hasClass(Cn),s=function(){return r._transitionComplete(e,o,n)};if(o&&a){var u=l.getTransitionDurationFromElement(o);i.default(o).removeClass(kn).one(l.TRANSITION_END,s).emulateTransitionEnd(u)}else s()},t._transitionComplete=function(e,t,n){if(t){i.default(t).removeClass(In);var r=i.default(t.parentNode).find("> .dropdown-menu .active")[0];r&&i.default(r).removeClass(In),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}if(i.default(e).addClass(In),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),l.reflow(e),e.classList.contains(Cn)&&e.classList.add(kn),e.parentNode&&i.default(e.parentNode).hasClass("dropdown-menu")){var o=i.default(e).closest(".dropdown")[0];if(o){var a=[].slice.call(o.querySelectorAll(".dropdown-toggle"));i.default(a).addClass(In)}e.setAttribute("aria-expanded",!0)}n&&n()},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this),r=n.data(En);if(r||(r=new e(this),n.data(En,r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t]()}}))},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),e}();i.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(e){e.preventDefault(),xn._jQueryInterface.call(i.default(this),"show")})),i.default.fn.tab=xn._jQueryInterface,i.default.fn.tab.Constructor=xn,i.default.fn.tab.noConflict=function(){return i.default.fn.tab=Tn,xn._jQueryInterface};var An="toast",On="bs.toast",Dn=i.default.fn.toast,Rn="click.dismiss.bs.toast",Ln="hide",Fn="show",Mn="showing",Vn={animation:"boolean",autohide:"boolean",delay:"number"},jn={animation:!0,autohide:!0,delay:500},Un=function(){function e(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var t=e.prototype;return t.show=function(){var e=this,t=i.default.Event("show.bs.toast");if(i.default(this._element).trigger(t),!t.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var n=function(){e._element.classList.remove(Mn),e._element.classList.add(Fn),i.default(e._element).trigger("shown.bs.toast"),e._config.autohide&&(e._timeout=setTimeout((function(){e.hide()}),e._config.delay))};if(this._element.classList.remove(Ln),l.reflow(this._element),this._element.classList.add(Mn),this._config.animation){var r=l.getTransitionDurationFromElement(this._element);i.default(this._element).one(l.TRANSITION_END,n).emulateTransitionEnd(r)}else n()}},t.hide=function(){if(this._element.classList.contains(Fn)){var e=i.default.Event("hide.bs.toast");i.default(this._element).trigger(e),e.isDefaultPrevented()||this._close()}},t.dispose=function(){this._clearTimeout(),this._element.classList.contains(Fn)&&this._element.classList.remove(Fn),i.default(this._element).off(Rn),i.default.removeData(this._element,On),this._element=null,this._config=null},t._getConfig=function(e){return e=s({},jn,i.default(this._element).data(),"object"==typeof e&&e?e:{}),l.typeCheckConfig(An,e,this.constructor.DefaultType),e},t._setListeners=function(){var e=this;i.default(this._element).on(Rn,'[data-dismiss="toast"]',(function(){return e.hide()}))},t._close=function(){var e=this,t=function(){e._element.classList.add(Ln),i.default(e._element).trigger("hidden.bs.toast")};if(this._element.classList.remove(Fn),this._config.animation){var n=l.getTransitionDurationFromElement(this._element);i.default(this._element).one(l.TRANSITION_END,t).emulateTransitionEnd(n)}else t()},t._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},e._jQueryInterface=function(t){return this.each((function(){var n=i.default(this),r=n.data(On);if(r||(r=new e(this,"object"==typeof t&&t),n.data(On,r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t](this)}}))},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"DefaultType",get:function(){return Vn}},{key:"Default",get:function(){return jn}}]),e}();i.default.fn.toast=Un._jQueryInterface,i.default.fn.toast.Constructor=Un,i.default.fn.toast.noConflict=function(){return i.default.fn.toast=Dn,Un._jQueryInterface},e.Alert=d,e.Button=_,e.Carousel=D,e.Collapse=W,e.Dropdown=pt,e.Modal=Rt,e.Popover=hn,e.Scrollspy=Sn,e.Tab=xn,e.Toast=Un,e.Tooltip=tn,e.Util=l,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(9755))},8273:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=function(){function e(e,t,n){var i=this;this.target=e,this.endVal=t,this.options=n,this.version="2.0.7",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(e){i.startTime||(i.startTime=e);var t=e-i.startTime;i.remaining=i.duration-t,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(t,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(t,i.startVal,i.endVal-i.startVal,i.duration):i.countDown?i.frameVal=i.startVal-(i.startVal-i.endVal)*(t/i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(t/i.duration),i.countDown?i.frameVal=i.frameVal<i.endVal?i.endVal:i.frameVal:i.frameVal=i.frameVal>i.endVal?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),t<i.duration?i.rAF=requestAnimationFrame(i.count):null!==i.finalEndVal?i.update(i.finalEndVal):i.callback&&i.callback()},this.formatNumber=function(e){var t,n,r,o,a,s=e<0?"-":"";if(t=Math.abs(e).toFixed(i.options.decimalPlaces),r=(n=(t+="").split("."))[0],o=n.length>1?i.options.decimal+n[1]:"",i.options.useGrouping){a="";for(var u=0,c=r.length;u<c;++u)0!==u&&u%3==0&&(a=i.options.separator+a),a=r[c-u-1]+a;r=a}return i.options.numerals&&i.options.numerals.length&&(r=r.replace(/[0-9]/g,(function(e){return i.options.numerals[+e]})),o=o.replace(/[0-9]/g,(function(e){return i.options.numerals[+e]}))),s+i.options.prefix+r+o+i.options.suffix},this.easeOutExpo=function(e,t,n,r){return n*(1-Math.pow(2,-10*e/r))*1024/1023+t},this.options=r(r({},this.defaults),n),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(t),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof e?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined"}return e.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var t=e-this.startVal;if(Math.abs(t)>this.options.smartEasingThreshold){this.finalEndVal=e;var n=this.countDown?1:-1;this.endVal=e+n*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(e){this.error||(this.callback=e,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(e){var t=this.formattingFn(e);"INPUT"===this.el.tagName?this.el.value=t:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=t:this.el.innerHTML=t},e.prototype.ensureNumber=function(e){return"number"==typeof e&&!isNaN(e)},e.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: "+e,null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}()},785:(e,t,n)=>{"use strict";var r=n(6099);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,n){if(n){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(n=n(o=r[e=e[e.length-1]]))!=o&&null!=n&&t(r,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Qa(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""}function f(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function m(e){return"function"==d(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function S(e,t,n){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var T=Date.now;function I(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function C(e){return e}function k(e,t,n){this.code=x+e,this.message=t||A[e]||"",this.a=n||null}function N(e){var t=e&&e.code;return t?new k(t.substring(x.length),e.message,e.serverResponse):null}I(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var P,x="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(e){for(var t in O)if(O[t].id===e)return{firebaseEndpoint:(e=O[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function L(e){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function F(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");L.call(this,n+e[r])}function M(e,t){throw new F("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function V(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function j(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}P=D("__EID__")?"__EID__":void 0,I(L,Error),L.prototype.name="CustomError",I(F,L),F.prototype.name="AssertionError",V.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var B=new V((function(){return new G}),(function(e){e.reset()}));function q(){var e=_t,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function G(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=B.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},G.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},G.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},H=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},z=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},J=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=K(e,t)}function Y(e,t){var n;return(n=0<=(t=K(e,t)))&&Array.prototype.splice.call(e,t,1),n}function X(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function Z(e){return Array.prototype.concat.apply([],arguments)}function $(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,oe=/"/g,ae=/'/g,se=/\x00/g,ue=/[\x00&<>"']/;function ce(e,t){return-1!=e.indexOf(t)}function le(e,t){return e<t?-1:e>t?1:0}e:{var he=u.navigator;if(he){var fe=he.userAgent;if(fe){ee=fe;break e}}ee=""}function de(e){return ce(ee,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function me(e){for(var t in e)return!1;return!0}function ge(e){var t,n={};for(t in e)n[t]=e[t];return n}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ve.length;o++)n=ve[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function _e(e,t){this.a=e===Te&&t||"",this.b=Ee}function we(e){return e instanceof _e&&e.constructor===_e&&e.b===Ee?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}_e.prototype.sa=!0,_e.prototype.ra=function(){return this.a},_e.prototype.toString=function(){return"Const{"+this.a+"}"};var Se,Ee={},Te={};function Ie(){if(void 0===Se){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(e){u.console&&u.console.error(e.message)}Se=e}else Se=e}return Se}function Ce(e,t){this.a=t===Ae?e:""}function ke(e){return e instanceof Ce&&e.constructor===Ce?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function Ne(e,t){var n=we(e);if(!xe.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Ie();return new Ce(e=t?t.createScriptURL(e):e,Ae)}(e=n.replace(Pe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof _e?we(e):encodeURIComponent(String(e))})))}Ce.prototype.sa=!0,Ce.prototype.ra=function(){return this.a.toString()},Ce.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Pe=/%{(\w+)}/g,xe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ae={};function Oe(e,t){this.a=t===je?e:""}function De(e){return e instanceof Oe&&e.constructor===Oe?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Oe.prototype.sa=!0,Oe.prototype.ra=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Re=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Le=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Fe=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Me(e){if(e instanceof Oe)return e;if(e="object"==typeof e&&e.sa?e.ra():String(e),Fe.test(e))e=new Oe(e,je);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Le);e=t&&Re.test(t[1])?new Oe(e,je):null}return e}function Ve(e){return e instanceof Oe?e:(e="object"==typeof e&&e.sa?e.ra():String(e),Fe.test(e)||(e="about:invalid#zClosurez"),new Oe(e,je))}var je={},Ue=new Oe("about:invalid#zClosurez",je);function Be(e,t,n){this.a=n===qe?e:""}Be.prototype.sa=!0,Be.prototype.ra=function(){return this.a.toString()},Be.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qe={};function Ge(e,t,n,r){return e=e instanceof Oe?e:Ve(e),t=t||u,n=n instanceof _e?we(n):n||"",t.open(De(e),n,r,void 0)}function Ke(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(oe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function He(e){return He[" "](e),e}He[" "]=f;var ze,Je,Qe=de("Opera"),Ye=de("Trident")||de("MSIE"),Xe=de("Edge"),Ze=Xe||Ye,$e=de("Gecko")&&!(ce(ee.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),et=ce(ee.toLowerCase(),"webkit")&&!de("Edge");function tt(){var e=u.document;return e?e.documentMode:void 0}e:{var nt="",rt=(Je=ee,$e?/rv:([^\);]+)(\)|;)/.exec(Je):Xe?/Edge\/([\d\.]+)/.exec(Je):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Je):et?/WebKit\/(\S+)/.exec(Je):Qe?/(?:Version)[ \/]?(\S+)/.exec(Je):void 0);if(rt&&(nt=rt?rt[1]:""),Ye){var it=tt();if(null!=it&&it>parseFloat(nt)){ze=String(it);break e}}ze=nt}var ot,at={};function st(e){return function(e,t){var n=at;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=te(String(ze)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=le(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||le(0==a[2].length,0==s[2].length)||le(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}u.document&&Ye?ot=tt()||parseInt(ze,10)||void 0:ot=void 0;var ut=ot;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Je){}var ct=!Ye||9<=Number(ut);function lt(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ht(e,t){pe(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:pt.hasOwnProperty(n)?e.setAttribute(pt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ft,dt,pt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function mt(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(m(o)){a="function"==typeof o.item;break e}}a=!1}W(a?$(o):o,r)}}}function gt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function vt(e){u.setTimeout((function(){throw e}),0)}function yt(e,t){dt||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);dt=function(){e.then(wt)}}else dt=function(){var e=wt;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!de("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ft||(ft=function(){var e=u.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=gt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=S((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Gb;n.Gb=null,e()}},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ft(e)):u.setImmediate(e)}}(),bt||(dt(),bt=!0),_t.add(e,t)}var bt=!1,_t=new U;function wt(){for(var e;e=q();){try{e.a.call(e.b)}catch(e){vt(e)}j(B,e)}bt=!1}function St(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Ft(n,Tt,e)}),(function(e){if(!(e instanceof Gt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Ft(n,It,e)}))}catch(e){Ft(this,It,e)}}var Et=0,Tt=2,It=3;function Ct(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ct.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var kt=new V((function(){return new Ct}),(function(e){e.reset()}));function Nt(e,t,n){var r=kt.get();return r.g=e,r.b=t,r.f=n,r}function Pt(e){if(e instanceof St)return e;var t=new St(f);return Ft(t,Tt,e),t}function xt(e){return new St((function(t,n){n(e)}))}function At(e,t,n){Mt(e,t,n,null)||yt(E(t,e))}function Ot(e){return new St((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)At(e[o],E(i,o,!0),E(i,o,!1));else t(r)}))}function Dt(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Et&&1==r?Dt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):jt(n),Ut(n,i,It,t)))}e.c=null}else Ft(e,It,t)}function Rt(e,t){e.b||e.a!=Tt&&e.a!=It||Vt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Lt(e,t,n,r){var i=Nt(null,null,null);return i.a=new St((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Gt?o(t):e(i)}catch(e){o(e)}}:o})),i.a.c=e,Rt(e,i),i.a}function Ft(e,t,n){e.a==Et&&(e===n&&(t=It,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Mt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Vt(e),t!=It||n instanceof Gt||function(e,t){e.g=!0,yt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Mt(e,t,n,r){if(e instanceof St)return Rt(e,Nt(t||f,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(m(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function Vt(e){e.h||(e.h=!0,yt(e.gc,e))}function jt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==It&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Bt(t,n,r);else try{t.c?t.g.call(t.f):Bt(t,n,r)}catch(e){qt.call(null,e)}j(kt,t)}function Bt(e,t,n){t==Tt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}St.prototype.then=function(e,t,n){return Lt(this,m(e)?e:null,m(t)?t:null,n)},St.prototype.$goog_Thenable=!0,(e=St.prototype).oa=function(e,t){return(e=Nt(e,e,t)).c=!0,Rt(this,e),this},e.o=function(e,t){return Lt(this,null,e,t)},e.cancel=function(e){if(this.a==Et){var t=new Gt(e);yt((function(){Dt(this,t)}),this)}},e.$c=function(e){this.a=Et,Ft(this,Tt,e)},e.ad=function(e){this.a=Et,Ft(this,It,e)},e.gc=function(){for(var e;e=jt(this);)Ut(this,e,this.a,this.i);this.h=!1};var qt=vt;function Gt(e){L.call(this,e)}function Kt(){0!=Wt&&(Ht[v(this)]=this),this.xa=this.xa,this.pa=this.pa}I(Gt,L),Gt.prototype.name="cancel";var Wt=0,Ht={};function zt(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=Wt)){var t=v(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ht[t]}}Kt.prototype.xa=!1,Kt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Jt=Object.freeze||function(e){return e},Qt=!Ye||9<=Number(ut),Yt=Ye&&!st("9"),Xt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",f,t),u.removeEventListener("test",f,t)}catch(e){}return e}();function Zt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function $t(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if($e){e:{try{He(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:en[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Zt.prototype.preventDefault=function(){this.defaultPrevented=!0},I($t,Zt);var en=Jt({2:"touch",3:"pen",4:"mouse"});$t.prototype.preventDefault=function(){$t.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Yt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},$t.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++nn,this.va=this.Pa=!1}function on(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function an(e){this.src=e,this.a={},this.b=0}function sn(e,t){var n=t.type;n in e.a&&Y(e.a[n],t)&&(on(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function un(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}an.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=un(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new rn(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(e,t,n,r,i){if(r&&r.once)dn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=Sn(n),e&&e[tn]?Tn(e,t,n,g(r)?!!r.capture:!!r,i):fn(e,t,n,!1,r,i)}function fn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=_n(e);if(s||(e[cn]=s=new an(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=bn,t=Qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else n=Sn(n),e&&e[tn]?In(e,t,n,g(r)?!!r.capture:!!r,i):fn(e,t,n,!0,r,i)}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=Sn(n),e&&e[tn]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=un(o=e.a[t],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=_n(e))&&(t=e.a[t.toString()],e=-1,t&&(e=un(t,n,r,i)),(n=-1<e?t[e]:null)&&mn(n))}function mn(e){if("number"!=typeof e&&e&&!e.va){var t=e.src;if(t&&t[tn])sn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_n(t))?(sn(n,e),0==n.b&&(n.src=null,t[cn]=null)):on(e)}}}function gn(e){return e in ln?ln[e]:ln[e]="on"+e}function vn(e,t,n,r){var i=!0;if((e=_n(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=yn(o,r),i=i&&!1!==o)}return i}function yn(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&mn(e),n.call(r,t)}function bn(e,t){if(e.va)return!0;if(!Qt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new $t(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=vn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=vn(r[i],e,!1,t),n=n&&o}return n}return yn(e,new $t(t,this))}function _n(e){return(e=e[cn])instanceof an?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(e){return m(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function En(){Kt.call(this),this.v=new an(this),this.ac=this,this.gb=null}function Tn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function In(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Cn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&sn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(e,t,n){if(m(e))n&&(e=S(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=S(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function Nn(e){var t=null;return new St((function(n,r){-1==(t=kn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function Pn(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"==typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function xn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(p(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function An(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof An)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function On(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Dn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Dn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I(En,Kt),En.prototype[tn]=!0,En.prototype.addEventListener=function(e,t,n,r){hn(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){pn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.gb;if(n)for(t=[];n;n=n.gb)t.push(n);n=this.ac;var r=e.type||e;if("string"==typeof e)e=new Zt(e,n);else if(e instanceof Zt)e.target=e.target||n;else{var i=e;ye(e=new Zt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Cn(a,r,!0,e)&&i}if(i=Cn(a=e.b=n,r,!0,e)&&i,i=Cn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Cn(a=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)on(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=An.prototype).W=function(){On(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return On(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Dn(this.b,e)?this.b[e]:t},e.set=function(e,t){Dn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Ln?(this.i=void 0!==t?t:e.i,Fn(this,e.c),this.l=e.l,this.a=e.a,Mn(this,e.g),this.f=e.f,Vn(this,rr(e.b)),this.h=e.h):e&&(n=String(e).match(Rn))?(this.i=!!t,Fn(this,n[1]||"",!0),this.l=Gn(n[2]||""),this.a=Gn(n[3]||"",!0),Mn(this,n[4]),this.f=Gn(n[5]||"",!0),Vn(this,n[6]||"",!0),this.h=Gn(n[7]||"")):(this.i=!!t,this.b=new Xn(null,this.i))}function Fn(e,t,n){e.c=n?Gn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Mn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Vn(e,t,n){t instanceof Xn?(e.b=t,function(e,t){t&&!e.f&&(Zn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(er(this,t),nr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Kn(t,Qn)),e.b=new Xn(t,e.i))}function jn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function Bn(e){return e instanceof Ln?new Ln(e):new Ln(e,void 0)}function qn(e,t,n,r){var i=new Ln(null,void 0);return e&&Fn(i,e),t&&(i.a=t),n&&Mn(i,n),r&&(i.f=r),i}function Gn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ln.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Kn(t,Hn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Kn(t,Hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kn(n,"/"==n.charAt(0)?Jn:zn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Kn(n,Yn)),e.join("")},Ln.prototype.resolve=function(e){var t=new Ln(this),n=!!e.c;n?Fn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Mn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ce(i,"./")||ce(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Vn(t,rr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Hn=/[#\/\?@]/g,zn=/[#\?:]/g,Jn=/[#\?]/g,Qn=/[#\?@]/g,Yn=/#/g;function Xn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Zn(e){e.a||(e.a=new An,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $n(e){var t=xn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Xn(null,void 0);e=Pn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function er(e,t){Zn(e),t=ir(e,t),Dn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Dn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&On(e)))}function tr(e,t){return Zn(e),t=ir(e,t),Dn(e.a.b,t)}function nr(e,t,n){er(e,t),0<n.length&&(e.c=null,e.a.set(ir(e,t),$(n)),e.b+=n.length)}function rr(e){var t=new Xn;return t.c=e.c,e.a&&(t.a=new An(e.a),t.b=e.b),t}function ir(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function or(e){var t=[];return sr(new ar,e,t),t.join("")}function ar(){}function sr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),sr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),lr(r,n),n.push(":"),sr(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":lr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Xn.prototype).add=function(e,t){Zn(this),this.c=null,e=ir(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Zn(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Zn(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){Zn(this);var t=[];if("string"==typeof e)tr(this,e)&&(t=Z(t,this.a.get(ir(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=Z(t,e[n])}return t},e.set=function(e,t){return Zn(this),this.c=null,tr(this,e=ir(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(e,t){t.push('"',e.replace(cr,(function(e){var t=ur[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ur[e]=t),t})),'"')}function hr(){var e=Ar();return Ye&&!!ut&&11==ut||/Edge\/\d+/.test(e)}function fr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function dr(e,t){t=t||u.window;var n="about:blank";e&&(n=De(Me(e)||Ue)),t.location.href=n}function pr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<pr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function mr(e){return!!((e=(e||Ar()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function gr(e){e=e||u.window;try{e.close()}catch(e){}}function vr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(t.target=r,ce(n,"crios/")&&(t.target="_blank")),Nr(Ar())==Cr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Oe?n:Me(void 0!==n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=gt(document,"A"),"HTMLAnchorElement"),t=t instanceof Oe?t:Ve(t),a.href=De(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ge("",r,n,a),e=De(t),a&&(Ze&&ce(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new Be(e=(r=Ie())?r.createHTML(e):e,null,qe),r=a.document)&&(r.write(function(e){return e instanceof Be&&e.constructor===Be?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Ge(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function _r(){var e=null;return new St((function(t){"complete"==u.document.readyState?t():(e=function(){t()},dn(window,"load",e))})).o((function(t){throw pn(window,"load",e),t}))}function wr(e){return e=e||Ar(),!("file:"!==Fr()&&"ionic:"!==Fr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sr(){var e=u.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Er(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function Tr(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Ir(){var e=Tr();return"ReactNative"===e||"Node"===e}var Cr="Firefox",kr="Chrome";function Nr(e){var t=e.toLowerCase();return ce(t,"opera/")||ce(t,"opr/")||ce(t,"opios/")?"Opera":ce(t,"iemobile")?"IEMobile":ce(t,"msie")||ce(t,"trident/")?"IE":ce(t,"edge/")?"Edge":ce(t,"firefox/")?Cr:ce(t,"silk/")?"Silk":ce(t,"blackberry")?"Blackberry":ce(t,"webos")?"Webos":!ce(t,"safari/")||ce(t,"chrome/")||ce(t,"crios/")||ce(t,"android")?!ce(t,"chrome/")&&!ce(t,"crios/")||ce(t,"edge/")?ce(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":kr:"Safari"}var Pr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function xr(e,t){t=t||[];var n,r=[],i={};for(n in Pr)i[Pr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=Nr(i=Ar()):"Worker"===r&&(r=Nr(i=Ar())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ar(){return u.navigator&&u.navigator.userAgent||""}function Or(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Dr(){try{var e=u.localStorage,t=Br();if(e)return e.setItem(t,"1"),e.removeItem(t),!hr()||!!u.indexedDB}catch(e){return Er()&&!!u.indexedDB}return!1}function Rr(){return(Lr()||"chrome-extension:"===Fr()||wr())&&!Ir()&&Dr()&&!Er()}function Lr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){return u.location&&u.location.protocol||null}function Mr(e){return!mr(e=e||Ar())&&Nr(e)!=Cr}function Vr(e){return void 0===e?null:or(e)}function jr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ur(e){if(null!==e)return JSON.parse(e)}function Br(e){return e||Math.floor(1e9*Math.random()).toString()}function qr(e){return"Safari"!=Nr(e=e||Ar())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Gr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Kr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ar(),t=Tr(),this.b=mr(e)||"ReactNative"===t}function Wr(){var e=u.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Hr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function zr(){return!(!Or("fireauth.oauthhelper",u)&&!Or("fireauth.iframe",u))}Kr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!=typeof e.onLine||!Lr()&&"chrome-extension:"!==Fr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Jr,Qr={};function Yr(e){Qr[e]||(Qr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Xr={};Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:2}),Jr=2==Xr.abcd}catch(Je){Jr=!1}function Zr(e,t,n){Jr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function $r(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Zr(e,n,t[n])}function ei(e){var t={};return $r(t,e),t}function ti(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Zr(t,n,ti(e[n]));return t}function ni(e){var t=e&&(e[si]?"phone":null);if(!(t&&e&&e[ai]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Zr(this,"uid",e[ai]),Zr(this,"displayName",e[ii]||null);var n=null;e[oi]&&(n=new Date(e[oi]).toUTCString()),Zr(this,"enrollmentTime",n),Zr(this,"factorId",t)}function ri(e){try{var t=new ui(e)}catch(e){t=null}return t}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(e){ni.call(this,e),Zr(this,"phoneNumber",e[si])}function ci(e){var t={},n=e[di],r=e[mi],i=e[gi];if(e=ri(e[pi]),!i||i!=hi&&i!=fi&&!n||i==fi&&!r||i==li&&!e)throw Error("Invalid checkActionCode response!");i==fi?(t[yi]=n||null,t[_i]=n||null,t[vi]=r):(t[yi]=r||null,t[_i]=r||null,t[vi]=n||null),t[bi]=e||null,Zr(this,Si,i),Zr(this,wi,ti(t))}I(ui,ni),ui.prototype.w=function(){var e=ui.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var li="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",mi="newEmail",gi="requestType",vi="email",yi="fromEmail",bi="multiFactorInfo",_i="previousEmail",wi="data",Si="operation";function Ei(e){var t=Un(e=Bn(e),Ti)||null,n=Un(e,Ii)||null,r=Un(e,Ni)||null;if(r=r&&xi[r]||null,!t||!n||!r)throw new k("argument-error",Ti+", "+Ii+"and "+Ni+" are required in a valid action code URL.");$r(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Ci)||null,languageCode:Un(e,ki)||null,tenantId:Un(e,Pi)||null})}var Ti="apiKey",Ii="oobCode",Ci="continueUrl",ki="languageCode",Ni="mode",Pi="tenantId",xi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:hi,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function Ai(e){try{return new Ei(e)}catch(e){return null}}function Oi(e){var t=e[Mi];if(void 0===t)throw new k("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Di];if(n&&"object"==typeof n){t=n[Ui];var r=n[Vi];if(n=n[ji],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",Vi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",ji+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new k("argument-error",Ui+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(t=e[Fi])&&"object"==typeof t){if("string"==typeof(t=t[Bi])&&t.length)this.f=t;else if(void 0!==t)throw new k("argument-error",Bi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new k("argument-error",Fi+" property must be a non null object when specified.");if(void 0!==(t=e[Li])&&"boolean"!=typeof t)throw new k("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Ri])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new k("argument-error",Ri+" property must be a non empty string when specified.");this.i=e||null}var Di="android",Ri="dynamicLinkDomain",Li="handleCodeInApp",Fi="iOS",Mi="url",Vi="installApp",ji="minimumVersion",Ui="packageName",Bi="bundleId";function qi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Gi=null;function Ki(e){var t=Hi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Wi(e){try{return new Ki(e)}catch(e){return null}}function Hi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Gi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Gi){Gi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Gi[o]&&(Gi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(e){}return null}Ki.prototype.T=function(){return this.f},Ki.prototype.l=function(){return this.c},Ki.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ji=["client_id","response_type","scope","redirect_uri","state"],Qi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ji},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ji},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ji},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:zi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Yi(e){for(var t in Qi)if(Qi[t].fa==e)return Qi[t];return null}function Xi(e){var t={};t["facebook.com"]=no,t["google.com"]=io,t["github.com"]=ro,t["twitter.com"]=oo;var n=e&&e[$i];try{if(n)return t[n]?new t[n](e):new to(e);if(void 0!==e[Zi])return new eo(e)}catch(e){}return null}var Zi="idToken",$i="providerId";function eo(e){var t=e[$i];if(!t&&e[Zi]){var n=Wi(e[Zi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Zr(this,"providerId",t),Zr(this,"isNewUser",n)}function to(e){eo.call(this,e),Zr(this,"profile",ti((e=Ur(e.rawUserInfo||"{}"))||{}))}function no(e){if(to.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(e){if(to.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Zr(this,"username",this.profile&&this.profile.login||null)}function io(e){if(to.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(e){if(to.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Zr(this,"username",e.screenName||null)}function ao(e){var t=Bn(e),n=Un(t,"link"),r=Un(Bn(n),"link");return t=Un(t,"deep_link_id"),Un(Bn(t),"link")||t||r||n||e}function so(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?uo:co}I(to,eo),I(no,to),I(ro,to),I(io,to),I(oo,to);var uo="enroll",co="signin";function lo(){}function ho(e,t){return e.then((function(e){if(e[$a]){var n=Wi(e[$a]);if(!n||t!=n.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==x+"user-not-found"?new k("user-mismatch"):e}))}function fo(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,Zr(this,"providerId",e),Zr(this,"signInMethod",e)}function po(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function mo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new fo(e.providerId,e.pendingToken)}catch(e){}return null}function go(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Zr(this,"idToken",t.idToken),t.accessToken&&Zr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Zr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Zr(this,"accessToken",t.oauthToken),Zr(this,"secret",t.oauthTokenSecret)}Zr(this,"providerId",e),Zr(this,"signInMethod",n)}function vo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:$n(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function yo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new go(e.providerId,t,e.signInMethod)}catch(e){}}return null}function bo(e,t){this.Qc=t||[],$r(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(Yi(e)||{}).Ja||null,this.ob=null}function _o(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,e,[])}function wo(e){bo.call(this,e,Ji),this.a=[]}function So(){wo.call(this,"facebook.com")}function Eo(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new So).credential({accessToken:t})}function To(){wo.call(this,"github.com")}function Io(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new To).credential({accessToken:t})}function Co(){wo.call(this,"google.com"),this.Ca("profile")}function ko(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new Co).credential({idToken:n,accessToken:t})}function No(){bo.call(this,"twitter.com",zi)}function Po(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function xo(e,t,n){this.a=e,this.f=t,Zr(this,"providerId","password"),Zr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(e){return e&&e.email&&e.password?new xo(e.email,e.password,e.signInMethod):null}function Oo(){$r(this,{providerId:"password",isOAuthProvider:!1})}function Do(e,t){if(!(t=Ro(t)))throw new k("argument-error","Invalid email link!");return new xo(e,t.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function Ro(e){return(e=Ai(e=ao(e)))&&e.operation===hi?e:null}function Lo(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new k("internal-error");this.a=e,Zr(this,"providerId","phone"),this.fa="phone",Zr(this,"signInMethod","phone")}function Fo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Lo(t)}return null}function Mo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function Vo(e){try{this.a=e||r.Z.auth()}catch(e){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function jo(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new Lo({eb:e,cb:t})}function Uo(e){if(e.temporaryProof&&e.phoneNumber)return new Lo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return ko(o,n);case"facebook.com":return Eo(n);case"github.com":return Io(n);case"twitter.com":return Po(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new fo(t,a):new go(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new wo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function Bo(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function qo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Go(e){return(e=e||{}).type?new qo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&N(e.error),e.postBody,e.tenantId):null}function Ko(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?Pt(this.a):Pt(this.b)},so.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ka=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},fo.prototype.ka=function(e){return _s(e,po(this))},fo.prototype.b=function(e,t){var n=po(this);return n.idToken=t,ws(e,n)},fo.prototype.c=function(e,t){return ho(Ss(e,po(this)),t)},fo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ka=function(e){return _s(e,vo(this))},go.prototype.b=function(e,t){var n=vo(this);return n.idToken=t,ws(e,n)},go.prototype.c=function(e,t){return ho(Ss(e,vo(this)),t)},go.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},bo.prototype.Ka=function(e){return this.Ib=ge(e),this},I(_o,bo),I(wo,bo),wo.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},wo.prototype.Qb=function(){return $(this.a)},wo.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},I(So,wo),Zr(So,"PROVIDER_ID","facebook.com"),Zr(So,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(To,wo),Zr(To,"PROVIDER_ID","github.com"),Zr(To,"GITHUB_SIGN_IN_METHOD","github.com"),I(Co,wo),Zr(Co,"PROVIDER_ID","google.com"),Zr(Co,"GOOGLE_SIGN_IN_METHOD","google.com"),I(No,bo),Zr(No,"PROVIDER_ID","twitter.com"),Zr(No,"TWITTER_SIGN_IN_METHOD","twitter.com"),xo.prototype.ka=function(e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(e,xs,{email:this.a,oobCode:this.f}):ru(e,Zs,{email:this.a,password:this.f})},xo.prototype.b=function(e,t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?ru(e,As,{idToken:t,email:this.a,oobCode:this.f}):ru(e,Ks,{idToken:t,email:this.a,password:this.f})},xo.prototype.c=function(e,t){return ho(this.ka(e),t)},xo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Oo,{PROVIDER_ID:"password"}),$r(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Lo.prototype.ka=function(e){return e.fb(Mo(this))},Lo.prototype.b=function(e,t){var n=Mo(this);return n.idToken=t,ru(e,eu,n)},Lo.prototype.c=function(e,t){var n=Mo(this);return n.operation="REAUTH",ho(e=ru(e,tu,n),t)},Lo.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Vo.prototype.fb=function(e,t){var n=this.a.a;return Pt(t.verify()).then((function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=g(e)?e.session:null,o=g(e)?e.phoneNumber:e;return(i&&i.type==uo?i.Ha().then((function(e){return function(e,t){return ru(e,Hs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==co?i.Ha().then((function(t){return function(e,t){return ru(e,zs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return ru(e,qs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},$r(Vo,{PROVIDER_ID:"phone"}),$r(Vo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},qo.prototype.T=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Wo,Ho=null;function zo(e){var t="unauthorized-domain",n=void 0,r=Bn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ke("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ke("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function Jo(e,t,n){k.call(this,e,n),(e=t||{}).Jb&&Zr(this,"email",e.Jb),e.ea&&Zr(this,"phoneNumber",e.ea),e.credential&&Zr(this,"credential",e.credential),e.Zb&&Zr(this,"tenantId",e.Zb)}function Qo(e){if(e.code){var t=e.code||"";0==t.indexOf(x)&&(t=t.substring(x.length));var n={credential:Uo(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new Jo(t,n,e.message)}return null}function Yo(){}function Xo(e){return e.c||(e.c=e.b())}function Zo(){}function $o(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ea(){}function ta(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=S(this.qc,this),this.a.onerror=S(this.Sb,this),this.a.onprogress=S(this.rc,this),this.a.ontimeout=S(this.vc,this)}function na(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ra(e,t,n){this.reset(e,t,n,void 0,void 0)}function ia(e){this.f=e,this.b=this.c=this.a=null}function oa(e,t){this.name=e,this.value=t}I(zo,k),I(Jo,k),Jo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},Jo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,I(Zo,Yo),Zo.prototype.a=function(){var e=$o(this);return e?new ActiveXObject(e):new XMLHttpRequest},Zo.prototype.b=function(){var e={};return $o(this)&&(e[0]=!0,e[1]=!0),e},Wo=new Zo,I(ea,Yo),ea.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ta;throw Error("Unsupported browser")},ea.prototype.b=function(){return{}},(e=ta.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,na(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",na(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,na(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ra.prototype.a=null,ra.prototype.reset=function(e,t,n,r,i){r||T(),delete this.a},oa.prototype.toString=function(){return this.name};var aa=new oa("SEVERE",1e3),sa=new oa("WARNING",900),ua=new oa("CONFIG",700),ca=new oa("FINE",500);function la(e){return e.c?e.c:e.a?la(e.a):(M("Root logger has no level set."),null)}ia.prototype.log=function(e,t,n){if(e.value>=la(this).value)for(m(t)&&(t=t()),e=new ra(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ha={},fa=null;function da(e){var t;if(fa||(fa=new ia(""),ha[""]=fa,fa.c=ua),!(t=ha[e])){t=new ia(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=da(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ha[e]=t}return t}function pa(e,t){e&&e.log(ca,t,void 0)}function ma(e){this.f=e}function ga(e){En.call(this),this.u=e,this.h=void 0,this.readyState=va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=da("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ma,Yo),ma.prototype.a=function(){return new ga(this.f)},ma.prototype.b=function(e){return function(){return e}}({}),I(ga,En);var va=0;function ya(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function ba(e){e.readyState=4,e.g=null,e.c=null,e.m=null,_a(e)}function _a(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function wa(e){En.call(this),this.headers=new An,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Sa,this.u=this.S=!1}(e=ga.prototype).open=function(e,t){if(this.readyState!=va)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,_a(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ba(this)),this.readyState=va},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,_a(this)),this.a&&(this.readyState=3,_a(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ya(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ba(this):_a(this),3==this.readyState&&ya(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ba(this))},e.sc=function(e){this.a&&(this.response=e,ba(this))},e.Ua=function(e){var t=this.i;t&&t.log(sa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ba(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(sa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(sa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),I(wa,En);var Sa="";wa.prototype.b=da("goog.net.XhrIo");var Ea=/^https?$/i,Ta=["POST","PUT"];function Ia(e){return"content-type"==e.toLowerCase()}function Ca(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ka(e),Pa(e)}function ka(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Na(e){if(e.c&&void 0!==s)if(e.C[1]&&4==Aa(e)&&2==Oa(e))pa(e.b,Da(e,"Local request error detected and ignored"));else if(e.i&&4==Aa(e))kn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==Aa(e)){pa(e.b,Da(e,"Request complete")),e.c=!1;try{var t,n=Oa(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Rn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ea.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Aa(e)?e.a.statusText:""}catch(t){pa(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Oa(e)+"]",ka(e)}}finally{Pa(e)}}}function Pa(e,t){if(e.a){xa(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(aa,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function xa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function Aa(e){return e.a?e.a.readyState:0}function Oa(e){try{return 2<Aa(e)?e.a.status:-1}catch(e){return-1}}function Da(e,t){return t+" ["+e.R+" "+e.l+" "+Oa(e)+"]"}function Ra(e){var t=Wa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function La(e,t,n){e.a=!0,e.c=n,e.f=!t,ja(e)}function Fa(e){if(e.a){if(!e.v)throw new Ua(e);e.v=!1}}function Ma(e,t,n,r){e.g.push([t,n,r]),e.a&&ja(e)}function Va(e){return J(e.g,(function(e){return m(e[1])}))}function ja(e){if(e.h&&e.a&&Va(e)){var t=e.h,n=Ga[t];n&&(u.clearTimeout(n.a),delete Ga[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(R(t)||"function"==typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,Va(e)||(n=!0)}}e.c=t,r&&(s=S(e.m,e,!0),r=S(e.m,e,!1),t instanceof Ra?(Ma(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new qa(t),Ga[t.a]=t,e.h=t.a)}function Ua(){L.call(this)}function Ba(){L.call(this)}function qa(e){this.a=u.setTimeout(S(this.c,this),0),this.b=e}(e=wa.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",pa(this.b,Da(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(pa(this.b,Da(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Pa(this,!0)),wa.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?Na(this):this.Jc())},e.Jc=function(){Na(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Sa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(aa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return pa(this.b,"Can not get response: "+e.message),null}},Ra.prototype.cancel=function(e){if(this.a)this.c instanceof Ra&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ba(this),Fa(this),La(this,!1,e))}},Ra.prototype.m=function(e,t){this.i=!1,La(this,e,t)},Ra.prototype.then=function(e,t,n){var r,i,o=new St((function(e,t){r=e,i=t}));return Ma(this,r,(function(e){e instanceof Ba?o.cancel():i(e)})),o.then(e,t,n)},Ra.prototype.$goog_Thenable=!0,I(Ua,L),Ua.prototype.message="Deferred has already fired",Ua.prototype.name="AlreadyCalledError",I(Ba,L),Ba.prototype.message="Deferred was canceled",Ba.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Ga[this.a],this.b};var Ga={};function Ka(e){var t={},n=t.document||document,r=ke(e).toString(),i=gt(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ra(o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Ha(i,!0);var e=new Qa(Ja,"Timeout reached for loading script "+r);Fa(a),La(a,!1,e)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ha(i,t.xd||!1,s),Fa(a),La(a,!0,null))},i.onerror=function(){Ha(i,!0,s);var e=new Qa(za,"Error while loading script "+r);Fa(a),La(a,!1,e)},ye(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ht(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=ke(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=h(t.document):(null===l&&(l=h(u.document)),t=l),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Wa(){if(this&&this.Wb){var e=this.Wb;e&&"SCRIPT"==e.tagName&&Ha(e,!0,this.Ma)}}function Ha(e,t,n){null!=n&&u.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var za=0,Ja=1;function Qa(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),L.call(this,n),this.code=e}function Ya(e){this.f=e}function Xa(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||es,this.g=ge(e.secureTokenHeaders||ts),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ns,this.a=ge(e.firebaseHeaders||rs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=u.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest)&&!Er())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new ma(self):Ir()?this.f=new Ya(n):this.f=new ea,this.b=null}I(Qa,L),I(Ya,Yo),Ya.prototype.a=function(){return new this.f},Ya.prototype.b=function(){return{}};var Za,$a="idToken",es=new Kr(3e4,6e4),ts={"Content-Type":"application/x-www-form-urlencoded"},ns=new Kr(3e4,6e4),rs={"Content-Type":"application/json"};function is(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function os(e,t){t&&(e.l=as("https://securetoken.googleapis.com/v1/token",t),e.h=as("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=as("https://identitytoolkit.googleapis.com/v2/",t))}function as(e,t){return e=Bn(e),t=Bn(t.url),e.f=e.a+e.f,Fn(e,t.c),e.a=t.a,Mn(e,t.g),e.toString()}function ss(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function us(e,t,n,r,i,o,a){(function(){var e=Ar();return!((e=Nr(e)!=kr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Ye&&ut&&!(9<ut))})()||Er()?e=S(e.u,e):(Za||(Za=new St((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(u[ls]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ma(e,null,t,void 0)}(Ka(Ne(cs,{onload:ls})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=S(e.s,e)),e(t,n,r,i,o,a)}Xa.prototype.T=function(){return this.b},Xa.prototype.u=function(e,t,n,r,i,o){if(Er()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new wa(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return pa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),In(a,"ready",(function(){s&&clearTimeout(s),zt(this)})),In(a,"timeout",(function(){s&&clearTimeout(s),zt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Wo.a(),e.C=e.D?Xo(e.D):Xo(Wo),e.a.onreadystatechange=S(e.Vb,e);try{pa(e.b,Da(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return pa(e.b,Da(e,"Error opening Xhr: "+t.message)),void Ca(e,t)}t=r||"";var o=new An(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"==typeof e)W(e,t,void 0);else for(var n=xn(e),r=Pn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Ia,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=u.FormData&&t instanceof u.FormData,!Q(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{xa(e),0<e.g&&(e.u=function(e){return Ye&&st(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),pa(e.b,Da(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=S(e.Ma,e)):e.s=kn(e.Ma,e.g,e)),pa(e.b,Da(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){pa(e.b,Da(e,"Send error: "+t.message)),Ca(e,t)}}(a,e,n,r,i)};var cs=new _e(Te,"https://apis.google.com/js/client.js?onload=%{onload}"),ls="__fcb"+Math.floor(1e6*Math.random()).toString();function hs(e){if("string"!=typeof(e=e.email)||!br.test(e))throw new k("invalid-email")}function fs(e){"email"in e&&hs(e)}function ds(e){if(!e[$a]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,ge(e));throw new k("internal-error")}}function ps(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}Xa.prototype.s=function(e,t,n,r,i){var o=this;Za.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Xa.prototype.zb=function(){return ru(this,Ws,{})},Xa.prototype.Bb=function(e,t){return ru(this,Gs,{idToken:e,email:t})},Xa.prototype.Cb=function(e,t){return ru(this,Ks,{idToken:e,password:t})};var ms={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function gs(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function vs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function ys(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&tr(e=new Xn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function bs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Qo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Qo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Qo(e)):e.errorMessage&&(t=iu(e.errorMessage)),t)throw t;ds(e)}function _s(e,t){return t.returnIdpCredential=!0,ru(e,Js,t)}function ws(e,t){return t.returnIdpCredential=!0,ru(e,Ys,t)}function Ss(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,ru(e,Qs,t)}function Es(e){if(!e.oobCode)throw new k("invalid-action-code")}(e=Xa.prototype).Db=function(e,t){var n={idToken:e},r=[];return pe(ms,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Gs,n)},e.vb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),ru(this,Vs,e)},e.wb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),ru(this,Ls,e)},e.ub=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),ru(this,Fs,e)},e.Eb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),ru(this,Ms,e)},e.fb=function(e){return ru(this,$s,e)},e.nb=function(e,t){return ru(this,Bs,{oobCode:e,newPassword:t})},e.Ra=function(e){return ru(this,Is,{oobCode:e})},e.jb=function(e){return ru(this,Ts,{oobCode:e})};var Ts={endpoint:"setAccountInfo",A:Es,Z:"email",B:!0},Is={endpoint:"resetPassword",A:Es,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},B:!0},Cs={endpoint:"signupNewUser",A:function(e){if(hs(e),!e.password)throw new k("weak-password")},G:ds,V:!0,B:!0},ks={endpoint:"createAuthUri",B:!0},Ns={endpoint:"deleteAccount",N:["idToken"]},Ps={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},xs={endpoint:"emailLinkSignin",N:["email","oobCode"],A:hs,G:ds,V:!0,B:!0},As={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:hs,G:ds,V:!0},Os={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:gs,G:ds,B:!0,Na:!0},Ds={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:gs,G:ds,B:!0,Na:!0},Rs={endpoint:"getAccountInfo"},Ls={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");hs(e)},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");hs(e)},Z:"email",B:!0},js={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Us={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},Bs={endpoint:"resetPassword",A:Es,Z:"email",B:!0},qs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Gs={endpoint:"setAccountInfo",N:["idToken"],A:fs,V:!0},Ks={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(fs(e),!e.password)throw new k("weak-password")},G:ds,V:!0},Ws={endpoint:"signupNewUser",G:ds,V:!0,B:!0},Hs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},zs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Js={endpoint:"verifyAssertion",A:vs,Ya:ys,G:bs,V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:vs,Ya:ys,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw iu(e.errorMessage);ds(e)},V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:function(e){if(vs(e),!e.idToken)throw new k("internal-error")},Ya:ys,G:bs,V:!0},Xs={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:ds,V:!0,B:!0},Zs={endpoint:"verifyPassword",A:function(e){if(hs(e),!e.password)throw new k("wrong-password")},G:ds,V:!0,B:!0},$s={endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},eu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");ps(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Qo(e);ds(e)}},tu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[$a]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function ru(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.N))return xt(new k("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return Pt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=Bn(t+n);jn(s,"key",e.c),a&&jn(s,"cb",T().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&jn(s,c,i[c]);return new St((function(t,n){us(e,s.toString(),(function(e){e?e.error?n(ou(e,o||{})):t(e):n(new k("network-request-failed"))}),r,u?void 0:or(jr(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]}))}function iu(e){return ou({error:{errors:[{message:e}],code:400,message:e}})}function ou(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],t);return!t&&e&&(t=Vr(e)),new k("internal-error",t)}function au(e){this.b=e,this.a=null,this.rb=function(e){return(lu||(lu=new St((function(e,t){function n(){Gr(),Or("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Gr(),t(Error("Network Error"))},timeout:uu.get()})}if(Or("gapi.iframes.Iframe"))e();else if(Or("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Or("gapi.load")?n():t(Error("Network Error"))},Pt(Ka(r=Ne(su,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw lu=null,e})))).then((function(){return new St((function(t,n){Or("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new _e(Te,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Kr(3e4,6e4),cu=new Kr(5e3,15e3),lu=null;function hu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?qn((e=Bn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):qn("https",this.l,null,"/__/auth/iframe"),this.a=e,jn(this.a,"apiKey",this.h),jn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(e){try{return r.Z.app(e).auth().Ga()}catch(e){return[]}}function pu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function mu(e){var t=fr();return function(e){return ru(e,js,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Bn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Bn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new zo(fr())}))}function gu(e){return e.m||(e.m=_r().then((function(){if(!e.u){var t=e.c,n=e.i,r=du(e.b),i=new hu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=$(r||[]),e.u=i.toString()}e.v=new au(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Go(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Pt(n)}return n.status="ERROR",Pt(n)}))}(e)}))),e.m}function vu(e){return e.l||(e.C=e.c?xr(e.c,du(e.b)):null,e.l=new Xa(e.g,D(e.i),e.C),e.f&&os(e.l,e.f)),e.l}function yu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new fu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ge(u||null),e.f=c,e.yb(l).toString()}function bu(e){if(this.a=e||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function _u(e){this.b=e,this.a={},this.f=S(this.c,this)}hu.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):er(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):er(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):er(this.a.b,"fw"),this.a.toString()},fu.prototype.yb=function(e){return this.h=e,this},fu.prototype.toString=function(){if(this.v){var e=Bn(this.v.url);e=qn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=qn("https",this.u,null,"/__/auth/handler");if(jn(e,"apiKey",this.s),jn(e,"appName",this.c),jn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(e){n=null}for(var i in t.ob=n,jn(e,"providerId",this.a.providerId),t=jr((n=this.a).Ib))t[i]=t[i].toString();i=n.Qc,t=ge(t);for(var o=0;o<i.length;o++){var a=i[o];a in t&&delete t[a]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),me(t)||jn(e,"customParameters",Vr(t))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&jn(e,"scopes",n.join(",")),this.l?jn(e,"redirectUrl",this.l):er(e.b,"redirectUrl"),this.g?jn(e,"eventId",this.g):er(e.b,"eventId"),this.i?jn(e,"v",this.i):er(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(e,s)&&jn(e,s,this.b[s]);return this.h?jn(e,"tid",this.h):er(e.b,"tid"),this.f?jn(e,"eid",this.f):er(e.b,"eid"),(s=du(this.c)).length&&jn(e,"fw",s.join(",")),e.toString()},(e=pu.prototype).Ob=function(e,t,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return gu(e).then((function(){return function(e,t){return e.rb.then((function(){return new St((function(n){e.a.send(t.type,t,n,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&gr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new St((function(t){return function n(){Nn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Nn(n).then((function(){t(r)}))}))},e.Xb=function(){var e=Ar();return!Mr(e)&&!qr(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,a,s){if(!e)return xt(new k("popup-blocked"));if(a&&!Mr())return this.ma().o((function(t){gr(e),i(t)})),r(),Pt();this.a||(this.a=mu(vu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw gr(e),i(t),t}));return r(),t})).then((function(){Bo(n),a||dr(yu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=mu(vu(this)));var i=this;return this.a.then((function(){Bo(t),dr(yu(i.s,i.g,i.b,e,t,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return gu(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new k("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){X(this.h,(function(t){return t==e}))},(e=bu.prototype).get=function(e){return Pt(this.a.getItem(e)).then((function(e){return e&&Ur(e)}))},e.set=function(e,t){return Pt(this.a.setItem(e,Vr(t)))},e.U=function(e){return Pt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var wu,Su=[];function Eu(e,t,n){me(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Tu(e){this.a=e}function Iu(e){this.c=e,this.b=!1,this.a=[]}function Cu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return xt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new St((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return ku(e,c),t})).o((function(t){throw ku(e,c),t}))}function ku(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(e.a,(function(e){return e==t}))}}function Nu(){if(!Ou())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Er()&&self?(this.v=function(){var e=Er()?self:null;if(W(Su,(function(n){n.b==e&&(t=n)})),!t){var t=new _u(e);Su.push(t)}return t}(),Eu(this.v,"keyChanged",(function(t,n){return Mu(e).then((function(t){return 0<t.length&&W(e.a,(function(e){e(t)})),{keyProcessed:Q(t,n.key)}}))})),Eu(this.v,"ping",(function(){return Pt(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?Pt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Pt(null)}().then((function(t){(e.h=t)&&(e.g=new Iu(new Tu(t)),Cu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Pu(e){return new St((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new St((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Pu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function xu(e){return e.i||(e.i=Pu(e)),e.i}function Au(e,t){var n=0;return new St((function r(i,o){xu(e).then(t).then(i).o((function(t){if(!(3<++n))return xu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Ou(){try{return!!u.indexedDB}catch(e){return!1}}function Du(e){return e.objectStore("firebaseLocalStorage")}function Ru(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Lu(e){return new St((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Fu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Cu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Pt()}function Mu(e){return xu(e).then((function(e){var t=Du(Ru(e,!1));return t.getAll?Lu(t.getAll()):new St((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=pr(e.c,n),e.c=n}return r}))}function Vu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function ju(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Pt().then((function(){if(Ou()){var e=Br(),r="__sak"+e;return wu||(wu=new Nu),(n=wu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){W(t.a,(function(t){t(e)}))})),e}))}function Uu(){this.a={},this.type="inMemory"}function Bu(){if(!function(){var e="Node"==Tr();if(!(e=qu()||e&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Tr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=qu()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var e=u.localStorage,t=Br();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Gu(){this.type="nullStorage"}function Ku(){if(!function(){var e="Node"==Tr();if(!(e=Wu()||e&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Tr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Wu()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wu(){try{var e=u.sessionStorage,t=Br();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Hu(){var e={};e.Browser=Qu,e.Node=Yu,e.ReactNative=Xu,e.Worker=Zu,this.a=e[Tr()]}_u.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];W(r,(function(t){i.push(Pt().then((function(){return t(e.origin,e.data.data)})))})),Ot(i).then((function(r){var i=[];W(r,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),W(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Tu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Iu.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(e=Nu.prototype).set=function(e,t){var n=this,r=!1;return Au(this,(function(t){return Lu((t=Du(Ru(t,!0))).get(e))})).then((function(i){return Au(n,(function(o){if(o=Du(Ru(o,!0)),i)return i.value=t,Lu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Lu(o.add(a))}))})).then((function(){return n.c[e]=t,Fu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Au(this,(function(t){return Lu(Du(Ru(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Au(this,(function(r){return n=!0,t.b++,Lu(Du(Ru(r,!0)).delete(e))})).then((function(){return delete t.c[e],Fu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){Vu(e),function t(){e.f=setTimeout((function(){e.l=Mu(e).then((function(t){0<t.length&&W(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ia=function(e){X(this.a,(function(t){return t==e})),0==this.a.length&&Vu(this)},(e=ju.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){X(this.a,(function(t){return t==e}))},(e=Uu.prototype).get=function(e){return Pt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Pt()},e.U=function(e){return delete this.a[e],Pt()},e.ca=function(){},e.ia=function(){},(e=Bu.prototype).get=function(e){var t=this;return Pt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Pt().then((function(){var r=Vr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){u.window&&hn(u.window,"storage",e)},e.ia=function(e){u.window&&pn(u.window,"storage",e)},(e=Gu.prototype).get=function(){return Pt(null)},e.set=function(){return Pt()},e.U=function(){return Pt()},e.ca=function(){},e.ia=function(){},(e=Ku.prototype).get=function(e){var t=this;return Pt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Pt().then((function(){var r=Vr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var zu,Ju,Qu={F:Bu,bb:Ku},Yu={F:Bu,bb:Ku},Xu={F:bu,bb:Gu},Zu={F:Bu,bb:Gu},$u={rd:"local",NONE:"none",td:"session"};function ec(){var e=!(qr(Ar())||!Sr()),t=Mr(),n=Dr();this.m=e,this.h=t,this.l=n,this.a={},zu||(zu=new Hu),e=zu;try{this.g=!hr()&&zr()||!u.indexedDB?new e.a.F:new ju(Er()?new Uu:new e.a.F)}catch(e){this.g=new Uu,this.h=!0}try{this.i=new e.a.bb}catch(e){this.i=new Uu}this.v=new Uu,this.f=S(this.Yb,this),this.b={}}function tc(){return Ju||(Ju=new ec),Ju}function nc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function rc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ic(e,t,n){return n=rc(t,n),"local"==t.F&&(e.b[n]=null),nc(e,t.F).U(n)}function oc(e){e.c&&(clearInterval(e.c),e.c=null)}function ac(e){this.a=e,this.b=tc()}(e=ec.prototype).get=function(e,t){return nc(this,e.F).get(rc(e,t))},e.set=function(e,t,n){var r=rc(e,n),i=this,o=nc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=rc(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),me(this.a)&&(nc(this,"local").ca(this.f),this.h||(hr()||!zr())&&u.indexedDB||!this.l||function(e){oc(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new $t({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Yb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=rc(e,t),this.a[e]&&(X(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),me(this.a)&&(nc(this,"local").ia(this.f),oc(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.mb(t))},Ye&&ut&&10==ut&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else W(e,S(this.mb,this))},e.mb=function(e){this.a[e]&&W(this.a[e],(function(e){e()}))};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=tc()}function lc(e,t){this.b=hc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=u.Int32Array?new Int32Array(yc):yc),this.reset()}I(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var mc=Z(128,dc);function gc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|sc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function vc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(gc(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(gc(e),i=0)}}e.c=i,e.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):$(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,_c)}I(bc,lc);var _c=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Sc(e){return new k("invalid-cordova-configuration",e)}function Ec(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Tc(e){return e.f||(e.f=e.ma().then((function(){return new St((function(t){e.Ea((function n(r){return t(r),e.Sa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Ic(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=ao(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ur(Un(o=Bn(i),"firebaseError")||null))?N(o):null)?new qo(r.c,r.b,null,null,o,null,r.T()):new qo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(e,i)}))}var n=new qo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=Nn(500).then((function(){return Ic(e).then((function(){r||Ec(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Or("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Ho||(Ho=new Ko),function(e){var t=Ho;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Or("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Ic(e){var t=null;return function(e){return e.b.get(uc,e.a).then((function(e){return Go(e)}))}(e.g).then((function(n){return t=n,ic((n=e.g).b,uc,n.a)})).then((function(){return t}))}function Cc(e){this.a=e,this.b=tc()}(e=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?_r().then((function(){return new St((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):xt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Or("universalLinks.subscribe",u))throw Sc("cordova-universal-links-plugin-fix is not installed");if(void 0===Or("BuildInfo.packageName",u))throw Sc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Or("cordova.plugins.browsertab.openUrl",u))throw Sc("cordova-plugin-browsertab is not installed");if("function"!=typeof Or("cordova.InAppBrowser.open",u))throw Sc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},e.Ob=function(e,t){return t(new k("operation-not-supported-in-this-environment")),Pt()},e.Mb=function(){return xt(new k("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return xt(new k("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Pt().then((function(){return Bo(t),Tc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new qo(t,r,null,o,new k("no-auth-event"),null,i),s=Or("BuildInfo.packageName",u);if("string"!=typeof s)throw new k("invalid-cordova-configuration");var c=Or("BuildInfo.displayName",u),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Ar().toLowerCase().match(/android/))return xt(new k("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=function(e){var t=new bc;vc(t,e),e=[];var n=8*t.g;56>t.c?vc(t,mc,56-t.c):vc(t,mc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(gc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return z(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),l.sessionId=o;var h=yu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(uc,a.w(),t)})).then((function(){var t=Or("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof t)throw new k("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Or("cordova.plugins.browsertab.openUrl",u)))throw new k("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Or("cordova.InAppBrowser.open",u)))throw new k("invalid-cordova-configuration");t=Ar(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new St((function(e,t){s=function(){var t=Or("cordova.plugins.browsertab.close",u);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=Nn(2e3).then((function(){t(new k("redirect-cancelled-by-user"))})))},l=function(){Wr()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Ic(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null}))},e.Ea=function(e){this.b.push(e),Tc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new qo("unknown",null,null,null,new k("no-auth-event")),e(t))}))},e.Sa=function(e){X(this.b,(function(t){return t==e}))};var kc={name:"pendingRedirect",F:"session"};function Nc(e){return ic(e.b,kc,e.a)}function Pc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=S(this.s,this),this.b=new Kc,this.C=new Qc,this.g=new Cc(qc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,P,this.J)}function xc(e,t,n,i,o){var a=r.Z.SDK_VERSION||null;return wr()?new wc(e,t,n,a,i,o):new pu(e,t,n,a,i,o)}function Ac(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Oc(e){e.a.Xb()&&Ac(e).o((function(t){var n=new qo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Vc(t)&&e.s(n)})),e.a.Tb()||Wc(e.b)}function Dc(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(kc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Nc(e.g).then((function(){Ac(e).o((function(t){var n=new qo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Vc(t)&&e.s(n)}))})):Oc(e)})).o((function(){Oc(e)}))}function Rc(e,t){X(e.h,(function(e){return e==t}))}Pc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Pc.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=T()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=T())),t=!0;break}}return Wc(this.b),t};var Lc=new Kr(2e3,1e4),Fc=new Kr(3e4,6e4);function Mc(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Vc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function jc(e,t,n,r,i){var o;return function(e){return e.b.set(kc,"pending",e.a)}(e.g).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(Vc(t))throw new k("operation-not-supported-in-this-environment");return o=t,Nc(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new St((function(){})):Nc(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Uc(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),Lc.get())}Pc.prototype.qa=function(){return this.b.qa()};var Bc={};function qc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Gc(e,t,n,r){var i=qc(t,n,r);return Bc[i]||(Bc[i]=new Pc(e,t,n,r)),Bc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(e){e.g||(e.g=!0,Jc(e,!1,null,null))}function Hc(e){e.g&&!e.i&&Jc(e,!1,null,null)}function zc(e,t){if(e.b=function(){return Pt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Jc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return xt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):zc(e,n):zc(e,{user:null}),e.f=[],e.c=[]}function Qc(){}function Yc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function Xc(e,t){this.a=t,Zr(this,"verificationId",e)}function Zc(e,t,n,r){return new Vo(e).fb(t,n).then((function(e){return new Xc(e,r)}))}function $c(e){var t=Hi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:e,expirationTime:Hr(1e3*t.exp),authTime:Hr(1e3*t.auth_time),issuedAtTime:Hr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function el(e,t,n){var r=t&&t[nl];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ge(t),this.g=n,this.c=new so(null,r),this.b=[];var i=this;W(t[tl]||[],(function(e){(e=ri(e))&&i.b.push(e)})),Zr(this,"auth",this.a),Zr(this,"session",this.c),Zr(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Jc(this,!0,null,e.a),Pt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Jc(e,s,t,null)})).o((function(t){Jc(e,s,null,t)}))}(this,e,t):xt(new k("invalid-auth-event")):(Jc(this,!1,null,null),Pt())}else xt(new k("invalid-auth-event"))},Kc.prototype.qa=function(){var e=this;return new St((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=Nn(Fc.get()).then((function(){e.b||(e.g=!0,Jc(e,!0,null,t))}))}(e))}))},Qc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Pt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):xt(new k("invalid-auth-event"))}else xt(new k("invalid-auth-event"))},Xc.prototype.confirm=function(e){return e=jo(this.verificationId,e),this.a(e)};var tl="mfaInfo",nl="mfaPendingCredential";function rl(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new el(e,t,n),Zr(this,"resolver",this.b)}function il(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new rl(t,e.serverResponse,n,e.message)}catch(e){}return null}function ol(){}function al(e){Zr(this,"factorId",e.fa),this.a=e}function sl(e){if(al.call(this,e),this.a.fa!=Vo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(e,t){for(var n in Zt.call(this,e),t)this[n]=t[n]}function cl(e,t){this.a=e,this.b=[],this.c=S(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&W(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ai]=e.uid),e.displayName&&(r[ii]=e.displayName),e.enrollmentTime&&(r[oi]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[si]=e.phoneNumber);try{t=new ui(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),ll(this,n)}function ll(e,t){e.b=t,Zr(e,"enrolledFactors",t)}function hl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(e,t){e.stop(),e.b=Nn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return Wr()||!e?Pt():new St((function(n){t=function(){Wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){fl(e,!0)})).o((function(t){e.i(t)&&fl(e,!1)}))}function dl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function pl(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function ml(e,t){e.b=Wi(t[$a]||""),e.a=t.refreshToken,pl(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function gl(e,t){this.a=e||null,this.b=t||null,$r(this,{lastSignInTime:Hr(t||null),creationTime:Hr(e||null)})}function vl(e,t,n,r,i,o){$r(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function yl(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION):null;this.a=new Xa(this.l,D(P),i),e.emulatorConfig&&os(this.a,e.emulatorConfig),this.b=new dl(this.a),Cl(this,t[$a]),ml(this.b,t),Zr(this,"refreshToken",this.b.a),Pl(this,n||{}),En.call(this),this.R=!1,this.s&&Rr()&&(this.i=Gc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(e){return new hl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.aa=S(this.hb,this);var o=this;this.ya=null,this.Oa=function(e){o.wa(e.h)},this.ja=null,this.Aa=function(e){os(o.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){wl(o,e.f)},this.ba=null,this.O=new cl(this,n),Zr(this,"multiFactor",this.O)}function bl(e,t){e.ja&&pn(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&hn(t,"languageCodeChanged",e.Oa)}function _l(e,t){e.X&&pn(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&hn(t,"emulatorConfigChanged",e.Aa)}function wl(e,t){e.$=t,ss(e.a,r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION,e.$):null)}function Sl(e,t){e.ba&&pn(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&hn(t,"frameworkChanged",e.Ba)}function El(e){try{return r.Z.app(e.m).auth()}catch(t){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Tl(e){e.D||e.u.b||(e.u.start(),pn(e,"tokenChanged",e.aa),hn(e,"tokenChanged",e.aa))}function Il(e){pn(e,"tokenChanged",e.aa),e.u.stop()}function Cl(e,t){e.za=t,Zr(e,"_lat",t)}function kl(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Ot(t).then((function(){return e}))}function Nl(e){e.i&&!e.R&&(e.R=!0,Dc(e.i,e))}function Pl(e,t){$r(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new gl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function xl(){}function Al(e){return Pt().then((function(){if(e.D)throw new k("app-deleted")}))}function Ol(e){return z(e.providerData,(function(e){return e.providerId}))}function Dl(e,t){t&&(Rl(e,t.providerId),e.providerData.push(t))}function Rl(e,t){X(e.providerData,(function(e){return e.providerId==t}))}function Ll(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Zr(e,t,n)}function Fl(e,t){e!=t&&($r(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Zr(e,"metadata",function(e){return new gl(e.a,e.b)}(t.metadata)):Zr(e,"metadata",new gl),W(t.providerData,(function(t){Dl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Zr(e,"refreshToken",e.b.a),ll(e.O,t.O.b))}function Ml(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return ru(e.a,Rs,{idToken:t}).then(S(e.Kc,e))}(e,t).then((function(){return n||Ll(e,"isAnonymous",!1),t}))}))}function Vl(e,t){t[$a]&&e.za!=t[$a]&&(ml(e.b,t),e.dispatchEvent(new ul("tokenChanged")),Cl(e,t[$a]),Ll(e,"refreshToken",e.b.a))}function jl(e,t){return Ml(e).then((function(){if(Q(Ol(e),t))return kl(e).then((function(){throw new k("provider-already-linked")}))}))}function Ul(e,t,n){return ei({user:e,credential:Uo(t),additionalUserInfo:t=Xi(t),operationType:n})}function Bl(e,t){return Vl(e,t),e.reload().then((function(){return e}))}function ql(e,t,n,i,o){if(!Rr())return xt(new k("operation-not-supported-in-this-environment"));if(e.h&&!o)return xt(e.h);var a=Yi(n.providerId),s=Br(e.uid+":::"),u=null;(!Mr()||Sr())&&e.s&&n.isOAuthProvider&&(u=yu(e.s,e.l,e.m,t,n,null,s,r.Z.SDK_VERSION||null,null,null,e.tenantId));var c=vr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Kl(e),!o)return e.I().then((function(){}))})).then((function(){return Mc(e.i,c,t,n,s,!!u,e.tenantId)})).then((function(){return new St((function(n,r){e.na(t,null,new k("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=s,e.c=Uc(e.i,e,t,c,s)}))})).then((function(e){return c&&gr(c),e?ei(e):null})).o((function(e){throw c&&gr(c),e})),Wl(e,i,o)}function Gl(e,t,n,r,i){if(!Rr())return xt(new k("operation-not-supported-in-this-environment"));if(e.h&&!i)return xt(e.h);var o=null,a=Br(e.uid+":::");return r=r().then((function(){if(Kl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,kl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Jl,e.w(),t.a)),t})).then((function(){return jc(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Ql(e.ha);throw o})).then((function(){if(o)throw o})),Wl(e,r,i)}function Kl(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Wl(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),xt(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new ul("userInvalidated")),e.h=t),t}))}(e,t,n);return e.J.push(r),r.oa((function(){Y(e.J,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=il(t.w(),El(e),S(e.jc,e))),n||t}))}function Hl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[$a]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new yl(t,n,e);return e.providerData&&W(e.providerData,(function(e){e&&Dl(i,ei(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function zl(e){this.a=e,this.b=tc()}el.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=ge(t.f);return delete n[tl],delete n[nl],ye(n,e),t.g(n)}))},I(rl,k),ol.prototype.sb=function(e,t,n){return t.type==uo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ye(n,{phoneVerificationInfo:Mo(e.a)}),ru(t,Os,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(e.a)}),ru(t,Ds,n)}))}(this,e,t)},I(al,ol),I(sl,al),I(ul,Zt),(e=cl.prototype).yc=function(e){ll(this,function(e){var t=[];return W(e.mfaInfo||[],(function(e){(e=ri(e))&&t.push(e)})),t}(e.hd))},e.Rb=function(){return this.a.I().then((function(e){return new so(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return Vl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return ru(r,nu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=H(t.b,(function(e){return e.uid!=n}));return ll(t,r),Vl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(e){return e.w()}))}}},hl.prototype.start=function(){this.a=this.c,fl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?xt(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new St((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?us(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(ou(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",$n(t).toString(),e.g,e.m.get()):r(new k("internal-error"))}))}(e.f,t).then((function(t){return e.b=Wi(t.access_token),e.a=t.refresh_token,pl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Pt(null):Pt({accessToken:this.b.toString(),refreshToken:this.a})},gl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(yl,En),yl.prototype.wa=function(e){this.ya=e,is(this.a,e)},yl.prototype.la=function(){return this.ya},yl.prototype.Ga=function(){return $(this.$)},yl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Zr(yl.prototype,"providerId","firebase"),(e=yl.prototype).reload=function(){var e=this;return Wl(this,Al(this).then((function(){return Ml(e).then((function(){return kl(e)})).then(xl)})))},e.oc=function(e){return this.I(e).then((function(e){return new $c(e)}))},e.I=function(e){var t=this;return Wl(this,Al(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.za&&(Cl(t,e.accessToken),t.dispatchEvent(new ul("tokenChanged"))),Ll(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");Pl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?z(e,(function(e){return new vl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Dl(this,t[n]);Ll(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{hd:e}))},e.Lc=function(e){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return Wl(this,e.c(this.a,this.uid).then((function(e){return Vl(t,e),n=Ul(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return Wl(this,jl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Ul(t,e,"link"),Bl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Wl(this,jl(this,"phone").then((function(){return Zc(El(n),e,t,S(n.qb,n))})))},e.Mc=function(e,t){var n=this;return Wl(this,Pt().then((function(){return Zc(El(n),e,t,S(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return Wl(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return Vl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Wl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Vl(t,e),t.reload()})))},e.Cb=function(e){var t=this;return Wl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Vl(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Al(this);var t=this;return Wl(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Vl(t,e),Ll(t,"displayName",e.displayName||null),Ll(t,"photoURL",e.photoUrl||null),W(t.providerData,(function(e){"password"===e.providerId&&(Zr(e,"displayName",t.displayName),Zr(e,"photoURL",t.photoURL))})),kl(t)})).then(xl))},e.cd=function(e){var t=this;return Wl(this,Ml(this).then((function(n){return Q(Ol(t),e)?function(e,t,n){return ru(e,Ps,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return W(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),W(Ol(t),(function(e){n[e]||Rl(t,e)})),n[Vo.PROVIDER_ID]||Zr(t,"phoneNumber",null),kl(t)})):kl(t).then((function(){throw new k("no-such-provider")}))})))},e.delete=function(){var e=this;return Wl(this,this.I().then((function(t){return ru(e.a,Ns,{idToken:t})})).then((function(){e.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");bl(e,null),_l(e,null),Sl(e,null),e.J=[],e.D=!0,Il(e),Zr(e,"refreshToken",null),e.i&&Rc(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?S(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?S(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?S(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?S(this.Lb,this):null},e.Ec=function(e){var t=this;return ql(this,"linkViaPopup",e,(function(){return jl(t,e.providerId).then((function(){return kl(t)}))}),!1)},e.Nc=function(e){return ql(this,"reauthViaPopup",e,(function(){return Pt()}),!0)},e.Fc=function(e){var t=this;return Gl(this,"linkViaRedirect",e,(function(){return jl(t,e.providerId)}),!1)},e.Oc=function(e){return Gl(this,"reauthViaRedirect",e,(function(){return Pt()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,this.I().then((function(n){return ws(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Ul(i,e,"link"),Bl(i,e)})).then((function(){return o})))},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wl(this,Pt().then((function(){return ho(Ss(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Ul(i,e,"reauthenticate"),Vl(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.ub=function(e){var t=this,n=null;return Wl(this,this.I().then((function(t){return n=t,void 0===e||me(e)?{}:qi(new Oi(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return Wl(this,this.I().then((function(e){return r=e,void 0===t||me(t)?{}:qi(new Oi(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Wl(this,e=ho(Pt(e),n.uid).then((function(e){return t=Ul(n,e,"reauthenticate"),Vl(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),W(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ye(e,this.O.w()),e};var Jl={name:"redirectUser",F:"session"};function Ql(e){return ic(e.b,Jl,e.a)}function Yl(e){this.a=e,this.b=tc(),this.c=null,this.f=function(e){var t=$l("local"),n=$l("session"),r=$l("none");return function(e,t,n){var r=rc(t,n),i=nc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Ur(u.localStorage.getItem(r))}catch(e){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(Zl,e.a).then((function(e){return e?$l(e):t}))}))}))})).then((function(t){return e.c=t,Xl(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener($l("local"),this.a,S(this.g,this))}function Xl(e,t){var n,r=[];for(n in $u)$u[n]!==t&&r.push(ic(e.b,$l($u[n]),e.a));return r.push(ic(e.b,Zl,e.a)),function(e){return new St((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)At(e[s],E(o,s),a);else t(i)}))}(r)}Yl.prototype.g=function(){var e=this,t=$l("local");rh(this,(function(){return Pt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Xl(e,"local").then((function(){e.c=t}))}))}))};var Zl={name:"persistence",F:"session"};function $l(e){return{name:"authUser",F:e}}function eh(e,t){return rh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function th(e){return rh(e,(function(){return ic(e.b,e.c,e.a)}))}function nh(e,t,n){return rh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Hl(e||{})}))}))}function rh(e,t){return e.f=e.f.then(t,t),e.f}function ih(e){if(this.l=!1,Zr(this,"settings",new Yc),Zr(this,"app",e),!fh(this).options||!fh(this).options.apiKey)throw new k("invalid-api-key");e=r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION):null,this.a=new Xa(fh(this).options&&fh(this).options.apiKey,D(P),e),this.R=[],this.s=[],this.O=[],this.hb=r.Z.INTERNAL.createSubscribe(S(this.zc,this)),this.X=void 0,this.bc=r.Z.INTERNAL.createSubscribe(S(this.Ac,this)),lh(this,null),this.i=new Yl(fh(this).options.apiKey+":"+fh(this).name),this.D=new zl(fh(this).options.apiKey+":"+fh(this).name),this.$=gh(this,function(e){var t=fh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Jl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Hl(e||{})}))}(e.D,fh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Ql(e.D)}));return gh(e,t)}(e).then((function(){return nh(e.i,t,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return eh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:th(e.i)}))):null})).then((function(t){lh(e,t||null)}));return gh(e,n)}(this)),this.h=gh(this,function(e){return e.$.then((function(){return ch(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener($l("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=S(this.Zc,this),this.Ba=S(this.da,this),this.ya=S(this.mc,this),this.za=S(this.wc,this),this.Aa=S(this.xc,this),this.b=null,function(e){var t=fh(e).options.authDomain,n=fh(e).options.apiKey;t&&Rr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Gc(t,n,fh(e).name,e.P),Dc(e.b,e),dh(e)&&Nl(dh(e)),e.m){Nl(e.m);var r=e.m;r.wa(e.la()),bl(r,e),wl(r=e.m,e.J),Sl(r,e),os((r=e.m).a,e.P),_l(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=S(this.delete,this),this.INTERNAL.logFramework=S(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.P){var e=Bn(this.P.url);e=ei({protocol:e.c,host:e.a,port:e.g,options:ei({disableWarnings:this.P.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.P=null}function oh(e){Zt.call(this,"languageCodeChanged"),this.h=e}function ah(e){Zt.call(this,"emulatorConfigChanged"),this.c=e}function sh(e){Zt.call(this,"frameworkChanged"),this.f=e}function uh(e){return e.Oa||xt(new k("auth-domain-config-required"))}function ch(e){if(!Rr())return xt(new k("operation-not-supported-in-this-environment"));var t=uh(e).then((function(){return e.b.qa()})).then((function(e){return e?ei(e):null}));return gh(e,t)}function lh(e,t){dh(e)&&(function(e,t){X(e.S,(function(e){return e==t}))}(dh(e),e.Ba),pn(dh(e),"tokenChanged",e.ya),pn(dh(e),"userDeleted",e.za),pn(dh(e),"userInvalidated",e.Aa),Il(dh(e))),t&&(t.S.push(e.Ba),hn(t,"tokenChanged",e.ya),hn(t,"userDeleted",e.za),hn(t,"userInvalidated",e.Aa),0<e.u&&Tl(t)),Zr(e,"currentUser",t),t&&(t.wa(e.la()),bl(t,e),wl(t,e.J),Sl(t,e),os(t.a,e.P),_l(t,e))}function hh(e,t){var n=null,r=null;return gh(e,t.then((function(t){return n=Uo(t),r=Xi(t),function(e,t){var n={};return n.apiKey=fh(e).options.apiKey,n.authDomain=fh(e).options.authDomain,n.appName=fh(e).name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return function(e,t,n,r){var i=new yl(e,t);return n&&(i.ha=n),r&&wl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return dh(e)&&t.uid==dh(e).uid?(Fl(dh(e),t),e.da(t)):(lh(e,t),Nl(t),e.da(t))})).then((function(){mh(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=il(t.w(),e,S(e.kc,e))),n||t})).then((function(){return ei({user:dh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function fh(e){return e.app}function dh(e){return e.currentUser}function ph(e){return dh(e)&&dh(e)._lat||null}function mh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](ph(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](ph(e))}}function gh(e,t){return e.R.push(t),t.oa((function(){Y(e.R,t)})),t}function vh(){}function yh(){this.a={},this.b=1e12}Yl.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in $u)if($u[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(Tr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Ou()&&"none"!==e)throw n;break;default:if(!Dr()&&"none"!==e)throw n}}(e),rh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Xl(n,e)})).then((function(){if(n.c=$l(e),t)return n.b.set(n.c,t,n.a)})):Pt()}))},I(ih,En),I(oh,Zt),I(ah,Zt),I(sh,Zt),(e=ih.prototype).xb=function(e){return gh(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,is(this.a,this.aa),this.dispatchEvent(new oh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=u.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&_r().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.P={url:e,ec:t},this.settings.ib=!0,os(this.a,this.P),this.dispatchEvent(new ah(this.P))}},e.Gc=function(e){this.J.push(e),ss(this.a,r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new sh(this.J))},e.Ga=function(){return $(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:fh(this).options.apiKey,authDomain:fh(this).options.authDomain,appName:fh(this).name,currentUser:dh(this)&&dh(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?S(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return hh(i,_s(i.a,o))}))},e.Xc=function(e){if(!Rr())return xt(new k("operation-not-supported-in-this-environment"));var t=this,n=Yi(e.providerId),i=Br(),o=null;(!Mr()||Sr())&&fh(this).options.authDomain&&e.isOAuthProvider&&(o=yu(fh(this).options.authDomain,fh(this).options.apiKey,fh(this).name,"signInViaPopup",e,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.P));var a=vr(o,n&&n.ua,n&&n.ta);return gh(this,n=uh(this).then((function(n){return Mc(n,a,"signInViaPopup",e,i,!!o,t.T())})).then((function(){return new St((function(e,n){t.na("signInViaPopup",null,new k("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=i,t.c=Uc(t.b,t,"signInViaPopup",a,i)}))})).then((function(e){return a&&gr(a),e?ei(e):null})).o((function(e){throw a&&gr(a),e})))},e.Yc=function(e){if(!Rr())return xt(new k("operation-not-supported-in-this-environment"));var t=this;return gh(this,uh(this).then((function(){return function(e){return rh(e,(function(){return e.b.set(Zl,e.c.F,e.a)}))}(t.i)})).then((function(){return jc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.qa=function(){var e=this;return ch(this).then((function(t){return e.b&&Hc(e.b.b),t})).o((function(t){throw e.b&&Hc(e.b.b),t}))},e.dd=function(e){if(!e)return xt(new k("null-user"));if(this.S!=e.tenantId)return xt(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=fh(this).options.apiKey,n.authDomain=fh(this).options.authDomain,n.appName=fh(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[$a]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new yl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&wl(t,r),Fl(t,e),t}(e,n,t.D,t.Ga());return gh(this,this.h.then((function(){if(fh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return dh(t)&&e.uid==dh(t).uid?(Fl(dh(t),e),t.da(e)):(lh(t,r),Nl(r),t.da(r))})).then((function(){mh(t)})))},e.Ab=function(){var e=this;return gh(this,this.h.then((function(){return e.b&&Hc(e.b.b),dh(e)?(lh(e,null),th(e.i).then((function(){mh(e)}))):Pt()})))},e.Zc=function(){var e=this;return nh(this.i,fh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=dh(e)&&t){n=dh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Fl(dh(e),t),dh(e).I();(dh(e)||t)&&(lh(e,t),t&&(Nl(t),t.ha=e.D),e.b&&Dc(e.b,e),mh(e))}}))},e.da=function(e){return eh(this.i,e)},e.mc=function(){mh(this),this.da(dh(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return hh(t,Pt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(dh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.O.push(t),gh(e,e.h.then((function(){!e.l&&Q(e.O,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(ph(e)))})))}(this,(function(){e.next(dh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(dh(r)):"function"==typeof e.next&&e.next(dh(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof e?e(dh(r)):"function"==typeof e.next&&e.next(dh(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this;return gh(this,this.h.then((function(){return dh(t)?dh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return hh(t,ru(t.a,Xs,{token:e}))})).then((function(e){var n=e.user;return Ll(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return hh(n,ru(n.a,Zs,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return hh(n,ru(n.a,Cs,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return hh(t,e.ka(t.a))}))},e.Sc=function(e){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=dh(e);if(t&&t.isAnonymous){var n=ei({providerId:null,isNewUser:!1});return ei({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return hh(e,e.a.zb()).then((function(t){var n=t.user;return Ll(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return dh(this)&&dh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&dh(this)&&Tl(dh(this))},e.Pc=function(e){var t=this;W(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&dh(this)&&Il(dh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),gh(this,this.h.then((function(){t.l||Q(t.s,e)&&e(ph(t))})))},e.removeAuthTokenListener=function(e){X(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener($l("local"),e.a,this.ja),this.b&&(Rc(this.b,this),Hc(this.b.b)),Promise.resolve()},e.hc=function(e){return gh(this,function(e,t){return ru(e,ks,{identifier:t,continueUri:Lr()?fr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Ro(e)},e.wb=function(e,t){var n=this;return gh(this,Pt().then((function(){var e=new Oi(t);if(!e.c)throw new k("argument-error",Li+" must be true when sending sign in link to email");return qi(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return gh(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return gh(this,this.a.Ra(e).then((function(e){return new ci(e)})))},e.jb=function(e){return gh(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return gh(this,Pt().then((function(){return void 0===t||me(t)?{}:qi(new Oi(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return gh(this,Zc(this,e,t,S(this.$a,this)))},e.Vc=function(e,t){var n=this;return gh(this,Pt().then((function(){var r=t||fr(),i=Do(e,r);if(!(r=Ro(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.$a(i)})))},vh.prototype.render=function(){},vh.prototype.reset=function(){},vh.prototype.getResponse=function(){},vh.prototype.execute=function(){};var bh=null;function _h(e,t){return(t=wh(t))&&e.a[t]||null}function wh(e){return(e=void 0===e?1e12:e)?e.toString():null}function Sh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=lt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Eh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Th(){}function Ih(){}yh.prototype.render=function(e,t){return this.a[this.b.toString()]=new Sh(e,t),this.b++},yh.prototype.reset=function(e){var t=_h(this,e);e=wh(e),t&&e&&(t.delete(),delete this.a[e])},yh.prototype.getResponse=function(e){return(e=_h(this,e))?e.getResponse():null},yh.prototype.execute=function(e){(e=_h(this,e))&&e.execute()},Sh.prototype.getResponse=function(){return Eh(this),this.b},Sh.prototype.execute=function(){Eh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},Sh.prototype.delete=function(){Eh(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},Zr(Th,"FACTOR_ID","phone"),Ih.prototype.g=function(){return bh||(bh=new yh),Pt(bh)},Ih.prototype.c=function(){};var Ch=null;function kh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nh=new _e(Te,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ph=new Kr(3e4,6e4);kh.prototype.g=function(e){var t=this;return new St((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Ph.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete u[t.a]},Pt(Ka(Ne(Nh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},kh.prototype.c=function(){this.b--};var xh=null;function Ah(e,t,n,r,i,o,a){if(Zr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,a?(Ch||(Ch=new Ih),a=Ch):(xh||(xh=new kh),a=xh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Rh])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Lh],!u.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!lt(t)||!this.i&&lt(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xa(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Oh];this.a[Oh]=function(e){if(Fh(s,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Or(c,u);"function"==typeof t&&t(e)}};var l=this.a[Dh];this.a[Dh]=function(){if(Fh(s,null),"function"==typeof l)l();else if("string"==typeof l){var e=Or(l,u);"function"==typeof e&&e()}}}var Oh="callback",Dh="expired-callback",Rh="sitekey",Lh="size";function Fh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Mh(e,t){return e.h.push(t),t.oa((function(){Y(e.h,t)})),t}function Vh(e){if(e.D)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function jh(e,t,n){var i=!1;try{this.b=n||r.Z.app()}catch(e){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION,a):null,Ah.call(this,n,e,t,(function(){try{var e=o.b.auth().la()}catch(t){e=null}return e}),a,D(P),i)}function Uh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Bh.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=Bh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(e=Ah.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Mh(this,Pt().then((function(){if(Lr()&&!Er())return _r();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,ru(e.s,Us,{})})).then((function(t){e.a[Rh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Vh(this);var e=this;return Mh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=lt(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ct&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',We(a.name),'"'),a.type){o.push(' type="',We(a.type),'"');var s={};ye(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=gt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ht(o,a)),2<r.length&&mt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Vh(this);var e=this;return Mh(this,this.render().then((function(t){return new St((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){X(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Vh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Vh(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=lt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},I(jh,Ah);var Bh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Gh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Kh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function Wh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Hh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function zh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Jh(e,t){return g(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Qh(e){return g(e)&&"string"==typeof e.uid}function Yh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Xh(e,t){for(var n in t){var r=t[n].name;e[r]=ef(r,e[n],t[n].j)}}function Zh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E((function(e){return this[e]}),n),set:E((function(e,t,n,r){Uh(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function $h(e,t,n,r){e[t]=ef(t,n,r)}function ef(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Uh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Xh(ih.prototype,{jb:{name:"applyActionCode",j:[qh("code")]},Ra:{name:"checkActionCode",j:[qh("code")]},nb:{name:"confirmPasswordReset",j:[qh("code"),qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[qh("email"),qh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[qh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[qh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Yh(Kh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Yh(Kh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[qh("email"),Yh(Kh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[qh("email"),Kh("actionCodeSettings")]},xb:{name:"setPersistence",j:[qh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[zh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[zh()]},Tc:{name:"signInWithCustomToken",j:[qh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[qh("email"),qh("password")]},Vc:{name:"signInWithEmailLink",j:[qh("email"),qh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Yh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof yl)}},Hh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[qh("url"),Kh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[qh("code")]}}),Zh(ih.prototype,{lc:{name:"languageCode",kb:Yh(qh(),Hh(),"languageCode")},ti:{name:"tenantId",kb:Yh(qh(),Hh(),"tenantId")}}),ih.Persistence=$u,ih.Persistence.LOCAL="local",ih.Persistence.SESSION="session",ih.Persistence.NONE="none",Xh(yl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Gh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[zh()]},qb:{name:"linkWithCredential",j:[zh()]},Dc:{name:"linkWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[zh()]},tb:{name:"reauthenticateWithCredential",j:[zh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Yh(Kh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qh(null,!0)]},cd:{name:"unlink",j:[qh("provider")]},Bb:{name:"updateEmail",j:[qh("email")]},Cb:{name:"updatePassword",j:[qh("password")]},ed:{name:"updatePhoneNumber",j:[zh("phone")]},Db:{name:"updateProfile",j:[Kh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[qh("email"),Yh(Kh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]}}),Xh(yh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Xh(vh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Xh(St.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zh(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Gh("appVerificationDisabledForTesting")}}),Xh(Xc.prototype,{confirm:{name:"confirm",j:[qh("verificationCode")]}}),$h(lo,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[yo,Ao,Fo,mo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Yh(qh(),Kh(),"json")]),$h(Oo,"credential",(function(e,t){return new xo(e,t)}),[qh("email"),qh("password")]),Xh(xo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Xh(So.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),$h(So,"credential",Eo,[Yh(qh(),Kh(),"token")]),$h(Oo,"credentialWithLink",Do,[qh("email"),qh("emailLink")]),Xh(To.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),$h(To,"credential",Io,[Yh(qh(),Kh(),"token")]),Xh(Co.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),$h(Co,"credential",ko,[Yh(qh(),Yh(Kh(),Hh()),"idToken"),Yh(qh(),Hh(),"accessToken",!0)]),Xh(No.prototype,{Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),$h(No,"credential",Po,[Yh(qh(),Kh(),"token"),qh("secret",!0)]),Xh(wo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},credential:{name:"credential",j:[Yh(qh(),Yh(Kh(),Hh()),"optionsOrIdToken"),Yh(qh(),Hh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),Xh(go.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Xh(fo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),$h(Vo,"credential",jo,[qh("verificationId"),qh("verificationCode")]),Xh(Vo.prototype,{fb:{name:"verifyPhoneNumber",j:[Yh(qh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Jh(e.session,uo)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Jh(e.session,co)&&Qh(e.multiFactorHint):e.session&&e.multiFactorUid?Jh(e.session,co)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),Xh(Lo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Xh(k.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Xh(Jo.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Xh(zo.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Xh(rl.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Xh(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),Xh(cl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},qh("displayName",!0)]},bd:{name:"unenroll",j:[Yh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Qh},qh(),"multiFactorInfoIdentifier")]}}),Xh(jh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),$h(Ei,"parseLink",Ai,[qh("link")]),$h(Th,"assertion",(function(e){return new sl(e)}),[zh("phone")]),function(){if(void 0===r.Z||!r.Z.INTERNAL||!r.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ih,AuthCredential:lo,Error:k};$h(e,"EmailAuthProvider",Oo,[]),$h(e,"FacebookAuthProvider",So,[]),$h(e,"GithubAuthProvider",To,[]),$h(e,"GoogleAuthProvider",Co,[]),$h(e,"TwitterAuthProvider",No,[]),$h(e,"OAuthProvider",wo,[qh("providerId")]),$h(e,"SAMLAuthProvider",_o,[qh("providerId")]),$h(e,"PhoneAuthProvider",Vo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof ih)}}]),$h(e,"RecaptchaVerifier",jh,[Yh(qh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Kh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.Z.app.App)}}]),$h(e,"ActionCodeURL",Ei,[]),$h(e,"PhoneMultiFactorGenerator",Th,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new ih(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:S((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:S(e.nc,e),addAuthTokenListener:S(e.cc,e),removeAuthTokenListener:S(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.4"),r.Z.INTERNAL.extendNamespace({User:yl})}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),n(9446),n(8483);var i,o=n(4589),a=n(4594),s=(n(3705),n(3295));(i=s.$).prototype.loadBundle=s.n,i.prototype.namedQuery=s.s;var u=n(655),c=n(909),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,u.ZT)(t,e),t}(Error),f=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,u.mG)(this,void 0,void 0,(function(){var e;return(0,u.Jh)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,u.mG)(this,void 0,void 0,(function(){return(0,u.Jh)(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return(0,u.mG)(this,void 0,void 0,(function(){var e,t;return(0,u.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function d(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var p,m,g,v=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return d(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?d(e,(function(e){return t.decode(e)})):e},e}(),y=function(){function e(e,t,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=e,this.fetchImpl=i,this.serializer=new v,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new f(t,n),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return e()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=r}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,u.mG)(this,void 0,void 0,(function(){var r,i;return(0,u.Jh)(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},e.prototype.call=function(e,t,n){return(0,u.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,c,f,d,p,m,g;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=u.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new h("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),f=c.timer,d=c.promise,[4,Promise.race([b(f,this.postJSON(r,i,o)),d,b(f,this.cancelAllRequests)])];case 2:if(!(p=u.sent()))throw new h("cancelled","Firebase Functions instance was deleted.");if(m=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!l[s])return new h("internal","internal");r=l[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(e){}return"ok"===r?null:new h(r,i,o)}(p.status,p.json,this.serializer))throw m;if(!p.json)throw new h("internal","Response is not valid JSON object.");if(void 0===(g=p.json.data)&&(g=p.json.result),void 0===g)throw new h("internal","Response is missing data field.");return[2,{data:this.serializer.decode(g)}]}}))}))},e}();function b(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}p=r.Z,m=fetch.bind(self),g={Functions:y},p.INTERNAL.registerComponent(new c.wA("functions",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("messaging");return new y(r,i,o,n,m)}),"PUBLIC").setServiceProps(g).setMultipleInstances(!0)),r.Z.registerVersion("@firebase/functions","0.6.5");var _,w=n(8676),S="w:0.4.23",E=((_={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',_["not-registered"]="Firebase Installation is not registered.",_["installation-not-found"]="Firebase Installation not found.",_["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',_["app-offline"]="Could not process request. Application offline.",_["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",_),T=new o.LL("installations","Installations",E);function I(e){return e instanceof o.ZR&&e.code.includes("request-failed")}function C(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function k(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function N(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,T.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function P(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function x(e,t){var n=t.refreshToken,r=P(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function A(e){return(0,u.mG)(this,void 0,void 0,(function(){var t;return(0,u.Jh)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function O(e,t){var n=t.fid;return(0,u.mG)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:return t=C(e),r=P(e),i={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:S},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,A((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,{fid:(s=u.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:k(s.authToken)}];case 3:return[4,N("Create Installation",a)];case 4:throw u.sent()}}))}))}function D(e){return new Promise((function(t){setTimeout(t,e)}))}var R=/^[cdef][\w-]{21}$/;function L(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,u.ev)([],(0,u.CR)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return R.test(t)?t:""}catch(e){return""}}function F(e){return e.appName+"!"+e.appId}var M=new Map;function V(e,t){var n=F(e);j(n,t),function(e,t){var n=B();n&&n.postMessage({key:e,fid:t}),q()}(n,t)}function j(e,t){var n,r,i=M.get(e);if(i)try{for(var o=(0,u.XA)(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var U=null;function B(){return!U&&"BroadcastChannel"in self&&((U=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){j(e.data.key,e.data.fid)}),U}function q(){0===M.size&&U&&(U.close(),U=null)}var G,K="firebase-installations-store",W=null;function H(){return W||(W=(0,w.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(K)}}))),W}function z(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,u.Jh)(this,(function(s){switch(s.label){case 0:return n=F(e),[4,H()];case 1:return r=s.sent(),i=r.transaction(K,"readwrite"),[4,(o=i.objectStore(K)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||V(e,t.fid),[2,t]}}))}))}function J(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return t=F(e),[4,H()];case 1:return n=i.sent(),[4,(r=n.transaction(K,"readwrite")).objectStore(K).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Q(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:return n=F(e),[4,H()];case 1:return r=u.sent(),i=r.transaction(K,"readwrite"),[4,(o=i.objectStore(K)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||V(e,s.fid),[2,s]}}))}))}function Y(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return[4,Q(e,(function(n){var r=function(e){return $(e||{fid:L(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(T.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,O(e,t)];case 1:return n=i.sent(),[2,z(e,n)];case 2:return I(r=i.sent())&&409===r.customData.serverCode?[4,J(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,z(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:X(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function X(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,u.Jh)(this,(function(o){switch(o.label){case 0:return[4,Z(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,D(100)];case 3:return o.sent(),[4,Z(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,Y(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function Z(e){return Q(e,(function(e){if(!e)throw T.create("installation-not-found");return $(e)}))}function $(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ee(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,u.mG)(this,void 0,void 0,(function(){var e,i,o,a,s,c;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:return e=function(e,t){var n=t.fid;return C(e)+"/"+n+"/authTokens:generate"}(n,t),i=x(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:S}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,A((function(){return fetch(e,s)}))];case 1:return(c=u.sent()).ok?[4,c.json()]:[3,3];case 2:return[2,k(u.sent())];case 3:return[4,N("Generate Auth Token",c)];case 4:throw u.sent()}}))}))}function te(e,t){return void 0===t&&(t=!1),(0,u.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,u.Jh)(this,(function(o){switch(o.label){case 0:return[4,Q(e.appConfig,(function(r){if(!re(r))throw T.create("not-registered");var i,o=r.authToken;if(!t&&(2===(i=o).requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i)))return r;if(1===o.requestStatus)return n=function(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return[4,ne(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,D(100)];case 3:return i.sent(),[4,ne(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,te(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw T.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,u.pi)((0,u.pi)({},e),{authToken:t})}(r);return n=function(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,u.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ee(e,t)];case 1:return n=o.sent(),i=(0,u.pi)((0,u.pi)({},t),{authToken:n}),[4,z(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!I(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,J(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,u.pi)((0,u.pi)({},t),{authToken:{requestStatus:0}}),[4,z(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function ne(e){return Q(e,(function(e){if(!re(e))throw T.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?(0,u.pi)((0,u.pi)({},e),{authToken:{requestStatus:0}}):e}))}function re(e){return void 0!==e&&2===e.registrationStatus}function ie(e){return(0,u.mG)(this,void 0,void 0,(function(){var t;return(0,u.Jh)(this,(function(n){switch(n.label){case 0:return[4,Y(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function oe(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,u.Jh)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return C(e)+"/"+n}(e,t),r=x(e,t),i={method:"DELETE",headers:r},[4,A((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,N("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function ae(e){return T.create("missing-app-config-values",{valueName:e})}!function(e){e.INTERNAL.registerComponent(new c.wA("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw ae("App Configuration");if(!e.name)throw ae("App Name");try{for(var r=(0,u.XA)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw ae(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return[4,Y(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):te(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,u.mG)(this,void 0,void 0,(function(){return(0,u.Jh)(this,(function(n){switch(n.label){case 0:return[4,ie(e.appConfig)];case 1:return n.sent(),[4,te(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return[4,Q(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw T.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw T.create("app-offline");case 3:return[4,oe(t,n)];case 4:return r.sent(),[4,J(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return function(e,t){var n=e.appConfig;return function(e,t){B();var n=F(e),r=M.get(n);r||(r=new Set,M.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=F(e),r=M.get(n);r&&(r.delete(t),0===r.size&&M.delete(n),q())}(n,t)}}(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations","0.4.23")}(r.Z);var se,ue=((G={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',G["only-available-in-window"]="This method is available in a Window context.",G["only-available-in-sw"]="This method is available in a service worker context.",G["permission-default"]="The notification permission was not granted and dismissed instead.",G["permission-blocked"]="The notification permission was not granted and blocked instead.",G["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",G["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",G["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",G["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",G["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",G["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",G["token-update-no-token"]="FCM returned no token when updating the user to push.",G["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",G["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",G["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",G["invalid-vapid-key"]="The public VAPID key must be a string.",G["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",G),ce=new o.LL("messaging","Messaging",ue),le="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function he(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,u.ev)([],(0,u.CR)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fe(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(se||(se={}));var de="fcm_token_details_db",pe="fcm_token_object_Store";function me(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(e){return e.name})).includes(de))return[2,null];r.label=2;case 2:return t=null,[4,(0,w.openDb)(de,5,(function(r){return(0,u.mG)(n,void 0,void 0,(function(){var n,i,o,a;return(0,u.Jh)(this,(function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(pe)?[4,(n=r.transaction.objectStore(pe)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];t={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:he(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:he(o.auth),p256dh:he(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:he(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,(0,w.deleteDb)(de)];case 4:return r.sent(),[4,(0,w.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,(0,w.deleteDb)("undefined")];case 6:return r.sent(),[2,ge(t)?t:null]}}))}))}function ge(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var ve="firebase-messaging-store",ye=null;function be(){return ye||(ye=(0,w.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(ve)}}))),ye}function _e(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return t=Ee(e),[4,be()];case 1:return[4,i.sent().transaction(ve).objectStore(ve).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,me(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,we(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function we(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,u.Jh)(this,(function(o){switch(o.label){case 0:return n=Ee(e),[4,be()];case 1:return r=o.sent(),[4,(i=r.transaction(ve,"readwrite")).objectStore(ve).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function Se(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return t=Ee(e),[4,be()];case 1:return n=i.sent(),[4,(r=n.transaction(ve,"readwrite")).objectStore(ve).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Ee(e){return e.appConfig.appId}function Te(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:return[4,Ne(e)];case 1:n=u.sent(),r=Pe(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(ke(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),ce.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,ce.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw ce.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Ie(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:return[4,Ne(e)];case 1:n=u.sent(),r=Pe(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(ke(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),ce.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,ce.create("token-update-failed",{errorInfo:s});if(!o.token)throw ce.create("token-update-no-token");return[2,o.token]}}))}))}function Ce(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,u.Jh)(this,(function(s){switch(s.label){case 0:return[4,Ne(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(ke(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,ce.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),ce.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function ke(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function Ne(e){var t=e.appConfig,n=e.installations;return(0,u.mG)(this,void 0,void 0,(function(){var e;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function Pe(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==le&&(o.web.applicationPubKey=i),o}function xe(e,t,n){return(0,u.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,u.Jh)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw ce.create("permission-blocked");return[4,Re(t,n)];case 1:return r=s.sent(),[4,_e(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:he(r.getKey("auth")),p256dh:he(r.getKey("p256dh"))},i?[3,3]:[2,De(e,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,d=c.p256dh===u.p256dh,l&&h&&f&&d)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Ce(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,De(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Oe({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,d}))}))}function Ae(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return[4,_e(e)];case 1:return(n=i.sent())?[4,Ce(e,n.token)]:[3,4];case 2:return i.sent(),[4,Se(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Oe(e,t,n){return(0,u.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,u.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Ie(t,e)];case 1:return r=a.sent(),i=(0,u.pi)((0,u.pi)({},e),{token:r,createTime:Date.now()}),[4,we(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Ae(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function De(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return[4,Te(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,we(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Re(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fe(t)})]}}))}))}function Le(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function Fe(e){return new Promise((function(t){setTimeout(t,e)}))}var Me=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw ce.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,u.mG)(this,void 0,void 0,(function(){var n;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,_e(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:le,r.label=2;case 2:return[2,xe(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Ae(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw ce.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw ce.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw ce.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw ce.create("only-available-in-window")},e.prototype.onMessage=function(){throw ce.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw ce.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,u.Jh)(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e))?[4,Be()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,Ue(n,t)]:(r=!1,t.notification?[4,qe(Ve(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Fe(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,u.mG)(this,void 0,void 0,(function(){var r;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,Ae(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,_e(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Ae(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,xe(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:le)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,u.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;return i||(Le(e.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,je(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,Fe(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=se.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function Ve(e){var t,n=(0,u.pi)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function je(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,u.Jh)(this,(function(c){switch(c.label){case 0:return[4,Be()];case 1:t=c.sent();try{for(n=(0,u.XA)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(e){a={error:e}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function Ue(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=se.PUSH_RECEIVED;try{for(var i=(0,u.XA)(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Be(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function qe(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var Ge=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===se.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),Le(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,u.mG)(this,void 0,void 0,(function(){return(0,u.Jh)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw ce.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,xe(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,u.mG)(this,void 0,void 0,(function(){return(0,u.Jh)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=le),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,u.mG)(this,void 0,void 0,(function(){return(0,u.Jh)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw ce.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,u.mG)(this,void 0,void 0,(function(){var e,t;return(0,u.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),ce.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,u.mG)(this,void 0,void 0,(function(){return(0,u.Jh)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Ae(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,u.mG)(this,void 0,void 0,(function(){var e;return(0,u.Jh)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?ce.create("permission-blocked"):ce.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw ce.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw ce.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw ce.create("invalid-sw-registration");if(this.swRegistration)throw ce.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw ce.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw ce.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case se.NOTIFICATION_CLICKED:return"notification_open";case se.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Ke(e){return ce.create("missing-app-config-values",{valueName:e})}var We={isSupported:He};function He(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}r.Z.INTERNAL.registerComponent(new c.wA("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw Ke("App Configuration Object");if(!e.name)throw Ke("App Name");var r=e.options;try{for(var i=(0,u.XA)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Ke(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!He())throw ce.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Me(n):new Ge(n)}),"PUBLIC").setServiceProps(We));var ze="firebasestorage.googleapis.com",Je=function(e){function t(n,r){var i=e.call(this,Qe(n),"Firebase Storage: "+r+" ("+Qe(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return(0,u.ZT)(t,e),t.prototype._codeEquals=function(e){return Qe(e)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e},enumerable:!1,configurable:!0}),t}(o.ZR);function Qe(e){return"storage/"+e}function Ye(){return new Je("unknown","An unknown error occurred, please check the error payload for server response.")}function Xe(){return new Je("canceled","User canceled the upload/download.")}function Ze(){return new Je("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function $e(e){return new Je("invalid-argument",e)}function et(){return new Je("app-deleted","The Firebase app was deleted.")}function tt(e){return new Je("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nt(e,t){return new Je("invalid-format","String does not match format '"+e+"': "+t)}function rt(e){throw new Je("internal-error","Internal error: "+e)}var it={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ot=function(e,t){this.data=e,this.contentType=t||null};function at(e,t){switch(e){case it.RAW:return new ot(st(t));case it.BASE64:case it.BASE64URL:return new ot(ut(e,t));case it.DATA_URL:return new ot((n=new lt(t)).base64?ut(it.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw nt(it.DATA_URL,"Malformed data URL.")}return st(t)}(n.rest),new lt(t).contentType)}var n;throw Ye()}function st(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ut(e,t){switch(e){case it.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw nt(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case it.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw nt(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw nt(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var ct,lt=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw nt(it.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=t[1]||null;null!=i&&(this.base64=(r=";base64",(n=i).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=e.substring(e.indexOf(",")+1)},ht={STATE_CHANGED:"state_changed"},ft={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dt(e){switch(e){case"running":case"pausing":case"canceling":return ft.RUNNING;case"paused":return ft.PAUSED;case"success":return ft.SUCCESS;case"canceled":return ft.CANCELED;case"error":default:return ft.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ct||(ct={}));var pt=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ct.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=ct.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=ct.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw rt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw rt("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw rt("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw rt("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),mt=function(){function e(){}return e.prototype.createXhrIo=function(){return new pt},e}(),gt=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw new Je("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=ze.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(t);if(l){var h=l[c.indices.bucket],f=l[c.indices.path];f||(f=""),n=new e(h,f),c.postModify(n);break}}if(null==n)throw function(e){return new Je("invalid-url","Invalid URL '"+e+"'.")}(t);return n},e}(),vt=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function yt(e){return"string"==typeof e||e instanceof String}function bt(e){return _t()&&e instanceof Blob}function _t(){return"undefined"!=typeof Blob}function wt(e,t,n,r){if(r<t)throw $e("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw $e("Invalid value for '"+e+"'. Expected "+n+" or less.")}function St(e){return"https://"+ze+"/v0"+e}function Et(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var Tt=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(e){o(e)}else null!==a?((r=Ye()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?et():Xe()):o(r=new Je("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new It(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,s=0;function c(){return 2===s}var l=!1;function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l||(l=!0,n.apply(null,e))}function f(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new It(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===ct.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new It(a,n))}else{var s=n.getErrorCode()===ct.ABORT;t(!1,new It(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}(d,c())}),t)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!l)if(e)h.call.apply(h,(0,u.ev)([null,e],t));else{var r;c()||a?h.call.apply(h,(0,u.ev)([null,e],t)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),f(r))}}var p=!1;function m(e){p||(p=!0,l||(null!==o?(e||(s=2),clearTimeout(o),f(0)):e||(s=1)))}return f(0),setTimeout((function(){a=!0,m(!0)}),r),m}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),It=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function Ct(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function kt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ct();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(_t())return new Blob(e);throw new Je("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Nt=function(){function e(e,t){var n=0,r="";bt(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(bt(this.data_)){var r=(i=this.data_,o=t,a=n,i.webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(_t()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(kt.apply(null,r))}var i=t.map((function(e){return yt(e)?at(it.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Pt(e){var t,n;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}function xt(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function At(e,t){return t}var Ot=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||At},Dt=null;function Rt(){if(Dt)return Dt;var e=[];e.push(new Ot("bucket")),e.push(new Ot("generation")),e.push(new Ot("metageneration")),e.push(new Ot("name","fullPath",!0));var t=new Ot("name");t.xform=function(e,t){return function(e){return!yt(e)||e.length<2?e:xt(e)}(t)},e.push(t);var n=new Ot("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ot("timeCreated")),e.push(new Ot("updated")),e.push(new Ot("md5Hash",null,!0)),e.push(new Ot("cacheControl",null,!0)),e.push(new Ot("contentDisposition",null,!0)),e.push(new Ot("contentEncoding",null,!0)),e.push(new Ot("contentLanguage",null,!0)),e.push(new Ot("contentType",null,!0)),e.push(new Ot("metadata","customMetadata",!0)),Dt=e}function Lt(e,t,n){var r=Pt(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new gt(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}function Ft(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Mt=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Vt(e){if(!e)throw Ye()}function jt(e,t){return function(n,r){var i=Lt(e,r,t);return Vt(null!==i),i}}function Ut(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=new Je("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Je("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Je("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Bt(e){var t=Ut(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Je("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function qt(e,t,n){var r=St(t.fullServerUrl()),i=e.maxOperationRetryTime,o=new Mt(r,"GET",jt(e,n),i);return o.errorHandler=Bt(t),o}function Gt(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=St(t.bucketOnlyServerUrl()),s=e.maxOperationRetryTime,u=new Mt(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=Pt(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new gt(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new gt(t,l.name)),r.items.push(s)}return r}(e,t,r)}(e,t,r);return Vt(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=Ut(t),u}function Kt(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var Wt=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Ht(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Vt(!1)}return Vt(!!n&&-1!==(t||["active"]).indexOf(n)),n}var zt=262144;var Jt=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function Qt(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Yt=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Rt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(n){switch(t._state){case"running":e(n);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Kt(t,r,i),s={name:a.fullPath},u=St(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Ft(a,n),h=e.maxUploadRetryTime,f=new Mt(u,"POST",(function(e){var t;Ht(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Vt(!1)}return Vt(yt(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Ut(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Mt(n,"POST",(function(e){var t=Ht(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Vt(!1)}n||Vt(!1);var i=Number(n);return Vt(!isNaN(i)),new Wt(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Ut(t),o}(e._ref.storage,e._ref._location,t,e._blob),i=e._ref.storage._makeRequest(r,n);e._request=i,i.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=zt*this._chunkMultiplier,n=new Wt(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(e,t,n,r,i,o,a,s){var u=new Wt(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Je("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,f);if(null===p)throw Ze();var m=t.maxUploadRetryTime,g=new Mt(n,"POST",(function(e,n){var i,a=Ht(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?jt(t,o)(e,n):null,new Wt(s,c,"final"===a,i)}),m);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=Ut(e),g}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){return e._error=t,void e._transition("error")}var a=e._ref.storage._makeRequest(o,i);e._request=a,a.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){zt*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=qt(e._ref.storage,e._ref._location,e._mappings),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Kt(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ft(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Nt.getBlob(c,r,l);if(null===h)throw Ze();var f={name:u.fullPath},d=St(o),p=e.maxUploadRetryTime,m=new Mt(d,"POST",jt(e,n),p);return m.urlParams=f,m.headers=a,m.body=h.uploadData(),m.errorHandler=Ut(t),m}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Xe(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=dt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Jt(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(dt(this._state)){case ft.SUCCESS:Qt(this._resolve.bind(null,this.snapshot))();break;case ft.CANCELED:case ft.ERROR:Qt(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(dt(this._state)){case ft.RUNNING:case ft.PAUSED:e.next&&Qt(e.next.bind(e,this.snapshot))();break;case ft.SUCCESS:e.complete&&Qt(e.complete.bind(e))();break;case ft.CANCELED:case ft.ERROR:e.error&&Qt(e.error.bind(e,this._error))();break;default:e.error&&Qt(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Xt=function(){function e(e,t){this._service=e,this._location=t instanceof gt?t:gt.makeFromUrl(t)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new gt(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return xt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new gt(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw tt(e)},e}();function Zt(e){var t={prefixes:[],items:[]};return $t(e,t).then((function(){return t}))}function $t(e,t,n){return(0,u.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,u.Jh)(this,(function(a){switch(a.label){case 0:return[4,en(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,$t(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function en(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,u.Jh)(this,(function(o){switch(o.label){case 0:return null!=t&&"number"==typeof t.maxResults&&wt("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=o.sent(),r=t||{},i=Gt(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage._makeRequest(i,n).getPromise()]}}))}))}function tn(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t,n){var r=St(t.fullServerUrl()),i=e.maxOperationRetryTime,o=new Mt(r,"GET",function(e,t){return function(n,r){var i=Lt(e,r,t);return Vt(null!==i),function(e,t){var n=Pt(t);if(null===n)return null;if(!yt(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(t){var n=e.bucket,r=e.fullPath;return St("/b/"+i(n)+"/o/"+i(r))+Et({alt:"media",token:t})}))[0]}(i,r)}}(e,n),i);return o.errorHandler=Bt(t),o}(e.storage,e._location,Rt()),[2,e.storage._makeRequest(n,t).getPromise().then((function(e){if(null===e)throw new Je("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function nn(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new gt(e._location.bucket,n);return new Xt(e.storage,r)}function rn(e){return/^[A-Za-z]+:\/\//.test(e)}function on(e,t){if(e instanceof sn){var n=e;if(null==n._bucket)throw new Je("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Xt(n,n._bucket);return null!=t?on(r,t):r}if(void 0!==t){if(t.includes(".."))throw $e('`path` param cannot contain ".."');return nn(e,t)}return e}function an(e,t){if(t&&rn(t)){if(e instanceof sn)return new Xt(e,t);throw $e("To use ref(service, url), the first argument must be a Storage instance.")}return on(e,t)}var sn=function(){function e(e,t,n,r,i){var o,a;this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?gt.makeFromBucketSpec(r):null==(a=null==(o=this.app.options)?void 0:o.storageBucket)?null:gt.makeFromBucketSpec(a)}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){wt("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){wt("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,u.mG)(this,void 0,void 0,(function(){var e,t;return(0,u.Jh)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Xt(this,e)},e.prototype._makeRequest=function(e,t){var n=this;if(this._deleted)return new vt(et());var r=function(e,t,n,r,i){var o=Et(e.urlParams),a=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(s,i),new Tt(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}(e,this._appId,t,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},e}();function un(e,t){return an(e,t)}var cn=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),ln=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new cn(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new cn(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new cn(e,i,i._ref))}:{next:t.next?function(e){return t.next(new cn(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),hn=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new fn(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new fn(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),fn=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return nn(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new ln(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Yt(e,new Nt(t),n)}(e,t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=it.RAW),this._throwIfRoot("putString");var r=at(t,e),i=(0,u.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new ln(new Yt(this._delegate,new Nt(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return Zt(e)}(this._delegate).then((function(t){return new hn(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return en(e,t)}(this._delegate,e||void 0).then((function(e){return new hn(e,t.storage)}))},e.prototype.getMetadata=function(){return function(e){return function(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=qt(e.storage,e._location,Rt()),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e)}(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=function(e,t,n,r){var i=St(t.fullServerUrl()),o=Ft(n,r),a=e.maxOperationRetryTime,s=new Mt(i,"PATCH",jt(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Bt(t),s}(e.storage,e._location,t,Rt()),[2,e.storage._makeRequest(r,n).getPromise()]}}))}))}(e,t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return tn(e)}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return function(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t){var n=St(t.fullServerUrl()),r=e.maxOperationRetryTime,i=new Mt(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Bt(t),i}(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e)}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw tt(e)},e}(),dn=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(rn(e))throw $e("ref() expected a child path but got a URL, use refFromURL instead.");return new fn(un(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!rn(e))throw $e("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gt.makeFromUrl(e)}catch(e){throw $e("refFromUrl() expected a valid full URL but got an invalid one.")}return new fn(un(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e}();function pn(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal");return new dn(i,new sn(i,o,new mt,n,r.Z.SDK_VERSION))}!function(e){var t={TaskState:ft,TaskEvent:ht,StringFormat:it,Storage:sn,Reference:fn};e.INTERNAL.registerComponent(new c.wA("storage",pn,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.4.6")}(r.Z);var mn,gn,vn,yn="0.4.9",bn=yn,_n="FB-PERF-TRACE-MEASURE",wn="_wt_",Sn="_fcp",En="_fid",Tn="@firebase/performance/config",In="@firebase/performance/configexpire",Cn="Performance",kn=((mn={})["trace started"]="Trace {$traceName} was started before.",mn["trace stopped"]="Trace {$traceName} is not running.",mn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",mn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",mn["no window"]="Window is not available.",mn["no app id"]="App id is not available.",mn["no project id"]="Project id is not available.",mn["no api key"]="Api key is not available.",mn["invalid cc log"]="Attempted to queue invalid cc event",mn["FB not default"]="Performance can only start when Firebase app instance is the default one.",mn["RC response not ok"]="RC response is not ok",mn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",mn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",mn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",mn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",mn),Nn=new o.LL("performance",Cn,kn),Pn=new a.Yd(Cn);Pn.logLevel=a.in.INFO;var xn,An=function(){function e(e){if(this.window=e,!e)throw Nn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,o.hl)()||(Pn.info("IndexedDB is not supported by current browswer"),!1):(Pn.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===gn&&(gn=new e(vn)),gn},e}();function On(e,t){var n=e.length-t.length;if(n<0||n>1)throw Nn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var Dn,Rn,Ln=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=On("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=On("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Nn.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Nn.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Nn.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===xn&&(xn=new e),xn},e}();function Fn(){return Dn}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Rn||(Rn={}));var Mn=["firebase_","google_","ga_"],Vn=new RegExp("^[a-zA-Z]\\w*$");function jn(){var e=An.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function Un(){switch(An.getInstance().document.visibilityState){case"visible":return Rn.VISIBLE;case"hidden":return Rn.HIDDEN;default:return Rn.UNKNOWN}}function Bn(){var e=An.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var qn="Could not fetch config, will use default configs";function Gn(e){if(!e)return e;var t=Ln.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=true,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=Kn(t.tracesSamplingRate),t.logNetworkAfterSampling=Kn(t.networkRequestsSamplingRate),e}function Kn(e){return Math.random()<=e}var Wn,Hn=1;function zn(){return Hn=2,Wn=Wn||function(){var e=An.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return(e=Ln.getInstance().installationsService.getId()).then((function(e){Dn=e})),e;var e})).then((function(e){return function(e){var t=function(){var e=An.getInstance().localStorage;if(e){var t=e.getItem(In);if(t&&Number(t)>Date.now()){var n=e.getItem(Tn);if(n)try{return JSON.parse(n)}catch(e){return}}}}();return t?(Gn(t),Promise.resolve()):function(e){return(t=Ln.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Ln.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Ln.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Ln.getInstance().getAppId(),app_version:bn,sdk_version:"0.0.1"})});return fetch(r).then((function(e){if(e.ok)return e.json();throw Nn.create("RC response not ok")}))})).catch((function(){Pn.info(qn)}));var t}(e).then(Gn).then((function(e){return function(e){var t=An.getInstance().localStorage;e&&t&&(t.setItem(Tn,JSON.stringify(e)),t.setItem(In,String(Date.now()+60*Ln.getInstance().configTimeToLive*60*1e3)))}(e)}),(function(){}))}(e)})).then((function(){return Jn()}),(function(){return Jn()}))}function Jn(){Hn=3}var Qn,Yn=1e4,Xn=3,Zn=[],$n=!1;function er(e){setTimeout((function(){var e,t;if(0!==Xn)return Zn.length?(t=(e=Zn.splice(0,1e3)).map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(e,t){return function(e){var t=Ln.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||Pn.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=Yn;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Zn=(0,u.ev)((0,u.ev)([],t),Zn),Pn.info("Retry transport request later.")),Xn=3,er(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ln.getInstance().logSource,log_event:t},e).catch((function(){Zn=(0,u.ev)((0,u.ev)([],e),Zn),Xn--,Pn.info("Tries left: "+Xn+"."),er(Yn)}))):er(Yn)}),e)}function tr(e){if(!e.eventTime||!e.message)throw Nn.create("invalid cc log");Zn=(0,u.ev)((0,u.ev)([],Zn),[e])}function nr(e,t){Qn||(Qn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];tr({message:e.apply(void 0,t),eventTime:Date.now()})}}(or)),Qn(e,t)}function rr(e){var t=Ln.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&An.getInstance().requiredApisAvailable()&&(e.isAuto&&Un()!==Rn.VISIBLE||(3===Hn?ir(e):zn().then((function(){return ir(e)}),(function(){return ir(e)}))))}function ir(e){if(Fn()){var t=Ln.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return nr(e,1)}),0)}}function or(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:ar(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:ar(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function ar(){return{google_app_id:Ln.getInstance().getAppId(),app_instance_id:Fn(),web_app_info:{sdk_version:bn,page_url:An.getInstance().getUrl(),service_worker_status:jn(),visibility_state:Un(),effective_connection_type:Bn()},application_process_state:0}}var sr=["_fp",Sn,En],ur=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=An.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw Nn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw Nn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),rr(this)},e.prototype.record=function(e,t,n){if(e<=0)throw Nn.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Nn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,u.pi)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}rr(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(i=e,o=this.name,0===i.length||i.length>100||!(o&&o.startsWith(wn)&&sr.indexOf(i)>-1)&&i.startsWith("_"))throw Nn.create("invalid custom metric name",{customMetricName:e});var n,r,i,o;this.counters[e]=(n=t,(r=Math.floor(n))<n&&Pn.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40||Mn.some((function(e){return n.startsWith(e)}))||!n.match(Vn)),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Nn.create("invalid attribute name",{attributeName:e});if(!i)throw Nn.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,u.pi)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=An.getInstance().getUrl();if(i){var o=new e(wn+i,!0),a=Math.floor(1e3*An.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(Sn,Math.floor(1e3*u.startTime)),r&&o.putMetric(En,Math.floor(1e3*r))}rr(o)}},e.createUserTimingTrace=function(t){rr(new e(t,!1,t))},e}();function cr(e){var t=e;if(t&&void 0!==t.responseStart){var n=An.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=Ln.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return nr(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function lr(){Fn()&&(setTimeout((function(){return function(){var e=An.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){ur.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),ur.createOobTrace(t,n,e))}))}else ur.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=An.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)cr(n[t]);e.setupObserver("resource",cr)}()}),0),setTimeout((function(){return function(){for(var e=An.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)hr(n[t]);e.setupObserver("measure",hr)}()}),0))}function hr(e){var t=e.name;t.substring(0,_n.length)!==_n&&ur.createUserTimingTrace(t)}var fr=function(){function e(e){this.app=e,An.getInstance().requiredApisAvailable()&&(0,o.eu)().then((function(e){e&&($n||(er(5500),$n=!0),zn().then(lr,lr))})).catch((function(e){Pn.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new ur(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Ln.getInstance().instrumentationEnabled},set:function(e){Ln.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Ln.getInstance().dataCollectionEnabled},set:function(e){Ln.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){e.INTERNAL.registerComponent(new c.wA("performance",(function(e){return function(e,t){if("[DEFAULT]"!==e.name)throw Nn.create("FB not default");if("undefined"==typeof window)throw Nn.create("no window");return function(e){vn=e}(window),Ln.getInstance().firebaseAppInstance=e,Ln.getInstance().installationsService=t,new fr(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC")),e.registerVersion("@firebase/performance",yn)}(r.Z);var dr,pr,mr="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(dr||(dr={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(pr||(pr={}));var gr,vr=new a.Yd("@firebase/analytics");function yr(e,t,n,r,i,o){return(0,u.mG)(this,void 0,void 0,(function(){var a,s,c,l;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:a=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=u.sent(),(c=s.find((function(e){return e.measurementId===i})))?[4,t[c.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return l=u.sent(),vr.error(l),[3,8];case 8:return e(dr.CONFIG,i,o),[2]}}))}))}function br(e,t,n,r,i){return(0,u.mG)(this,void 0,void 0,(function(){var o,a,s,c,l,h,f,d;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=u.sent(),c=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},l=0,h=a;l<h.length&&(f=h[l],"break"!==c(f));l++);u.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return u.sent(),e(dr.EVENT,r,i||{}),[3,5];case 4:return d=u.sent(),vr.error(d),[3,5];case 5:return[2]}}))}))}var _r=((gr={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",gr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",gr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",gr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",gr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",gr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",gr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",gr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',gr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',gr),wr=new o.LL("analytics","Analytics",_r),Sr=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function Er(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Tr(e){var t;return(0,u.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Er(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=u.sent()).status||304===a.status)return[3,6];s="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,a.json()];case 3:return c=u.sent(),(null===(t=c.error)||void 0===t?void 0:t.message)&&(s=c.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw wr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function Ir(e,t,n,r){var i=t.throttleEndTimeMillis,a=t.backoffCount;return void 0===r&&(r=Sr),(0,u.mG)(this,void 0,void 0,(function(){var t,s,c,l,h,f,d;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:t=e.appId,s=e.measurementId,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Cr(n,i)];case 2:return u.sent(),[3,4];case 3:if(c=u.sent(),s)return vr.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:s}];throw c;case 4:return u.trys.push([4,6,,7]),[4,Tr(e)];case 5:return l=u.sent(),r.deleteThrottleMetadata(t),[2,l];case 6:if(!function(e){if(!(e instanceof o.ZR&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(h=u.sent())){if(r.deleteThrottleMetadata(t),s)return vr.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:t,measurementId:s}];throw h}return f=503===Number(h.customData.httpStatus)?(0,o.$s)(a,r.intervalMillis,30):(0,o.$s)(a,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:a+1},r.setThrottleMetadata(t,d),vr.debug("Calling attemptFetch again in "+f+" millis"),[2,Ir(e,d,n,r)];case 7:return[2]}}))}))}function Cr(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(wr.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var kr=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();var Nr,Pr,xr={},Ar=[],Or={},Dr="dataLayer",Rr="gtag",Lr=!1;function Fr(e){if(Lr)throw wr.create("already-initialized");e.dataLayerName&&(Dr=e.dataLayerName),e.gtagName&&(Rr=e.gtagName)}function Mr(e,t){!function(){var e=[];if((0,o.ru)()&&e.push("This is a browser extension environment."),(0,o.zI)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=wr.create("invalid-analytics-context",{errorInfo:t});vr.warn(n.message)}}();var n=e.options.appId;if(!n)throw wr.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw wr.create("no-api-key");vr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=xr[n])throw wr.create("already-exists",{id:n});if(!Lr){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Dr);var r=function(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,u.mG)(this,void 0,void 0,(function(){var s;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==dr.EVENT?[3,2]:[4,br(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==dr.CONFIG?[3,4]:[4,yr(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(dr.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),vr.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(xr,Ar,Or,Dr,Rr),i=r.wrappedGtag,a=r.gtagCore;Pr=i,Nr=a,Lr=!0}return xr[n]=function(e,t,n,r,i,a){return(0,u.mG)(this,void 0,void 0,(function(){var s,c,l,h,f,d,p;return(0,u.Jh)(this,(function(m){switch(m.label){case 0:return(s=function(e,t,n){return void 0===t&&(t=Sr),(0,u.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c=this;return(0,u.Jh)(this,(function(l){if(n=e.options,r=n.appId,i=n.apiKey,o=n.measurementId,!r)throw wr.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw wr.create("no-api-key")}return a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new kr,setTimeout((function(){return(0,u.mG)(c,void 0,void 0,(function(){return(0,u.Jh)(this,(function(e){return s.abort(),[2]}))}))}),6e4),[2,Ir({appId:r,apiKey:i,measurementId:o},a,s,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&vr.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return vr.error(e)})),t.push(s),c=function(){return(0,u.mG)(this,void 0,void 0,(function(){var e;return(0,u.Jh)(this,(function(t){switch(t.label){case 0:return(0,o.hl)()?[3,1]:(vr.warn(wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,o.eu)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),vr.warn(wr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([s,c])];case 1:return l=m.sent(),h=l[0],f=l[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(mr))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=mr+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(a,h.measurementId),i("js",new Date),(p={}).origin="firebase",p.update=!0,d=p,null!=f&&(d.firebase_id=f),i(dr.CONFIG,h.measurementId,d),[2,h.measurementId]}}))}))}(e,Ar,Or,t,Nr,Dr),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,u.mG)(this,void 0,void 0,(function(){var o,a;return(0,u.Jh)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(dr.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,u.pi)((0,u.pi)({},r),{send_to:o}),e(dr.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(Pr,xr[n],e,t,r).catch((function(e){return vr.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,u.mG)(this,void 0,void 0,(function(){var i;return(0,u.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(dr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(dr.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Pr,xr[n],e,t).catch((function(e){return vr.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,u.mG)(this,void 0,void 0,(function(){var i;return(0,u.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(dr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(dr.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Pr,xr[n],e,t).catch((function(e){return vr.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,u.mG)(this,void 0,void 0,(function(){var i,o,a,s,c;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(dr.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=u.sent(),e(dr.CONFIG,c,{update:!0,user_properties:n}),u.label=3;case 3:return[2]}}))}))})(Pr,xr[n],e,t).catch((function(e){return vr.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(xr[n],e).catch((function(e){return vr.error(e)}))},INTERNAL:{delete:function(){return delete xr[n],Promise.resolve()}}}}var Vr="analytics";function jr(){return(0,u.mG)(this,void 0,void 0,(function(){return(0,u.Jh)(this,(function(e){switch(e.label){case 0:if((0,o.ru)())return[2,!1];if(!(0,o.zI)())return[2,!1];if(!(0,o.hl)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,o.eu)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new c.wA(Vr,(function(e){return Mr(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Fr,EventName:pr,isSupported:jr})),e.INTERNAL.registerComponent(new c.wA("analytics-internal",(function(e){try{return{logEvent:e.getProvider(Vr).getImmediate().logEvent}}catch(e){throw wr.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.7")}(r.Z);var Ur,Br=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,u.Jh)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),qr=((Ur={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Ur["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Ur["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Ur["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Ur["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ur["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ur["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ur["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Ur["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ur["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Ur["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Ur["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ur["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ur),Gr=new o.LL("remoteconfig","Remote Config",qr),Kr=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,l,h,f,d,p,m,g,v,y,b,_;return(0,u.Jh)(this,(function(u){switch(u.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=u.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},c={method:"POST",headers:a,body:JSON.stringify(s)},l=fetch(o,c),h=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),u.label=2;case 2:return u.trys.push([2,5,,6]),[4,Promise.race([l,h])];case 3:return u.sent(),[4,l];case 4:return f=u.sent(),[3,6];case 5:throw d=u.sent(),p="fetch-client-network","AbortError"===d.name&&(p="fetch-timeout"),Gr.create(p,{originalErrorMessage:d.message});case 6:if(m=f.status,g=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];b=void 0,u.label=7;case 7:return u.trys.push([7,9,,10]),[4,f.json()];case 8:return b=u.sent(),[3,10];case 9:throw _=u.sent(),Gr.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:v=b.entries,y=b.state,u.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===y?m=500:"NO_CHANGE"===y?m=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(v={}),304!==m&&200!==m)throw Gr.create("fetch-status",{httpStatus:m});return[2,{status:m,eTag:g,config:v}]}var w}))}))},e}(),Wr=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),Hr=["1","true","t","yes","y","on"],zr=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&Hr.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),Jr=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=a.in.DEBUG;break;case"silent":this._logger.logLevel=a.in.SILENT;break;default:this._logger.logLevel=a.in.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,u.mG)(this,void 0,void 0,(function(){var e,t,n;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,u.mG)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:e=new Wr,setTimeout((function(){return(0,u.mG)(r,void 0,void 0,(function(){return(0,u.Jh)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),"fetch-throttle",n=(a=t)instanceof o.ZR&&-1!==a.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}var a}))}))},e.prototype.fetchAndActivate=function(){return(0,u.mG)(this,void 0,void 0,(function(){return(0,u.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e,t,n=this;return(e=this._storageCache.getActiveConfig(),t=this.defaultConfig,void 0===e&&(e={}),void 0===t&&(t={}),Object.keys((0,u.pi)((0,u.pi)({},e),t))).reduce((function(e,t){return e[t]=n.getValue(t),e}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new zr("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new zr("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new zr("static"))},e}();function Qr(e,t){var n=e.target.error||void 0;return Gr.create(t,{originalErrorMessage:n&&n.message})}var Yr="app_namespace_store",Xr=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(Qr(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Yr,{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Yr],"readonly").objectStore(Yr),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(Qr(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(e){i(Gr.create("storage-get",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,u.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,u.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([Yr],"readwrite").objectStore(Yr),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(Qr(e,"storage-set"))},u.onsuccess=function(){i()}}catch(e){o(Gr.create("storage-set",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,u.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,u.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Yr],"readwrite").objectStore(Yr),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(Qr(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(e){i(Gr.create("storage-delete",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),Zr=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,u.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,u.Jh)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function $r(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Gr.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var ei,ti=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,u.mG)(this,void 0,void 0,(function(){var t;return(0,u.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,u.mG)(this,void 0,void 0,(function(){var t,i,a;return(0,u.Jh)(this,(function(s){switch(s.label){case 0:return[4,$r(e.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof o.ZR&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=s.sent()))throw i;return a={throttleEndTimeMillis:Date.now()+(0,o.$s)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(a)];case 6:return s.sent(),[2,this.attemptFetch(e,a)];case 7:return[2]}}))}))},e}(),ni="@firebase/remote-config";(ei=r.Z).INTERNAL.registerComponent(new c.wA("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw Gr.create("registration-window");var o=r.options,s=o.projectId,u=o.apiKey,c=o.appId;if(!s)throw Gr.create("registration-project-id");if(!u)throw Gr.create("registration-api-key");if(!c)throw Gr.create("registration-app-id");n=n||"firebase";var l=new Xr(c,r.name,n),h=new Zr(l),f=new a.Yd(ni);f.logLevel=a.in.ERROR;var d=new Kr(i,ei.SDK_VERSION,n,s,u,c),p=new ti(d,l),m=new Br(p,l,h,f),g=new Jr(r,m,h,l,f);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),ei.registerVersion(ni,"0.1.34"),r.Z.registerVersion("firebase","8.3.2","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r.Z.registerVersion("firebase","8.3.2")},6257:(e,t,n)=>{"use strict";n(8483)},6358:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,{ZP:()=>Rr});var o,a,s,u,c,l,h,f,d,p,m,g,v,y,b,_,w,S,E,T,I,C,k,N,P,x,A,O,D={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},R={duration:.5,overwrite:!1,delay:0},L=1e8,F=1e-8,M=2*Math.PI,V=M/4,j=0,U=Math.sqrt,B=Math.cos,q=Math.sin,G=function(e){return"string"==typeof e},K=function(e){return"function"==typeof e},W=function(e){return"number"==typeof e},H=function(e){return void 0===e},z=function(e){return"object"==typeof e},J=function(e){return!1!==e},Q=function(){return"undefined"!=typeof window},Y=function(e){return K(e)||G(e)},X="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Z=Array.isArray,$=/(?:-?\.?\d|\.)+/gi,ee=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,te=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ne=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,re=/[+-]=-?[.\d]+/,ie=/[#\-+.]*\b[a-z\d-=+%.]+/gi,oe=/[\d.+\-=]+(?:e[-+]\d*)*/i,ae={},se={},ue=function(e){return(se=Re(e,ae))&&bn},ce=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},le=function(e,t){return!t&&console.warn(e)},he=function(e,t){return e&&(ae[e]=t)&&se&&(se[e]=t)||ae},fe=function(){return 0},de={},pe=[],me={},ge={},ve={},ye=30,be=[],_e="",we=function(e){var t,n,r=e[0];if(z(r)||K(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=be.length;n--&&!be[n].targetTest(r););t=be[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Gt(e[n],t)))||e.splice(n,1);return e},Se=function(e){return e._gsap||we(ut(e))[0]._gsap},Ee=function(e,t,n){return(n=e[t])&&K(n)?e[t]():H(n)&&e.getAttribute&&e.getAttribute(t)||n},Te=function(e,t){return(e=e.split(",")).forEach(t)||e},Ie=function(e){return Math.round(1e5*e)/1e5||0},Ce=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},ke=function(e,t,n){var r,i=W(e[1]),o=(i?2:1)+(t<2?0:1),a=e[o];if(i&&(a.duration=e[1]),a.parent=n,t){for(r=a;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=J(n.vars.inherit)&&n.parent;a.immediateRender=J(r.immediateRender),t<2?a.runBackwards=1:a.startAt=e[o-1]}return a},Ne=function(){var e,t,n=pe.length,r=pe.slice(0);for(me={},pe.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Pe=function(e,t,n,r){pe.length&&Ne(),e.render(t,n,r),pe.length&&Ne()},xe=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(ie).length<2?t:G(e)?e.trim():e},Ae=function(e){return e},Oe=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},De=function(e,t){for(var n in t)n in e||"duration"===n||"ease"===n||(e[n]=t[n])},Re=function(e,t){for(var n in t)e[n]=t[n];return e},Le=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=z(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Fe=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Me=function(e){var t=e.parent||a,n=e.keyframes?De:Oe;if(J(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},Ve=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,o=t._next;i?i._next=o:e[n]===t&&(e[n]=o),o?o._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},je=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Ue=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Be=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},qe=function e(t){return!t||t._ts&&e(t.parent)},Ge=function(e){return e._repeat?Ke(e._tTime,e=e.duration()+e._rDelay)*e:0},Ke=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},We=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},He=function(e){return e._end=Ie(e._start+(e._tDur/Math.abs(e._ts||e._rts||F)||0))},ze=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Ie(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),He(e),n._dirty||Ue(n,e)),e},Je=function(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=We(e.rawTime(),t),(!t._dur||it(0,t.totalDuration(),n)-t._tTime>F)&&t.render(n,!0)),Ue(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Qe=function(e,t,n,r){return t.parent&&je(t),t._start=Ie(n+t._delay),t._end=Ie(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o,a=e[r];if(i)for(o=t[i];a&&a[i]>o;)a=a._prev;a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e}(e,t,"_first","_last",e._sort?"_start":0),e._recent=t,r||Je(e,t),e},Ye=function(e,t){return(ae.ScrollTrigger||ce("scrollTrigger",t))&&ae.ScrollTrigger.create(t,e)},Xe=function(e,t,n,r){return Yt(e,t),e._initted?!n&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&h!==xt.frame?(pe.push(e),e._lazy=[t,r],1):void 0:1},Ze=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},$e=function(e,t,n,r){var i=e._repeat,o=Ie(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Ie(o*(i+1)+e._rDelay*i):o,a&&!r?ze(e,e._tTime=e._tDur*a):e.parent&&He(e),n||Ue(e.parent,e),e},et=function(e){return e instanceof Wt?Ue(e):$e(e,e._dur)},tt={_start:0,endTime:fe},nt=function e(t,n){var r,i,o=t.labels,a=t._recent||tt,s=t.duration()>=L?a.endTime(!1):t._dur;return G(n)&&(isNaN(n)||n in o)?"<"===(r=n.charAt(0))||">"===r?("<"===r?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0):(r=n.indexOf("="))<0?(n in o||(o[n]=s),o[n]):(i=+(n.charAt(r-1)+n.substr(r+1)),r>1?e(t,n.substr(0,r-1))+i:s+i):null==n?s:+n},rt=function(e,t){return e||0===e?t(e):t},it=function(e,t,n){return n<e?e:n>t?t:n},ot=function(e){if("string"!=typeof e)return"";var t=oe.exec(e);return t?e.substr(t.index+t[0].length):""},at=[].slice,st=function(e,t){return e&&z(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&z(e[0]))&&!e.nodeType&&e!==s},ut=function(e,t){return!G(e)||t||!u&&At()?Z(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return G(e)&&!t||st(e,1)?(r=n).push.apply(r,ut(e)):n.push(e)}))||n}(e,t):st(e)?at.call(e,0):e?[e]:[]:at.call(c.querySelectorAll(e),0)},ct=function(e){return e.sort((function(){return.5-Math.random()}))},lt=function(e){if(K(e))return e;var t=z(e)?e:{each:e},n=Vt(t.ease),r=t.from||0,i=parseFloat(t.base)||0,o={},a=r>0&&r<1,s=isNaN(r)||a,u=t.axis,c=r,l=r;return G(r)?c=l={center:.5,edges:.5,end:1}[r]||0:!a&&s&&(c=r[0],l=r[1]),function(e,a,h){var f,d,p,m,g,v,y,b,_,w=(h||t).length,S=o[w];if(!S){if(!(_="auto"===t.grid?0:(t.grid||[1,L])[1])){for(y=-L;y<(y=h[_++].getBoundingClientRect().left)&&_<w;);_--}for(S=o[w]=[],f=s?Math.min(_,w)*c-.5:r%_,d=s?w*l/_-.5:r/_|0,y=0,b=L,v=0;v<w;v++)p=v%_-f,m=d-(v/_|0),S[v]=g=u?Math.abs("y"===u?m:p):U(p*p+m*m),g>y&&(y=g),g<b&&(b=g);"random"===r&&ct(S),S.max=y-b,S.min=b,S.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(_>w?w-1:u?"y"===u?w/_:_:Math.max(_,w/_))||0)*("edges"===r?-1:1),S.b=w<0?i-w:i,S.u=ot(t.amount||t.each)||0,n=n&&w<0?Ft(n):n}return w=(S[e]-S.min)/S.max||0,Ie(S.b+(n?n(w):w)*S.v)+S.u}},ht=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(n){var r=Math.round(parseFloat(n)/e)*e*t;return(r-r%1)/t+(W(n)?0:ot(n))}},ft=function(e,t){var n,r,i=Z(e);return!i&&z(e)&&(n=i=e.radius||L,e.values?(e=ut(e.values),(r=!W(e[0]))&&(n*=n)):e=ht(e.increment)),rt(t,i?K(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,o,a=parseFloat(r?t.x:t),s=parseFloat(r?t.y:0),u=L,c=0,l=e.length;l--;)(i=r?(i=e[l].x-a)*i+(o=e[l].y-s)*o:Math.abs(e[l]-a))<u&&(u=i,c=l);return c=!n||u<=n?e[c]:t,r||c===t||W(t)?c:c+ot(t)}:ht(e))},dt=function(e,t,n,r){return rt(Z(e)?!t:!0===n?!!(n=0):!r,(function(){return Z(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},pt=function(e,t,n){return rt(n,(function(n){return e[~~t(n)]}))},mt=function(e){for(var t,n,r,i,o=0,a="";~(t=e.indexOf("random(",o));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?ie:$),a+=e.substr(o,t-o)+dt(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),o=r+1;return a+e.substr(o,e.length-o)},gt=function(e,t,n,r,i){var o=t-e,a=r-n;return rt(i,(function(t){return n+((t-e)/o*a||0)}))},vt=function(e,t,n){var r,i,o,a=e.labels,s=L;for(r in a)(i=a[r]-t)<0==!!n&&i&&s>(i=Math.abs(i))&&(o=r,s=i);return o},yt=function(e,t,n){var r,i,o=e.vars,a=o[t];if(a)return r=o[t+"Params"],i=o.callbackScope||e,n&&pe.length&&Ne(),r?a.apply(i,r):a.call(i)},bt=function(e){return je(e),e.progress()<1&&yt(e,"onInterrupt"),e},_t=function(e){var t=(e=!e.name&&e.default||e).name,n=K(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:fe,render:ln,add:Jt,kill:fn,modifier:hn,rawVars:0},o={targetTest:0,get:0,getSetter:an,aliases:{},register:0};if(At(),e!==r){if(ge[t])return;Oe(r,Oe(Fe(e,i),o)),Re(r.prototype,Re(i,Fe(e,o))),ge[r.prop=t]=r,e.targetTest&&(be.push(r),de[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}he(t,r),e.register&&e.register(bn,r,mn)},wt=255,St={aqua:[0,wt,wt],lime:[0,wt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,wt],navy:[0,0,128],white:[wt,wt,wt],olive:[128,128,0],yellow:[wt,wt,0],orange:[wt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[wt,0,0],pink:[wt,192,203],cyan:[0,wt,wt],transparent:[wt,wt,wt,0]},Et=function(e,t,n){return(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*wt+.5|0},Tt=function(e,t,n){var r,i,o,a,s,u,c,l,h,f,d=e?W(e)?[e>>16,e>>8&wt,e&wt]:0:St.black;if(!d){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),St[e])d=St[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+r+r+i+i+o+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(d=parseInt(e.substr(1,6),16))>>16,d>>8&wt,d&wt,parseInt(e.substr(7),16)/255];d=[(e=parseInt(e.substr(1),16))>>16,e>>8&wt,e&wt]}else if("hsl"===e.substr(0,3))if(d=f=e.match($),t){if(~e.indexOf("="))return d=e.match(ee),n&&d.length<4&&(d[3]=1),d}else a=+d[0]%360/360,s=+d[1]/100,r=2*(u=+d[2]/100)-(i=u<=.5?u*(s+1):u+s-u*s),d.length>3&&(d[3]*=1),d[0]=Et(a+1/3,r,i),d[1]=Et(a,r,i),d[2]=Et(a-1/3,r,i);else d=e.match($)||St.transparent;d=d.map(Number)}return t&&!f&&(r=d[0]/wt,i=d[1]/wt,o=d[2]/wt,u=((c=Math.max(r,i,o))+(l=Math.min(r,i,o)))/2,c===l?a=s=0:(h=c-l,s=u>.5?h/(2-c-l):h/(c+l),a=c===r?(i-o)/h+(i<o?6:0):c===i?(o-r)/h+2:(r-i)/h+4,a*=60),d[0]=~~(a+.5),d[1]=~~(100*s+.5),d[2]=~~(100*u+.5)),n&&d.length<4&&(d[3]=1),d},It=function(e){var t=[],n=[],r=-1;return e.split(kt).forEach((function(e){var i=e.match(te)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},Ct=function(e,t,n){var r,i,o,a,s="",u=(e+s).match(kt),c=t?"hsla(":"rgba(",l=0;if(!u)return e;if(u=u.map((function(e){return(e=Tt(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(o=It(e),(r=n.c).join(s)!==o.c.join(s)))for(a=(i=e.replace(kt,"1").split(te)).length-1;l<a;l++)s+=i[l]+(~r.indexOf(l)?u.shift()||c+"0,0,0,0)":(o.length?o:u.length?u:n).shift());if(!i)for(a=(i=e.split(kt)).length-1;l<a;l++)s+=i[l]+u[l];return s+i[a]},kt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in St)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Nt=/hsl[a]?\(/,Pt=function(e){var t,n=e.join(" ");if(kt.lastIndex=0,kt.test(n))return t=Nt.test(n),e[1]=Ct(e[1],t),e[0]=Ct(e[0],t,It(e[1])),!0},xt=(_=Date.now,w=500,S=33,E=_(),T=E,C=I=1e3/240,N=function e(t){var n,r,i,o,a=_()-T,s=!0===t;if(a>w&&(E+=a-S),((n=(i=(T+=a)-E)-C)>0||s)&&(o=++v.frame,y=i-1e3*v.time,v.time=i/=1e3,C+=n+(n>=I?4:I-n),r=1),s||(p=m(e)),r)for(b=0;b<k.length;b++)k[b](i,y,o,t)},v={time:0,frame:0,tick:function(){N(!0)},deltaRatio:function(e){return y/(1e3/(e||60))},wake:function(){l&&(!u&&Q()&&(s=u=window,c=s.document||{},ae.gsap=bn,(s.gsapVersions||(s.gsapVersions=[])).push(bn.version),ue(se||s.GreenSockGlobals||!s.gsap&&s||{}),g=s.requestAnimationFrame),p&&v.sleep(),m=g||function(e){return setTimeout(e,C-1e3*v.time+1|0)},d=1,N(2))},sleep:function(){(g?s.cancelAnimationFrame:clearTimeout)(p),d=0,m=fe},lagSmoothing:function(e,t){w=e||1e8,S=Math.min(t,w,0)},fps:function(e){I=1e3/(e||240),C=1e3*v.time+I},add:function(e){k.indexOf(e)<0&&k.push(e),At()},remove:function(e){var t;~(t=k.indexOf(e))&&k.splice(t,1)&&b>=t&&b--},_listeners:k=[]}),At=function(){return!d&&xt.wake()},Ot={},Dt=/^[\d.\-M][\d.\-,\s]/,Rt=/["']/g,Lt=function(e){for(var t,n,r,i={},o=e.substr(1,e.length-3).split(":"),a=o[0],s=1,u=o.length;s<u;s++)n=o[s],t=s!==u-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[a]=isNaN(r)?r.replace(Rt,"").trim():+r,a=n.substr(t+1).trim();return i},Ft=function(e){return function(t){return 1-e(1-t)}},Mt=function e(t,n){for(var r,i=t._first;i;)i instanceof Wt?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Vt=function(e,t){return e&&(K(e)?e:Ot[e]||function(e){var t,n,r,i,o=(e+"").split("("),a=Ot[o[0]];return a&&o.length>1&&a.config?a.config.apply(null,~e.indexOf("{")?[Lt(o[1])]:(t=e,n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n),t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)).split(",").map(xe)):Ot._CE&&Dt.test(e)?Ot._CE("",e):a}(e))||t},jt=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,o={easeIn:t,easeOut:n,easeInOut:r};return Te(e,(function(e){for(var t in Ot[e]=ae[e]=o,Ot[i=e.toLowerCase()]=n,o)Ot[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=Ot[e+"."+t]=o[t]})),o},Ut=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Bt=function e(t,n,r){var i=n>=1?n:1,o=(r||(t?.3:.45))/(n<1?n:1),a=o/M*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*q((e-a)*o)+1},u="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:Ut(s);return o=M/o,u.config=function(n,r){return e(t,n,r)},u},qt=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Ut(r);return i.config=function(n){return e(t,n)},i};Te("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;jt(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),Ot.Linear.easeNone=Ot.none=Ot.Linear.easeIn,jt("Elastic",Bt("in"),Bt("out"),Bt()),P=7.5625,A=1/(x=2.75),jt("Bounce",(function(e){return 1-O(1-e)}),O=function(e){return e<A?P*e*e:e<.7272727272727273?P*Math.pow(e-1.5/x,2)+.75:e<.9090909090909092?P*(e-=2.25/x)*e+.9375:P*Math.pow(e-2.625/x,2)+.984375}),jt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),jt("Circ",(function(e){return-(U(1-e*e)-1)})),jt("Sine",(function(e){return 1===e?1:1-B(e*V)})),jt("Back",qt("in"),qt("out"),qt()),Ot.SteppedEase=Ot.steps=ae.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*it(0,.99999999,e)|0)+i)*n}}},R.ease=Ot["quad.out"],Te("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return _e+=e+","+e+"Params,"}));var Gt=function(e,t){this.id=j++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Ee,this.set=t?t.getSetter:an},Kt=function(){function e(e,t){var n=e.parent||a;this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,$e(this,+e.duration,1,1),this.data=e.data,d||xt.wake(),n&&Qe(n,this,t||0===t?t:n._time,1),e.reversed&&this.reverse(),e.paused&&this.paused(!0)}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,$e(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(At(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(ze(this,e),!n._dp||n.parent||Je(n,this);n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Qe(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===F||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Pe(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Ge(this))%this._dur||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Ge(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Ke(this._tTime,n)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?We(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,Be(this.totalTime(it(-this._delay,this._tDur,t),!0))},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(At(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=F)&&Math.abs(this._zTime)!==F))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Qe(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(J(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?We(t.rawTime(e),this):this._tTime:this._tTime},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(t._ts||1),t=t._dp;return n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,et(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){return arguments.length?(this._rDelay=e,et(this)):this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(nt(this,e),J(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,J(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-F))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=K(e)?e:Ae,i=function(){var e=t.then;t.then=null,K(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){bt(this)},e}();Oe(Kt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Wt=function(e){function t(t,n){var i;return void 0===t&&(t={}),(i=e.call(this,t,n)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=J(t.sortChildren),i.parent&&Je(i.parent,r(i)),t.scrollTrigger&&Ye(r(i),t.scrollTrigger),i}i(t,e);var n=t.prototype;return n.to=function(e,t,n){return new en(e,ke(arguments,0,this),nt(this,W(t)?arguments[3]:n)),this},n.from=function(e,t,n){return new en(e,ke(arguments,1,this),nt(this,W(t)?arguments[3]:n)),this},n.fromTo=function(e,t,n,r){return new en(e,ke(arguments,2,this),nt(this,W(t)?arguments[4]:r)),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,Me(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new en(e,t,nt(this,n),1),this},n.call=function(e,t,n){return Qe(this,en.delayedCall(0,e,t),nt(this,n))},n.staggerTo=function(e,t,n,r,i,o,a){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=a,n.parent=this,new en(e,n,nt(this,i)),this},n.staggerFrom=function(e,t,n,r,i,o,a){return n.runBackwards=1,Me(n).immediateRender=J(n.immediateRender),this.staggerTo(e,t,n,r,i,o,a)},n.staggerFromTo=function(e,t,n,r,i,o,a,s){return r.startAt=n,Me(r).immediateRender=J(r.immediateRender),this.staggerTo(e,t,r,i,o,a,s)},n.render=function(e,t,n){var r,i,o,s,u,c,l,h,f,d,p,m,g=this._time,v=this._dirty?this.totalDuration():this._tDur,y=this._dur,b=this!==a&&e>v-F&&e>=0?v:e<F?0:e,_=this._zTime<0!=e<0&&(this._initted||!y);if(b!==this._tTime||n||_){if(g!==this._time&&y&&(b+=this._time-g,e+=this._time-g),r=b,f=this._start,c=!(h=this._ts),_&&(y||(g=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(p=this._yoyo,u=y+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*u+e,t,n);if(r=Ie(b%u),b===v?(s=this._repeat,r=y):((s=~~(b/u))&&s===b/u&&(r=y,s--),r>y&&(r=y)),d=Ke(this._tTime,u),!g&&this._tTime&&d!==s&&(d=s),p&&1&s&&(r=y-r,m=1),s!==d&&!this._lock){var w=p&&1&d,S=w===(p&&1&s);if(s<d&&(w=!w),g=w?0:y,this._lock=1,this.render(g||(m?0:Ie(s*u)),t,!y)._lock=0,!t&&this.parent&&yt(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),g!==this._time||c!==!this._ts)return this;if(y=this._dur,v=this._tDur,S&&(this._lock=2,g=w?y:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;Mt(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(!r._dur&&"isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(!r._dur&&"isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Ie(g),Ie(r)))&&(b-=r-(r=l._start)),this._tTime=b,this._time=r,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,g=0),!g&&(r||!y&&e>=0)&&!t&&yt(this,"onStart"),r>=g&&e>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){l=0,o&&(b+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var E=e<0?e:r;i;){if(o=i._prev,(i._act||E<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(E-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(E-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){l=0,o&&(b+=this._zTime=E?-1e-8:F);break}}i=o}}if(l&&!t&&(this.pause(),l.render(r>=g?0:-1e-8)._zTime=r>=g?1:-1,this._ts))return this._start=f,He(this),this.render(e,t,n);this._onUpdate&&!t&&yt(this,"onUpdate",!0),(b===v&&v>=this.totalDuration()||!b&&g)&&(f!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((e||!y)&&(b===v&&this._ts>0||!b&&this._ts<0)&&je(this,1),t||e<0&&!g||!b&&!g||(yt(this,b===v?"onComplete":"onReverseComplete",!0),this._prom&&!(b<v&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(W(t)||(t=nt(this,t)),!(e instanceof Kt)){if(Z(e))return e.forEach((function(e){return n.add(e,t)})),this;if(G(e))return this.addLabel(e,t);if(!K(e))return this;e=en.delayedCall(0,e)}return this!==e?Qe(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-L);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof en?t&&i.push(o):(n&&i.push(o),e&&i.push.apply(i,o.getChildren(!0,t,n)))),o=o._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return G(e)?this.removeLabel(e):K(e)?this.killTweensOf(e):(Ve(this,e),e===this._recent&&(this._recent=this._last),Ue(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ie(xt.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=nt(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=en.delayedCall(0,t||fe,n);return r.data="isPause",this._hasPause=1,Qe(this,r,nt(this,e))},n.removePause=function(e){var t=this._first;for(e=nt(this,e);t;)t._start===e&&"isPause"===t.data&&je(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Ht!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=ut(e),o=this._first,a=W(t);o;)o instanceof en?Ce(o._targets,i)&&(a?(!Ht||o._initted&&o._ts)&&o.globalTime(0)<=t&&o.globalTime(o.totalDuration())>t:!t||o.isActive())&&r.push(o):(n=o.getTweensOf(i,t)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(e,t){t=t||{};var n=this,r=nt(n,e),i=t,o=i.startAt,a=i.onStart,s=i.onStartParams,u=i.immediateRender,c=en.to(n,Oe({ease:"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:t.duration||Math.abs((r-(o&&"time"in o?o.time:n._time))/n.timeScale())||F,onStart:function(){n.pause();var e=t.duration||Math.abs((r-n._time)/n.timeScale());c._dur!==e&&$e(c,e,0,1).render(c._time,!0,!0),a&&a.apply(c,s||[])}},t));return u?c.render(0):c},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,Oe({startAt:{time:nt(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),vt(this,nt(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),vt(this,nt(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+F)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,o=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in o)o[r]>=n&&(o[r]+=e);return Ue(this)},n.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Ue(this)},n.totalDuration=function(e){var t,n,r,i=0,o=this,s=o._last,u=L;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(r=o.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>u&&o._sort&&s._ts&&!o._lock?(o._lock=1,Qe(o,s,n-s._delay,1)._lock=0):u=n,n<0&&s._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),u=0),s._end>i&&s._ts&&(i=s._end),s=t;$e(o,o===a&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(a._ts&&(Pe(a,We(e,a)),h=xt.frame),xt.frame>=ye){ye+=D.autoSleep||120;var t=a._first;if((!t||!t._ts)&&D.autoSleep&&xt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||xt.sleep()}}},t}(Kt);Oe(Wt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ht,zt=function(e,t,n,r,i,o,a){var s,u,c,l,h,f,d,p,m=new mn(this._pt,e,t,0,1,cn,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(d=~(r+="").indexOf("random("))&&(r=mt(r)),o&&(o(p=[n,r],e,t),n=p[0],r=p[1]),u=n.match(ne)||[];s=ne.exec(r);)l=s[0],h=r.substring(g,s.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),l!==u[v++]&&(f=parseFloat(u[v-1])||0,m._pt={_next:m._pt,p:h||1===v?h:",",s:f,c:"="===l.charAt(1)?parseFloat(l.substr(2))*("-"===l.charAt(0)?-1:1):parseFloat(l)-f,m:c&&c<4?Math.round:0},g=ne.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=a,(re.test(r)||d)&&(m.e=0),this._pt=m,m},Jt=function(e,t,n,r,i,o,a,s,u){K(r)&&(r=r(i||0,e,o));var c,l=e[t],h="get"!==n?n:K(l)?u?e[t.indexOf("set")||!K(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():l,f=K(l)?u?rn:nn:tn;if(G(r)&&(~r.indexOf("random(")&&(r=mt(r)),"="===r.charAt(1)&&(r=parseFloat(h)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(ot(h)||0))),h!==r)return isNaN(h*r)?(!l&&!(t in e)&&ce(t,r),zt.call(this,e,t,h,r,f,s||D.stringFilter,u)):(c=new mn(this._pt,e,t,+h||0,r-(h||0),"boolean"==typeof l?un:sn,0,f),u&&(c.fp=u),a&&c.modifier(a,this,e),this._pt=c)},Qt=function(e,t,n,r,i,o){var a,s,u,c;if(ge[e]&&!1!==(a=new ge[e]).init(i,a.rawVars?t[e]:function(e,t,n,r,i){if(K(e)&&(e=Xt(e,i,t,n,r)),!z(e)||e.style&&e.nodeType||Z(e)||X(e))return G(e)?Xt(e,i,t,n,r):e;var o,a={};for(o in e)a[o]=Xt(e[o],i,t,n,r);return a}(t[e],r,i,o,n),n,r,o)&&(n._pt=s=new mn(n._pt,i,e,0,1,a.render,a,0,a.priority),n!==f))for(u=n._ptLookup[n._targets.indexOf(i)],c=a._props.length;c--;)u[a._props[c]]=s;return a},Yt=function e(t,n){var r,i,s,u,c,l,h,f,d,p,m,g,v,y=t.vars,b=y.ease,_=y.startAt,w=y.immediateRender,S=y.lazy,E=y.onUpdate,T=y.onUpdateParams,I=y.callbackScope,C=y.runBackwards,k=y.yoyoEase,N=y.keyframes,P=y.autoRevert,x=t._dur,A=t._startAt,O=t._targets,D=t.parent,L=D&&"nested"===D.data?D.parent._targets:O,M="auto"===t._overwrite&&!o,V=t.timeline;if(V&&(!N||!b)&&(b="none"),t._ease=Vt(b,R.ease),t._yEase=k?Ft(Vt(!0===k?b:k,R.ease)):0,k&&t._yoyo&&!t._repeat&&(k=t._yEase,t._yEase=t._ease,t._ease=k),!V){if(g=(f=O[0]?Se(O[0]).harness:0)&&y[f.prop],r=Fe(y,de),A&&A.render(-1,!0).kill(),_){if(je(t._startAt=en.set(O,Oe({data:"isStart",overwrite:!1,parent:D,immediateRender:!0,lazy:J(S),startAt:null,delay:0,onUpdate:E,onUpdateParams:T,callbackScope:I,stagger:0},_))),w)if(n>0)P||(t._startAt=0);else if(x&&!(n<0&&A))return void(n&&(t._zTime=n))}else if(C&&x)if(A)!P&&(t._startAt=0);else if(n&&(w=!1),s=Oe({overwrite:!1,data:"isFromStart",lazy:w&&J(S),immediateRender:w,stagger:0,parent:D},r),g&&(s[f.prop]=g),je(t._startAt=en.set(O,s)),w){if(!n)return}else e(t._startAt,F);for(t._pt=0,S=x&&J(S)||S&&!x,i=0;i<O.length;i++){if(h=(c=O[i])._gsap||we(O)[i]._gsap,t._ptLookup[i]=p={},me[h.id]&&pe.length&&Ne(),m=L===O?i:L.indexOf(c),f&&!1!==(d=new f).init(c,g||r,t,m,L)&&(t._pt=u=new mn(t._pt,c,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){p[e]=u})),d.priority&&(l=1)),!f||g)for(s in r)ge[s]&&(d=Qt(s,r,t,m,c,L))?d.priority&&(l=1):p[s]=u=Jt.call(t,c,s,"get",r[s],m,L,0,y.stringFilter);t._op&&t._op[i]&&t.kill(c,t._op[i]),M&&t._pt&&(Ht=t,a.killTweensOf(c,p,t.globalTime(0)),v=!t.parent,Ht=0),t._pt&&S&&(me[h.id]=1)}l&&pn(t),t._onInit&&t._onInit(t)}t._from=!V&&!!y.runBackwards,t._onUpdate=E,t._initted=(!t._op||t._pt)&&!v},Xt=function(e,t,n,r,i){return K(e)?e.call(t,n,r,i):G(e)&&~e.indexOf("random(")?mt(e):e},Zt=_e+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",$t=(Zt+",id,stagger,delay,duration,paused,scrollTrigger").split(","),en=function(e){function t(t,n,i,s){var u;"number"==typeof n&&(i.duration=n,n=i,i=null);var c,l,h,f,d,p,m,g,v=(u=e.call(this,s?n:Me(n),i)||this).vars,y=v.duration,b=v.delay,_=v.immediateRender,w=v.stagger,S=v.overwrite,E=v.keyframes,T=v.defaults,I=v.scrollTrigger,C=v.yoyoEase,k=u.parent,N=(Z(t)||X(t)?W(t[0]):"length"in n)?[t]:ut(t);if(u._targets=N.length?we(N):le("GSAP target "+t+" not found. https://greensock.com",!D.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=S,E||w||Y(y)||Y(b)){if(n=u.vars,(c=u.timeline=new Wt({data:"nested",defaults:T||{}})).kill(),c.parent=c._dp=r(u),c._start=0,E)Oe(c.vars.defaults,{ease:"none"}),E.forEach((function(e){return c.to(N,e,">")}));else{if(f=N.length,m=w?lt(w):fe,z(w))for(d in w)~Zt.indexOf(d)&&(g||(g={}),g[d]=w[d]);for(l=0;l<f;l++){for(d in h={},n)$t.indexOf(d)<0&&(h[d]=n[d]);h.stagger=0,C&&(h.yoyoEase=C),g&&Re(h,g),p=N[l],h.duration=+Xt(y,r(u),l,p,N),h.delay=(+Xt(b,r(u),l,p,N)||0)-u._delay,!w&&1===f&&h.delay&&(u._delay=b=h.delay,u._start+=b,h.delay=0),c.to(p,h,m(l,p,N))}c.duration()?y=b=0:u.timeline=0}y||u.duration(y=c.duration())}else u.timeline=0;return!0!==S||o||(Ht=r(u),a.killTweensOf(N),Ht=0),k&&Je(k,r(u)),(_||!y&&!E&&u._start===Ie(k._time)&&J(_)&&qe(r(u))&&"nested"!==k.data)&&(u._tTime=-1e-8,u.render(Math.max(0,-b))),I&&Ye(r(u),I),u}i(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,o,a,s,u,c,l,h,f=this._time,d=this._tDur,p=this._dur,m=e>d-F&&e>=0?d:e<F?0:e;if(p){if(m!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=e<0){if(r=m,l=this.timeline,this._repeat){if(a=p+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,n);if(r=Ie(m%a),m===d?(o=this._repeat,r=p):((o=~~(m/a))&&o===m/a&&(r=p,o--),r>p&&(r=p)),(u=this._yoyo&&1&o)&&(h=this._yEase,r=p-r),s=Ke(this._tTime,a),r===f&&!n&&this._initted)return this;o!==s&&(l&&this._yEase&&Mt(l,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=n=1,this.render(Ie(a*o),!0).invalidate()._lock=0))}if(!this._initted){if(Xe(this,e<0?e:r,n,t))return this._tTime=0,this;if(p!==this._dur)return this.render(e,t,n)}for(this._tTime=m,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(r/p),this._from&&(this.ratio=c=1-c),r&&!f&&!t&&yt(this,"onStart"),i=this._pt;i;)i.r(c,i.d),i=i._next;l&&l.render(e<0?e:!r&&u?-1e-8:l._dur*c,t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,n),yt(this,"onUpdate")),this._repeat&&o!==s&&this.vars.onRepeat&&!t&&this.parent&&yt(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,!0),(e||!p)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&je(this,1),t||e<0&&!f||!m&&!f||(yt(this,m===d?"onComplete":"onReverseComplete",!0),this._prom&&!(m<d&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,o,a,s=e.ratio,u=t<0||!t&&(!e._start&&Ze(e)||(e._ts<0||e._dp._ts<0)&&"isFromStart"!==e.data&&"isStart"!==e.data)?0:1,c=e._rDelay,l=0;if(c&&e._repeat&&(l=it(0,e._tDur,t),o=Ke(l,c),a=Ke(e._tTime,c),e._yoyo&&1&o&&(u=1-u),o!==a&&(s=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==s||r||e._zTime===F||!t&&e._zTime){if(!e._initted&&Xe(e,t,r,n))return;for(a=e._zTime,e._zTime=t||(n?F:0),n||(n=t&&!a),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=l,n||yt(e,"onStart"),i=e._pt;i;)i.r(u,i.d),i=i._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!n&&yt(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&yt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&je(e,1),n||(yt(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},n.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?bt(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Ht&&!0!==Ht.vars.overwrite)._first||bt(this),this.parent&&n!==this.timeline.totalDuration()&&$e(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,a,s,u,c,l=this._targets,h=e?ut(e):l,f=this._ptLookup,d=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(l,h))return"all"===t&&(this._pt=0),bt(this);for(r=this._op=this._op||[],"all"!==t&&(G(t)&&(s={},Te(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var n,r,i,o,a=e[0]?Se(e[0]).harness:0,s=a&&a.aliases;if(!s)return t;for(r in n=Re({},t),s)if(r in n)for(i=(o=s[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(l,t)),c=l.length;c--;)if(~h.indexOf(l[c]))for(s in i=f[c],"all"===t?(r[c]=t,a=i,o={}):(o=r[c]=r[c]||{},a=t),a)(u=i&&i[s])&&("kill"in u.d&&!0!==u.d.kill(s)||Ve(this,u,"_pt"),delete i[s]),"all"!==o&&(o[s]=1);return this._initted&&!this._pt&&d&&bt(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,n){return new t(e,ke(arguments,1))},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,n,r){return new t(e,ke(arguments,2))},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return a.killTweensOf(e,t,n)},t}(Kt);Oe(en.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Te("staggerTo,staggerFrom,staggerFromTo",(function(e){en[e]=function(){var t=new Wt,n=at.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var tn=function(e,t,n){return e[t]=n},nn=function(e,t,n){return e[t](n)},rn=function(e,t,n,r){return e[t](r.fp,n)},on=function(e,t,n){return e.setAttribute(t,n)},an=function(e,t){return K(e[t])?nn:H(e[t])&&e.setAttribute?on:tn},sn=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},un=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},cn=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},ln=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},hn=function(e,t,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(e,t,n),o=i},fn=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Ve(this,r,"_pt"):r.dep||(t=1),r=n;return!t},dn=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},pn=function(e){for(var t,n,r,i,o=e._pt;o;){for(t=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=t}e._pt=r},mn=function(){function e(e,t,n,r,i,o,a,s,u){this.t=t,this.s=r,this.c=i,this.p=n,this.r=o||sn,this.d=a||this,this.set=s||tn,this.pr=u||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=dn,this.m=e,this.mt=n,this.tween=t},e}();Te(_e+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return de[e]=1})),ae.TweenMax=ae.TweenLite=en,ae.TimelineLite=ae.TimelineMax=Wt,a=new Wt({sortChildren:!1,defaults:R,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),D.stringFilter=Pt;var gn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return _t(e)}))},timeline:function(e){return new Wt(e)},getTweensOf:function(e,t){return a.getTweensOf(e,t)},getProperty:function(e,t,n,r){G(e)&&(e=ut(e)[0]);var i=Se(e||{}).get,o=n?Ae:xe;return"native"===n&&(n=""),e?t?o((ge[t]&&ge[t].get||i)(e,t,n,r)):function(t,n,r){return o((ge[t]&&ge[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=ut(e)).length>1){var r=e.map((function(e){return bn.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var o=ge[t],a=Se(e),s=a.harness&&(a.harness.aliases||{})[t]||t,u=o?function(t){var r=new o;f._pt=0,r.init(e,n?t+n:t,f,0,[e]),r.render(1,r),f._pt&&ln(1,f)}:a.set(e,s);return o?u:function(t){return u(e,s,n?t+n:t,a,1)}},isTweening:function(e){return a.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Vt(e.ease,R.ease)),Le(R,e||{})},config:function(e){return Le(D,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!ge[e]&&!ae[e]&&le(t+" effect requires "+e+" plugin.")})),ve[t]=function(e,t,r){return n(ut(e),Oe(t||{},i),r)},o&&(Wt.prototype[t]=function(e,n,r){return this.add(ve[t](e,z(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){Ot[e]=Vt(t)},parseEase:function(e,t){return arguments.length?Vt(e,t):Ot},getById:function(e){return a.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new Wt(e);for(i.smoothChildTiming=J(e.smoothChildTiming),a.remove(i),i._dp=0,i._time=i._tTime=a._time,n=a._first;n;)r=n._next,!t&&!n._dur&&n instanceof en&&n.vars.onComplete===n._targets[0]||Qe(i,n,n._start-n._delay),n=r;return Qe(a,i,0),i},utils:{wrap:function e(t,n,r){var i=n-t;return Z(t)?pt(t,e(0,t.length),n):rt(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,o=2*i;return Z(t)?pt(t,e(0,t.length-1),n):rt(r,(function(e){return t+((e=(o+(e-t)%o)%o||0)>i?o-e:e)}))},distribute:lt,random:dt,snap:ft,normalize:function(e,t,n){return gt(e,t,0,1,n)},getUnit:ot,clamp:function(e,t,n){return rt(n,(function(n){return it(e,t,n)}))},splitColor:Tt,toArray:ut,mapRange:gt,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||ot(n))}},interpolate:function e(t,n,r,i){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var a,s,u,c,l,h=G(t),f={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(Z(t)&&!Z(n)){for(u=[],c=t.length,l=c-2,s=1;s<c;s++)u.push(e(t[s-1],t[s]));c--,o=function(e){e*=c;var t=Math.min(l,~~e);return u[t](e-t)},r=n}else i||(t=Re(Z(t)?[]:{},t));if(!u){for(a in n)Jt.call(f,t,a,"get",n[a]);o=function(e){return ln(e,f)||(h?t.p:t)}}}return rt(r,o)},shuffle:ct},install:ue,effects:ve,ticker:xt,updateRoot:Wt.updateRoot,plugins:ge,globalTimeline:a,core:{PropTween:mn,globals:he,Tween:en,Timeline:Wt,Animation:Kt,getCache:Se,_removeLinkedListItem:Ve,suppressOverwrites:function(e){return o=e}}};Te("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return gn[e]=en[e]})),xt.add(Wt.updateRoot),f=gn.to({},{duration:0});var vn=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},yn=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(G(n)&&(r={},Te(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,o=e._targets;for(n in t)for(r=o.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=vn(i,n)),i&&i.modifier&&i.modifier(t[n],e,o[r],n))}(e,n)}}}},bn=gn.registerPlugin({name:"attr",init:function(e,t,n,r,i){var o,a;for(o in t)(a=this.add(e,"setAttribute",(e.getAttribute(o)||0)+"",t[o],r,i,0,0,o))&&(a.op=o),this._props.push(o)}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n])}},yn("roundProps",ht),yn("modifiers"),yn("snap",ft))||gn;en.version=Wt.version=bn.version="3.6.0",l=1,Q()&&At(),Ot.Power0,Ot.Power1,Ot.Power2,Ot.Power3,Ot.Power4,Ot.Linear,Ot.Quad,Ot.Cubic,Ot.Quart,Ot.Quint,Ot.Strong,Ot.Elastic,Ot.Back,Ot.SteppedEase,Ot.Bounce,Ot.Sine,Ot.Expo,Ot.Circ;var _n,wn,Sn,En,Tn,In,Cn,kn,Nn={},Pn=180/Math.PI,xn=Math.PI/180,An=Math.atan2,On=/([A-Z])/g,Dn=/(?:left|right|width|margin|padding|x)/i,Rn=/[\s,\(]\S/,Ln={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Fn=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Mn=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Vn=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},jn=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},Un=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Bn=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},qn=function(e,t,n){return e.style[t]=n},Gn=function(e,t,n){return e.style.setProperty(t,n)},Kn=function(e,t,n){return e._gsap[t]=n},Wn=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},Hn=function(e,t,n,r,i){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},zn=function(e,t,n,r,i){var o=e._gsap;o[t]=n,o.renderTransform(i,o)},Jn="transform",Qn=Jn+"Origin",Yn=function(e,t){var n=wn.createElementNS?wn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):wn.createElement(e);return n.style?n:wn.createElement(e)},Xn=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(On,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,$n(n)||n,1)||""},Zn="O,Moz,ms,Ms,Webkit".split(","),$n=function(e,t,n){var r=(t||Tn).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(Zn[i]+e in r););return i<0?null:(3===i?"ms":i>=0?Zn[i]:"")+e},er=function(){"undefined"!=typeof window&&window.document&&(_n=window,wn=_n.document,Sn=wn.documentElement,Tn=Yn("div")||{style:{}},In=Yn("div"),Jn=$n(Jn),Qn=Jn+"Origin",Tn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",kn=!!$n("perspective"),En=1)},tr=function e(t){var n,r=Yn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(Sn.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),Sn.removeChild(r),this.style.cssText=a,n},nr=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},rr=function(e){var t;try{t=e.getBBox()}catch(n){t=tr.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===tr||(t=tr.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+nr(e,["x","cx","x1"])||0,y:+nr(e,["y","cy","y1"])||0,width:0,height:0}},ir=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!rr(e))},or=function(e,t){if(t){var n=e.style;t in Nn&&t!==Qn&&(t=Jn),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(On,"-$1").toLowerCase())):n.removeAttribute(t)}},ar=function(e,t,n,r,i,o){var a=new mn(e._pt,t,n,0,1,o?Bn:Un);return e._pt=a,a.b=r,a.e=i,e._props.push(n),a},sr={deg:1,rad:1,turn:1},ur=function e(t,n,r,i){var o,a,s,u,c=parseFloat(r)||0,l=(r+"").trim().substr((c+"").length)||"px",h=Tn.style,f=Dn.test(n),d="svg"===t.tagName.toLowerCase(),p=(d?"client":"offset")+(f?"Width":"Height"),m=100,g="px"===i,v="%"===i;return i===l||!c||sr[i]||sr[l]?c:("px"!==l&&!g&&(c=e(t,n,r,"px")),u=t.getCTM&&ir(t),!v&&"%"!==l||!Nn[n]&&!~n.indexOf("adius")?(h[f?"width":"height"]=m+(g?l:i),a=~n.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,u&&(a=(t.ownerSVGElement||{}).parentNode),a&&a!==wn&&a.appendChild||(a=wn.body),(s=a._gsap)&&v&&s.width&&f&&s.time===xt.time?Ie(c/s.width*m):((v||"%"===l)&&(h.position=Xn(t,"position")),a===t&&(h.position="static"),a.appendChild(Tn),o=Tn[p],a.removeChild(Tn),h.position="absolute",f&&v&&((s=Se(a)).time=xt.time,s.width=a[p]),Ie(g?o*c/m:o&&c?m/o*c:0))):(o=u?t.getBBox()[f?"width":"height"]:t[p],Ie(v?c/o*m:c/100*o)))},cr=function(e,t,n,r){var i;return En||er(),t in Ln&&"transform"!==t&&~(t=Ln[t]).indexOf(",")&&(t=t.split(",")[0]),Nn[t]&&"transform"!==t?(i=_r(e,r),i="transformOrigin"!==t?i[t]:wr(Xn(e,Qn))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=dr[t]&&dr[t](e,t,n)||Xn(e,t)||Ee(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?ur(e,t,i,n)+n:i},lr=function(e,t,n,r){if(!n||"none"===n){var i=$n(t,e,1),o=i&&Xn(e,i,1);o&&o!==n?(t=i,n=o):"borderColor"===t&&(n=Xn(e,"borderTopColor"))}var a,s,u,c,l,h,f,d,p,m,g,v,y=new mn(this._pt,e.style,t,0,1,cn),b=0,_=0;if(y.b=n,y.e=r,n+="","auto"==(r+="")&&(e.style[t]=r,r=Xn(e,t)||r,e.style[t]=n),Pt(a=[n,r]),r=a[1],u=(n=a[0]).match(te)||[],(r.match(te)||[]).length){for(;s=te.exec(r);)f=s[0],p=r.substring(b,s.index),l?l=(l+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(l=1),f!==(h=u[_++]||"")&&(c=parseFloat(h)||0,g=h.substr((c+"").length),(v="="===f.charAt(1)?+(f.charAt(0)+"1"):0)&&(f=f.substr(2)),d=parseFloat(f),m=f.substr((d+"").length),b=te.lastIndex-m.length,m||(m=m||D.units[t]||g,b===r.length&&(r+=m,y.e+=m)),g!==m&&(c=ur(e,t,h,m)||0),y._pt={_next:y._pt,p:p||1===_?p:",",s:c,c:v?v*d:d-c,m:l&&l<4||"zIndex"===t?Math.round:0});y.c=b<r.length?r.substring(b,r.length):""}else y.r="display"===t&&"none"===r?Bn:Un;return re.test(r)&&(y.e=0),this._pt=y,y},hr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},fr=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,o=t.t,a=o.style,s=t.u,u=o._gsap;if("all"===s||!0===s)a.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],Nn[n]&&(r=1,n="transformOrigin"===n?Qn:Jn),or(o,n);r&&(or(o,Jn),u&&(u.svg&&o.removeAttribute("transform"),_r(o,1),u.uncache=1))}},dr={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var o=e._pt=new mn(e._pt,t,n,0,0,fr);return o.u=r,o.pr=-10,o.tween=i,e._props.push(n),1}}},pr=[1,0,0,1,0,0],mr={},gr=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},vr=function(e){var t=Xn(e,Jn);return gr(t)?pr:t.substr(7).match(ee).map(Ie)},yr=function(e,t){var n,r,i,o,a=e._gsap||Se(e),s=e.style,u=vr(e);return a.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?pr:u:(u!==pr||e.offsetParent||e===Sn||a.svg||(i=s.display,s.display="block",(n=e.parentNode)&&e.offsetParent||(o=1,r=e.nextSibling,Sn.appendChild(e)),u=vr(e),i?s.display=i:or(e,"display"),o&&(r?n.insertBefore(e,r):n?n.appendChild(e):Sn.removeChild(e))),t&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},br=function(e,t,n,r,i,o){var a,s,u,c=e._gsap,l=i||yr(e,!0),h=c.xOrigin||0,f=c.yOrigin||0,d=c.xOffset||0,p=c.yOffset||0,m=l[0],g=l[1],v=l[2],y=l[3],b=l[4],_=l[5],w=t.split(" "),S=parseFloat(w[0])||0,E=parseFloat(w[1])||0;n?l!==pr&&(s=m*y-g*v)&&(u=S*(-g/s)+E*(m/s)-(m*_-g*b)/s,S=S*(y/s)+E*(-v/s)+(v*_-y*b)/s,E=u):(S=(a=rr(e)).x+(~w[0].indexOf("%")?S/100*a.width:S),E=a.y+(~(w[1]||w[0]).indexOf("%")?E/100*a.height:E)),r||!1!==r&&c.smooth?(b=S-h,_=E-f,c.xOffset=d+(b*m+_*v)-b,c.yOffset=p+(b*g+_*y)-_):c.xOffset=c.yOffset=0,c.xOrigin=S,c.yOrigin=E,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[Qn]="0px 0px",o&&(ar(o,c,"xOrigin",h,S),ar(o,c,"yOrigin",f,E),ar(o,c,"xOffset",d,c.xOffset),ar(o,c,"yOffset",p,c.yOffset)),e.setAttribute("data-svg-origin",S+" "+E)},_r=function(e,t){var n=e._gsap||new Gt(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b,_,w,S,E,T,I,C,k,N,P,x,A,O,R,L,F=e.style,M=n.scaleX<0,V="px",j="deg",U=Xn(e,Qn)||"0";return r=i=o=u=c=l=h=f=d=0,a=s=1,n.svg=!(!e.getCTM||!ir(e)),g=yr(e,n.svg),n.svg&&(C=!n.uncache&&e.getAttribute("data-svg-origin"),br(e,C||U,!!C||n.originIsAbsolute,!1!==n.smooth,g)),p=n.xOrigin||0,m=n.yOrigin||0,g!==pr&&(_=g[0],w=g[1],S=g[2],E=g[3],r=T=g[4],i=I=g[5],6===g.length?(a=Math.sqrt(_*_+w*w),s=Math.sqrt(E*E+S*S),u=_||w?An(w,_)*Pn:0,(h=S||E?An(S,E)*Pn+u:0)&&(s*=Math.cos(h*xn)),n.svg&&(r-=p-(p*_+m*S),i-=m-(p*w+m*E))):(L=g[6],O=g[7],P=g[8],x=g[9],A=g[10],R=g[11],r=g[12],i=g[13],o=g[14],c=(v=An(L,A))*Pn,v&&(C=T*(y=Math.cos(-v))+P*(b=Math.sin(-v)),k=I*y+x*b,N=L*y+A*b,P=T*-b+P*y,x=I*-b+x*y,A=L*-b+A*y,R=O*-b+R*y,T=C,I=k,L=N),l=(v=An(-S,A))*Pn,v&&(y=Math.cos(-v),R=E*(b=Math.sin(-v))+R*y,_=C=_*y-P*b,w=k=w*y-x*b,S=N=S*y-A*b),u=(v=An(w,_))*Pn,v&&(C=_*(y=Math.cos(v))+w*(b=Math.sin(v)),k=T*y+I*b,w=w*y-_*b,I=I*y-T*b,_=C,T=k),c&&Math.abs(c)+Math.abs(u)>359.9&&(c=u=0,l=180-l),a=Ie(Math.sqrt(_*_+w*w+S*S)),s=Ie(Math.sqrt(I*I+L*L)),v=An(T,I),h=Math.abs(v)>2e-4?v*Pn:0,d=R?1/(R<0?-R:R):0),n.svg&&(C=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!gr(Xn(e,Jn)),C&&e.setAttribute("transform",C))),Math.abs(h)>90&&Math.abs(h)<270&&(M?(a*=-1,h+=u<=0?180:-180,u+=u<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),n.x=r-((n.xPercent=r&&(n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+V,n.y=i-((n.yPercent=i&&(n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+V,n.z=o+V,n.scaleX=Ie(a),n.scaleY=Ie(s),n.rotation=Ie(u)+j,n.rotationX=Ie(c)+j,n.rotationY=Ie(l)+j,n.skewX=h+j,n.skewY=f+j,n.transformPerspective=d+V,(n.zOrigin=parseFloat(U.split(" ")[2])||0)&&(F[Qn]=wr(U)),n.xOffset=n.yOffset=0,n.force3D=D.force3D,n.renderTransform=n.svg?Nr:kn?kr:Er,n.uncache=0,n},wr=function(e){return(e=e.split(" "))[0]+" "+e[1]},Sr=function(e,t,n){var r=ot(t);return Ie(parseFloat(t)+parseFloat(ur(e,"x",n+"px",r)))+r},Er=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,kr(e,t)},Tr="0deg",Ir="0px",Cr=") ",kr=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,o=n.x,a=n.y,s=n.z,u=n.rotation,c=n.rotationY,l=n.rotationX,h=n.skewX,f=n.skewY,d=n.scaleX,p=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,b="",_="auto"===g&&e&&1!==e||!0===g;if(y&&(l!==Tr||c!==Tr)){var w,S=parseFloat(c)*xn,E=Math.sin(S),T=Math.cos(S);S=parseFloat(l)*xn,w=Math.cos(S),o=Sr(v,o,E*w*-y),a=Sr(v,a,-Math.sin(S)*-y),s=Sr(v,s,T*w*-y+y)}m!==Ir&&(b+="perspective("+m+Cr),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(_||o!==Ir||a!==Ir||s!==Ir)&&(b+=s!==Ir||_?"translate3d("+o+", "+a+", "+s+") ":"translate("+o+", "+a+Cr),u!==Tr&&(b+="rotate("+u+Cr),c!==Tr&&(b+="rotateY("+c+Cr),l!==Tr&&(b+="rotateX("+l+Cr),h===Tr&&f===Tr||(b+="skew("+h+", "+f+Cr),1===d&&1===p||(b+="scale("+d+", "+p+Cr),v.style[Jn]=b||"translate(0, 0)"},Nr=function(e,t){var n,r,i,o,a,s=t||this,u=s.xPercent,c=s.yPercent,l=s.x,h=s.y,f=s.rotation,d=s.skewX,p=s.skewY,m=s.scaleX,g=s.scaleY,v=s.target,y=s.xOrigin,b=s.yOrigin,_=s.xOffset,w=s.yOffset,S=s.forceCSS,E=parseFloat(l),T=parseFloat(h);f=parseFloat(f),d=parseFloat(d),(p=parseFloat(p))&&(d+=p=parseFloat(p),f+=p),f||d?(f*=xn,d*=xn,n=Math.cos(f)*m,r=Math.sin(f)*m,i=Math.sin(f-d)*-g,o=Math.cos(f-d)*g,d&&(p*=xn,a=Math.tan(d-p),i*=a=Math.sqrt(1+a*a),o*=a,p&&(a=Math.tan(p),n*=a=Math.sqrt(1+a*a),r*=a)),n=Ie(n),r=Ie(r),i=Ie(i),o=Ie(o)):(n=m,o=g,r=i=0),(E&&!~(l+"").indexOf("px")||T&&!~(h+"").indexOf("px"))&&(E=ur(v,"x",l,"px"),T=ur(v,"y",h,"px")),(y||b||_||w)&&(E=Ie(E+y-(y*n+b*i)+_),T=Ie(T+b-(y*r+b*o)+w)),(u||c)&&(a=v.getBBox(),E=Ie(E+u/100*a.width),T=Ie(T+c/100*a.height)),a="matrix("+n+","+r+","+i+","+o+","+E+","+T+")",v.setAttribute("transform",a),S&&(v.style[Jn]=a)},Pr=function(e,t,n,r,i,o){var a,s,u=360,c=G(i),l=parseFloat(i)*(c&&~i.indexOf("rad")?Pn:1),h=o?l*o:l-r,f=r+h+"deg";return c&&("short"===(a=i.split("_")[1])&&(h%=u)!=h%180&&(h+=h<0?u:-360),"cw"===a&&h<0?h=(h+36e9)%u-~~(h/u)*u:"ccw"===a&&h>0&&(h=(h-36e9)%u-~~(h/u)*u)),e._pt=s=new mn(e._pt,t,n,r,h,Mn),s.e=f,s.u="deg",e._props.push(n),s},xr=function(e,t,n){var r,i,o,a,s,u,c,l=In.style,h=n._gsap;for(i in l.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",l[Jn]=t,wn.body.appendChild(In),r=_r(In,1),Nn)(o=h[i])!==(a=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=ot(o)!==(c=ot(a))?ur(n,i,o,c):parseFloat(o),u=parseFloat(a),e._pt=new mn(e._pt,h,i,s,u-s,Fn),e._pt.u=c||0,e._props.push(i));wn.body.removeChild(In)};Te("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",o="Left",a=(t<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map((function(n){return t<2?e+n:"border"+n+e}));dr[t>1?"border"+e:e]=function(e,t,n,r,i){var o,s;if(arguments.length<4)return o=a.map((function(t){return cr(e,t,n)})),5===(s=o.join(" ")).split(o[0]).length?o[0]:s;o=(r+"").split(" "),s={},a.forEach((function(e,t){return s[e]=o[t]=o[t]||o[(t-1)/2|0]})),e.init(t,s,i)}}));var Ar,Or,Dr={name:"css",register:er,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var o,a,s,u,c,l,h,f,d,p,m,g,v,y,b,_,w,S,E,T=this._props,I=e.style,C=n.vars.startAt;for(h in En||er(),t)if("autoRound"!==h&&(a=t[h],!ge[h]||!Qt(h,t,n,r,e,i)))if(c=typeof a,l=dr[h],"function"===c&&(c=typeof(a=a.call(n,r,e,i))),"string"===c&&~a.indexOf("random(")&&(a=mt(a)),l)l(this,e,h,a,n)&&(b=1);else if("--"===h.substr(0,2))o=(getComputedStyle(e).getPropertyValue(h)+"").trim(),a+="",f=ot(o),(d=ot(a))?f!==d&&(o=ur(e,h,o,d)+d):f&&(a+=f),this.add(I,"setProperty",o,a,r,i,0,0,h);else if("undefined"!==c){if(C&&h in C?(o="function"==typeof C[h]?C[h].call(n,r,e,i):C[h],h in D.units&&!ot(o)&&(o+=D.units[h]),"="===(o+"").charAt(1)&&(o=cr(e,h))):o=cr(e,h),u=parseFloat(o),(p="string"===c&&"="===a.charAt(1)?+(a.charAt(0)+"1"):0)&&(a=a.substr(2)),s=parseFloat(a),h in Ln&&("autoAlpha"===h&&(1===u&&"hidden"===cr(e,"visibility")&&s&&(u=0),ar(this,I,"visibility",u?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==h&&"transform"!==h&&~(h=Ln[h]).indexOf(",")&&(h=h.split(",")[0])),m=h in Nn)if(g||((v=e._gsap).renderTransform&&!t.parseTransform||_r(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new mn(this._pt,I,Jn,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new mn(this._pt,v,"scaleY",v.scaleY,p?p*s:s-v.scaleY),T.push("scaleY",h),h+="X";else{if("transformOrigin"===h){w=void 0,S=void 0,E=void 0,S=(w=(_=a).split(" "))[0],E=w[1]||"50%","top"!==S&&"bottom"!==S&&"left"!==E&&"right"!==E||(_=S,S=E,E=_),w[0]=hr[S]||S,w[1]=hr[E]||E,a=w.join(" "),v.svg?br(e,a,0,y,0,this):((d=parseFloat(a.split(" ")[2])||0)!==v.zOrigin&&ar(this,v,"zOrigin",v.zOrigin,d),ar(this,I,h,wr(o),wr(a)));continue}if("svgOrigin"===h){br(e,a,1,y,0,this);continue}if(h in mr){Pr(this,v,h,u,a,p);continue}if("smoothOrigin"===h){ar(this,v,"smooth",v.smooth,a);continue}if("force3D"===h){v[h]=a;continue}if("transform"===h){xr(this,a,e);continue}}else h in I||(h=$n(h)||h);if(m||(s||0===s)&&(u||0===u)&&!Rn.test(a)&&h in I)s||(s=0),(f=(o+"").substr((u+"").length))!==(d=ot(a)||(h in D.units?D.units[h]:f))&&(u=ur(e,h,o,d)),this._pt=new mn(this._pt,m?v:I,h,u,p?p*s:s-u,m||"px"!==d&&"zIndex"!==h||!1===t.autoRound?Fn:jn),this._pt.u=d||0,f!==d&&(this._pt.b=o,this._pt.r=Vn);else if(h in I)lr.call(this,e,h,o,a);else{if(!(h in e)){ce(h,a);continue}this.add(e,h,e[h],a,r,i)}T.push(h)}b&&pn(this)},get:cr,aliases:Ln,getSetter:function(e,t,n){var r=Ln[t];return r&&r.indexOf(",")<0&&(t=r),t in Nn&&t!==Qn&&(e._gsap.x||cr(e,"x"))?n&&Cn===n?"scale"===t?Wn:Kn:(Cn=n||{})&&("scale"===t?Hn:zn):e.style&&!H(e.style[t])?qn:~t.indexOf("-")?Gn:an(e,t)},core:{_removeProperty:or,_getMatrix:yr}};bn.utils.checkPrefix=$n,Or=Te("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(Ar="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){Nn[e]=1})),Te(Ar,(function(e){D.units[e]="deg",mr[e]=1})),Ln[Or[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Ar,Te("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");Ln[t[1]]=Or[t[0]]})),Te("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){D.units[e]="px"})),bn.registerPlugin(Dr);var Rr=bn.registerPlugin(Dr)||bn;Rr.core.Tween},8676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},9755:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,u=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,l=o.indexOf,h={},f=h.toString,d=h.hasOwnProperty,p=d.toString,m=p.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},b=r.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,o=(n=n||b).createElement("script");if(o.text=e,t)for(r in _)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function S(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[f.call(e)]||"object":typeof e}var E="3.6.0",T=function(e,t){return new T.fn.init(e,t)};function I(e){var t=!!e&&"length"in e&&e.length,n=S(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}T.fn=T.prototype={jquery:E,constructor:T,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=T.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return T.each(this,e)},map:function(e){return this.pushStack(T.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(T.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},T.extend=T.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(T.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||T.isPlainObject(n)?n:{},i=!1,a[t]=T.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},T.extend({expando:"jQuery"+(E+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==f.call(e)||(t=a(e))&&("function"!=typeof(n=d.call(t,"constructor")&&t.constructor)||p.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(I(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(I(Object(e))?T.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(I(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return u(a)},guid:1,support:g}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=o[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var C=function(e){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b,_="sizzle"+1*new Date,w=e.document,S=0,E=0,T=ue(),I=ue(),C=ue(),k=ue(),N=function(e,t){return e===t&&(h=!0),0},P={}.hasOwnProperty,x=[],A=x.pop,O=x.push,D=x.push,R=x.slice,L=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",V="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",j="\\[[\\x20\\t\\r\\n\\f]*("+V+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+V+"))|)"+M+"*\\]",U=":("+V+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),q=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),G=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),K=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),W=new RegExp(M+"|>"),H=new RegExp(U),z=new RegExp("^"+V+"$"),J={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),TAG:new RegExp("^("+V+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){f()},ae=_e((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{D.apply(x=R.call(w.childNodes),w.childNodes),x[w.childNodes.length].nodeType}catch(e){D={apply:x.length?function(e,t){O.apply(e,R.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var o,s,c,l,h,p,v,y=t&&t.ownerDocument,w=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return r;if(!i&&(f(t),t=t||d,m)){if(11!==w&&(h=$.exec(e)))if(o=h[1]){if(9===w){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(y&&(c=y.getElementById(o))&&b(t,c)&&c.id===o)return r.push(c),r}else{if(h[2])return D.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!k[e+" "]&&(!g||!g.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===w&&(W.test(e)||K.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(re,ie):t.setAttribute("id",l=_)),s=(p=a(e)).length;s--;)p[s]=(l?"#"+l:":scope")+" "+be(p[s]);v=p.join(",")}try{return D.apply(r,y.querySelectorAll(v)),r}catch(t){k(e,!0)}finally{l===_&&t.removeAttribute("id")}}}return u(e.replace(q,"$1"),t,r,i)}function ue(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ce(e){return e[_]=!0,e}function le(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Q.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!=d&&9===a.nodeType&&a.documentElement?(p=(d=a).documentElement,m=!o(d),w!=d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.scope=le((function(e){return p.appendChild(e).appendChild(d.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(d.getElementsByClassName),n.getById=le((function(e){return p.appendChild(e).id=_,!d.getElementsByName||!d.getElementsByName(_).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Z.test(d.querySelectorAll))&&(le((function(e){var t;p.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+F+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),(t=d.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Z.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",U)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(p.compareDocumentPosition),b=t||Z.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==d||e.ownerDocument==w&&b(w,e)?-1:t==d||t.ownerDocument==w&&b(w,t)?1:l?L(l,e)-L(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==d?-1:t==d?1:i?-1:o?1:l?L(l,e)-L(l,t):0;if(i===o)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?fe(a[r],s[r]):a[r]==w?-1:s[r]==w?1:0},d):d},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&m&&!k[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){k(t,!0)}return se(t,d,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=d&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=d&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&P.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,o=0;if(h=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(N),h){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return l=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ce,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&H.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+M+"|$)"))&&T(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,h,f,d,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(b=(d=(c=(l=(h=(f=g)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===S&&c[1])&&c[2],f=d&&g.childNodes[d];f=++d&&f&&f[m]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===t){l[e]=[S,d,b];break}}else if(y&&(b=d=(c=(l=(h=(f=t)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===S&&c[1]),!1===b)for(;(f=++d&&f&&f[m]||(b=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((l=(h=f[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]=[S,b]),f!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[_]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=L(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ce((function(e){var t=[],n=[],r=s(e.replace(q,"$1"));return r[_]?ce((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return se(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ce((function(e){return z.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ge((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function _e(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=E++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var c,l,h,f=[S,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(l=(h=t[_]||(t[_]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&&c[0]===S&&c[1]===s)return f[2]=c[2];if(l[o]=f,f[2]=e(t,n,u))return!0}return!1}}function we(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Se(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function Ee(e,t,n,r,i,o){return r&&!r[_]&&(r=Ee(r)),i&&!i[_]&&(i=Ee(i,o)),ce((function(o,a,s,u){var c,l,h,f=[],d=[],p=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:Se(m,f,e,s,u),v=n?i||(o?e:p||r)?[]:a:g;if(n&&n(g,v,s,u),r)for(c=Se(v,d),r(c,[],s,u),l=c.length;l--;)(h=c[l])&&(v[d[l]]=!(g[d[l]]=h));if(o){if(i||e){if(i){for(c=[],l=v.length;l--;)(h=v[l])&&c.push(g[l]=h);i(null,v=[],c,u)}for(l=v.length;l--;)(h=v[l])&&(c=i?L(o,h):f[l])>-1&&(o[c]=!(a[c]=h))}}else v=Se(v===a?v.splice(p,v.length):v),i?i(null,a,v,u):D.apply(a,v)}))}function Te(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,l=_e((function(e){return e===t}),s,!0),h=_e((function(e){return L(t,e)>-1}),s,!0),f=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):h(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])f=[_e(we(f),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[_]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return Ee(u>1&&we(f),u>1&&be(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(q,"$1"),n,u<i&&Te(e.slice(u,i)),i<o&&Te(e=e.slice(i)),i<o&&be(e))}f.push(n)}return we(f)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=se.tokenize=function(e,t){var n,i,o,a,s,u,c,l=I[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=r.preFilter;s;){for(a in n&&!(i=G.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=K.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(q," ")}),s=s.slice(n.length)),r.filter)!(i=J[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):I(e,u).slice(0)},s=se.compile=function(e,t){var n,i=[],o=[],s=C[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Te(t[n]))[_]?i.push(s):o.push(s);(s=C(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,l){var h,p,g,v=0,y="0",b=o&&[],_=[],w=c,E=o||i&&r.find.TAG("*",l),T=S+=null==w?1:Math.random()||.1,I=E.length;for(l&&(c=a==d||a||l);y!==I&&null!=(h=E[y]);y++){if(i&&h){for(p=0,a||h.ownerDocument==d||(f(h),s=!m);g=e[p++];)if(g(h,a||d,s)){u.push(h);break}l&&(S=T)}n&&((h=!g&&h)&&v--,o&&b.push(h))}if(v+=y,n&&y!==v){for(p=0;g=t[p++];)g(b,_,a,s);if(o){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=A.call(u));_=Se(_)}D.apply(u,_),l&&!o&&_.length>0&&v+t.length>1&&se.uniqueSort(u)}return l&&(S=T,c=w),b};return n?ce(o):o}(o,i))).selector=e}return s},u=se.select=function(e,t,n,i){var o,u,c,l,h,f="function"==typeof e&&e,d=!i&&a(e=f.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===t.nodeType&&m&&r.relative[u[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=J.needsContext.test(e)?0:u.length;o--&&(c=u[o],!r.relative[l=c.type]);)if((h=r.find[l])&&(i=h(c.matches[0].replace(te,ne),ee.test(u[0].type)&&ve(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&be(u)))return D.apply(n,i),n;break}}return(f||s(e,d))(i,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=_.split("").sort(N).join("")===_,n.detectDuplicates=!!h,f(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||he("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||he("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||he(F,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(r);T.find=C,T.expr=C.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=C.uniqueSort,T.text=C.getText,T.isXMLDoc=C.isXML,T.contains=C.contains,T.escapeSelector=C.escape;var k=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&T(e).is(n))break;r.push(e)}return r},N=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},P=T.expr.match.needsContext;function x(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(e,t,n){return v(t)?T.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?T.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?T.grep(e,(function(e){return l.call(t,e)>-1!==n})):T.filter(t,e,n)}T.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?T.find.matchesSelector(r,e)?[r]:[]:T.find.matches(e,T.grep(t,(function(e){return 1===e.nodeType})))},T.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(T(e).filter((function(){for(t=0;t<r;t++)if(T.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)T.find(e,i[t],n);return r>1?T.uniqueSort(n):n},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&P.test(e)?T(e):e||[],!1).length}});var D,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof T?t[0]:t,T.merge(this,T.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),A.test(r[1])&&T.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=b.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(T):T.makeArray(e,this)}).prototype=T.fn,D=T(b);var L=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}T.fn.extend({has:function(e){var t=T(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(T.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&T(e);if(!P.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(T(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),T.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(x(e,"template")&&(e=e.content||e),T.merge([],e.childNodes))}},(function(e,t){T.fn[e]=function(n,r){var i=T.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=T.filter(r,i)),this.length>1&&(F[e]||T.uniqueSort(i),L.test(e)&&i.reverse()),this.pushStack(i)}}));var V=/[^\x20\t\r\n\f]+/g;function j(e){return e}function U(e){throw e}function B(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}T.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return T.each(e.match(V)||[],(function(e,n){t[n]=!0})),t}(e):T.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){T.each(n,(function(n,r){v(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==S(r)&&t(r)}))}(arguments),n&&!t&&u()),this},remove:function(){return T.each(arguments,(function(e,t){for(var n;(n=T.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?T.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},T.extend({Deferred:function(e){var t=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return T.Deferred((function(n){T.each(t,(function(t,r){var i=v(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function a(e,t,n,i){return function(){var s=this,u=arguments,c=function(){var r,c;if(!(e<o)){if((r=n.apply(s,u))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"==typeof r||"function"==typeof r)&&r.then,v(c)?i?c.call(r,a(o,t,j,i),a(o,t,U,i)):(o++,c.call(r,a(o,t,j,i),a(o,t,U,i),a(o,t,j,t.notifyWith))):(n!==j&&(s=void 0,u=[r]),(i||t.resolveWith)(s,u))}},l=i?c:function(){try{c()}catch(r){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(r,l.stackTrace),e+1>=o&&(n!==U&&(s=void 0,u=[r]),t.rejectWith(s,u))}};e?l():(T.Deferred.getStackHook&&(l.stackTrace=T.Deferred.getStackHook()),r.setTimeout(l))}}return T.Deferred((function(r){t[0][3].add(a(0,r,v(i)?i:j,r.notifyWith)),t[1][3].add(a(0,r,v(e)?e:j)),t[2][3].add(a(0,r,v(n)?n:U))})).promise()},promise:function(e){return null!=e?T.extend(e,i):i}},o={};return T.each(t,(function(e,r){var a=r[2],s=r[5];i[r[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=s.call(arguments),o=T.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(B(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||v(i[n]&&i[n].then)))return o.then();for(;n--;)B(i[n],a(n),o.reject);return o.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&q.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},T.readyException=function(e){r.setTimeout((function(){throw e}))};var G=T.Deferred();function K(){b.removeEventListener("DOMContentLoaded",K),r.removeEventListener("load",K),T.ready()}T.fn.ready=function(e){return G.then(e).catch((function(e){T.readyException(e)})),this},T.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==e&&--T.readyWait>0||G.resolveWith(b,[T]))}}),T.ready.then=G.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(T.ready):(b.addEventListener("DOMContentLoaded",K),r.addEventListener("load",K));var W=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===S(n))for(s in i=!0,n)W(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(T(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o},H=/^-ms-/,z=/-([a-z])/g;function J(e,t){return t.toUpperCase()}function Q(e){return e.replace(H,"ms-").replace(z,J)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=T.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Q(t)]=n;else for(r in t)i[Q(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Q):(t=Q(t))in r?[t]:t.match(V)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||T.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!T.isEmptyObject(t)}};var Z=new X,$=new X,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}$.set(e,t,n)}else n=void 0;return n}T.extend({hasData:function(e){return $.hasData(e)||Z.hasData(e)},data:function(e,t,n){return $.access(e,t,n)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),T.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=$.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Q(r.slice(5)),ne(o,r,i[r]));Z.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){$.set(this,e)})):W(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=$.get(o,e))||void 0!==(n=ne(o,e))?n:void 0;this.each((function(){$.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){$.remove(this,e)}))}}),T.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Z.get(e,t),n&&(!r||Array.isArray(n)?r=Z.access(e,t,T.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=T.queue(e,t),r=n.length,i=n.shift(),o=T._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){T.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:T.Callbacks("once memory").add((function(){Z.remove(e,[t+"queue",n])}))})}}),T.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?T.queue(this[0],e):void 0===t?this:this.each((function(){var n=T.queue(this,e,t);T._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&T.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){T.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=T.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Z.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=b.documentElement,se=function(e){return T.contains(e.ownerDocument,e)},ue={composed:!0};ae.getRootNode&&(se=function(e){return T.contains(e.ownerDocument,e)||e.getRootNode(ue)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===T.css(e,"display")};function le(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return T.css(e,t,"")},u=s(),c=n&&n[3]||(T.cssNumber[t]?"":"px"),l=e.nodeType&&(T.cssNumber[t]||"px"!==c&&+u)&&ie.exec(T.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)T.style(e,t,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;l*=2,T.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var he={};function fe(e){var t,n=e.ownerDocument,r=e.nodeName,i=he[r];return i||(t=n.body.appendChild(n.createElement(r)),i=T.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),he[r]=i,i)}function de(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Z.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ce(r)&&(i[o]=fe(r))):"none"!==n&&(i[o]="none",Z.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}T.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?T(this).show():T(this).hide()}))}});var pe,me,ge=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i;pe=b.createDocumentFragment().appendChild(b.createElement("div")),(me=b.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),pe.appendChild(me),g.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",g.option=!!pe.lastChild;var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _e(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&x(e,t)?T.merge([e],n):n}function we(e,t){for(var n=0,r=e.length;n<r;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,g.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);var Se=/<|&#?\w+;/;function Ee(e,t,n,r,i){for(var o,a,s,u,c,l,h=t.createDocumentFragment(),f=[],d=0,p=e.length;d<p;d++)if((o=e[d])||0===o)if("object"===S(o))T.merge(f,o.nodeType?[o]:o);else if(Se.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(ve.exec(o)||["",""])[1].toLowerCase(),u=be[s]||be._default,a.innerHTML=u[1]+T.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;T.merge(f,a.childNodes),(a=h.firstChild).textContent=""}else f.push(t.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(r&&T.inArray(o,r)>-1)i&&i.push(o);else if(c=se(o),a=_e(h.appendChild(o),"script"),c&&we(a),n)for(l=0;o=a[l++];)ye.test(o.type||"")&&n.push(o);return h}var Te=/^([^.]*)(?:\.(.+)|)/;function Ie(){return!0}function Ce(){return!1}function ke(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function Ne(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ne(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ce;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return T().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=T.guid++)),e.each((function(){T.event.add(this,t,i,r,n)}))}function Pe(e,t,n){n?(Z.set(e,t,!1),T.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=Z.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(T.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=s.call(arguments),Z.set(this,t,o),r=n(this,t),this[t](),o!==(i=Z.get(this,t))||r?Z.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else o.length&&(Z.set(this,t,{value:T.event.trigger(T.extend(o[0],T.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Z.get(e,t)&&T.event.add(e,t,Ie)}T.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,h,f,d,p,m,g=Z.get(e);if(Y(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&T.find.matchesSelector(ae,i),n.guid||(n.guid=T.guid++),(u=g.events)||(u=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==T&&T.event.triggered!==t.type?T.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(V)||[""]).length;c--;)d=m=(s=Te.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),d&&(h=T.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=T.event.special[d]||{},l=T.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&T.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||((f=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(d,a)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),T.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,h,f,d,p,m,g=Z.hasData(e)&&Z.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(V)||[""]).length;c--;)if(d=m=(s=Te.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),d){for(h=T.event.special[d]||{},f=u[d=(r?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)l=f[o],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(e,l));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||T.removeEvent(e,d,g.handle),delete u[d])}else for(d in u)T.event.remove(e,d+t[c],n,r,!0);T.isEmptyObject(u)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=T.event.fix(e),c=(Z.get(this,"events")||Object.create(null))[u.type]||[],l=T.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,u)){for(a=T.event.handlers.call(this,u,c),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((T.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?T(i,this).index(c)>-1:T.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(T.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[T.expando]?e:new T.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&x(t,"input")&&Pe(t,"click",Ie),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&x(t,"input")&&Pe(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&x(t,"input")&&Z.get(t,"click")||x(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},T.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},T.Event=function(e,t){if(!(this instanceof T.Event))return new T.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ie:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&T.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ie,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ie,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ie,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},(function(e,t){T.event.special[e]={setup:function(){return Pe(this,e,ke),!1},trigger:function(){return Pe(this,e),!0},_default:function(){return!0},delegateType:t}})),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){T.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||T.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),T.fn.extend({on:function(e,t,n,r){return Ne(this,e,t,n,r)},one:function(e,t,n,r){return Ne(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,T(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ce),this.each((function(){T.event.remove(this,e,n,t)}))}});var xe=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return x(e,"table")&&x(11!==t.nodeType?t:t.firstChild,"tr")&&T(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Z.hasData(e)&&(s=Z.get(e).events))for(i in Z.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)T.event.add(t,i,s[i][n]);$.hasData(e)&&(o=$.access(e),a=T.extend({},o),$.set(t,a))}}function Me(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ve(e,t,n,r){t=u(t);var i,o,a,s,c,l,h=0,f=e.length,d=f-1,p=t[0],m=v(p);if(m||f>1&&"string"==typeof p&&!g.checkClone&&Ae.test(p))return e.each((function(i){var o=e.eq(i);m&&(t[0]=p.call(this,i,o.html())),Ve(o,t,n,r)}));if(f&&(o=(i=Ee(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=T.map(_e(i,"script"),Re)).length;h<f;h++)c=i,h!==d&&(c=T.clone(c,!0,!0),s&&T.merge(a,_e(c,"script"))),n.call(e[h],c,h);if(s)for(l=a[a.length-1].ownerDocument,T.map(a,Le),h=0;h<s;h++)c=a[h],ye.test(c.type||"")&&!Z.access(c,"globalEval")&&T.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?T._evalUrl&&!c.noModule&&T._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):w(c.textContent.replace(Oe,""),c,l))}return e}function je(e,t,n){for(var r,i=t?T.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||T.cleanData(_e(r)),r.parentNode&&(n&&se(r)&&we(_e(r,"script")),r.parentNode.removeChild(r));return e}T.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=se(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||T.isXMLDoc(e)))for(a=_e(s),r=0,i=(o=_e(e)).length;r<i;r++)Me(o[r],a[r]);if(t)if(n)for(o=o||_e(e),a=a||_e(s),r=0,i=o.length;r<i;r++)Fe(o[r],a[r]);else Fe(e,s);return(a=_e(s,"script")).length>0&&we(a,!u&&_e(e,"script")),s},cleanData:function(e){for(var t,n,r,i=T.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[Z.expando]){if(t.events)for(r in t.events)i[r]?T.event.remove(n,r):T.removeEvent(n,r,t.handle);n[Z.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),T.fn.extend({detach:function(e){return je(this,e,!0)},remove:function(e){return je(this,e)},text:function(e){return W(this,(function(e){return void 0===e?T.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ve(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)}))},prepend:function(){return Ve(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ve(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ve(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(T.cleanData(_e(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return T.clone(this,e,t)}))},html:function(e){return W(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!xe.test(e)&&!be[(ve.exec(e)||["",""])[1].toLowerCase()]){e=T.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(T.cleanData(_e(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ve(this,arguments,(function(t){var n=this.parentNode;T.inArray(this,e)<0&&(T.cleanData(_e(this)),n&&n.replaceChild(t,this))}),e)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){T.fn[e]=function(e){for(var n,r=[],i=T(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),T(i[a])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var Ue=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),Be=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},qe=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ge=new RegExp(oe.join("|"),"i");function Ke(e,t,n){var r,i,o,a,s=e.style;return(n=n||Be(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||se(e)||(a=T.style(e,t)),!g.pixelBoxStyles()&&Ue.test(a)&&Ge.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function We(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(c).appendChild(l);var e=r.getComputedStyle(l);n="1%"!==e.top,u=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),i=36===t(e.width),l.style.position="absolute",o=12===t(l.offsetWidth/3),ae.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,a,s,u,c=b.createElement("div"),l=b.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===l.style.backgroundClip,T.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==s&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ae.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,ae.removeChild(e)),s}}))}();var He=["Webkit","Moz","ms"],ze=b.createElement("div").style,Je={};function Qe(e){return T.cssProps[e]||Je[e]||(e in ze?e:Je[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=He.length;n--;)if((e=He[n]+t)in ze)return e}(e)||e)}var Ye=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ze={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function tt(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=T.css(e,n+oe[a],!0,i)),r?("content"===n&&(u-=T.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(u-=T.css(e,"border"+oe[a]+"Width",!0,i))):(u+=T.css(e,"padding"+oe[a],!0,i),"padding"!==n?u+=T.css(e,"border"+oe[a]+"Width",!0,i):s+=T.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function nt(e,t,n){var r=Be(e),i=(!g.boxSizingReliable()||n)&&"border-box"===T.css(e,"boxSizing",!1,r),o=i,a=Ke(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ue.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&x(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===T.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===T.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+tt(e,t,n||(i?"border":"content"),o,r,a)+"px"}function rt(e,t,n,r,i){return new rt.prototype.init(e,t,n,r,i)}T.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ke(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Q(t),u=Xe.test(t),c=e.style;if(u||(t=Qe(s)),a=T.cssHooks[t]||T.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=le(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(T.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,a,s=Q(t);return Xe.test(t)||(t=Qe(s)),(a=T.cssHooks[t]||T.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ke(e,t,r)),"normal"===i&&t in $e&&(i=$e[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),T.each(["height","width"],(function(e,t){T.cssHooks[t]={get:function(e,n,r){if(n)return!Ye.test(T.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,r):qe(e,Ze,(function(){return nt(e,t,r)}))},set:function(e,n,r){var i,o=Be(e),a=!g.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===T.css(e,"boxSizing",!1,o),u=r?tt(e,t,r,s,o):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-tt(e,t,"border",!1,o)-.5)),u&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=T.css(e,t)),et(0,n,u)}}})),T.cssHooks.marginLeft=We(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ke(e,"marginLeft"))||e.getBoundingClientRect().left-qe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),T.each({margin:"",padding:"",border:"Width"},(function(e,t){T.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(T.cssHooks[e+t].set=et)})),T.fn.extend({css:function(e,t){return W(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Be(e),i=t.length;a<i;a++)o[t[a]]=T.css(e,t[a],!1,r);return o}return void 0!==n?T.style(e,t,n):T.css(e,t)}),e,t,arguments.length>1)}}),T.Tween=rt,rt.prototype={constructor:rt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||T.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(T.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.options.duration?this.pos=t=T.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rt.propHooks._default.set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=T.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){T.fx.step[e.prop]?T.fx.step[e.prop](e):1!==e.elem.nodeType||!T.cssHooks[e.prop]&&null==e.elem.style[Qe(e.prop)]?e.elem[e.prop]=e.now:T.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},T.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},T.fx=rt.prototype.init,T.fx.step={};var it,ot,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function ut(){ot&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ut):r.setTimeout(ut,T.fx.interval),T.fx.tick())}function ct(){return r.setTimeout((function(){it=void 0})),it=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ht(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ft(e,t,n){var r,i,o=0,a=ft.prefilters.length,s=T.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=it||ct(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:T.extend({},t),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||ct(),duration:n.duration,tweens:[],createTween:function(t,n){var r=T.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=Q(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=T.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);o<a;o++)if(r=ft.prefilters[o].call(c,e,l,c.opts))return v(r.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return T.map(l,ht,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(V);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,c,l,h="width"in t||"height"in t,f=this,d={},p=e.style,m=e.nodeType&&ce(e),g=Z.get(e,"fxshow");for(r in n.queue||(null==(a=T._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always((function(){f.always((function(){a.unqueued--,T.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],at.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}d[r]=g&&g[r]||T.style(e,r)}if((u=!T.isEmptyObject(t))||!T.isEmptyObject(d))for(r in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=Z.get(e,"display")),"none"===(l=T.css(e,"display"))&&(c?l=c:(de([e],!0),c=e.style.display||c,l=T.css(e,"display"),de([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===T.css(e,"float")&&(u||(f.done((function(){p.display=c})),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),u=!1,d)u||(g?"hidden"in g&&(m=g.hidden):g=Z.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&de([e],!0),f.done((function(){for(r in m||de([e]),Z.remove(e,"fxshow"),d)T.style(e,r,d[r])}))),u=ht(m?g[r]:0,r,f),r in g||(g[r]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),T.speed=function(e,t,n){var r=e&&"object"==typeof e?T.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return T.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in T.fx.speeds?r.duration=T.fx.speeds[r.duration]:r.duration=T.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&T.dequeue(this,r.queue)},r},T.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=T.isEmptyObject(e),o=T.speed(t,n,r),a=function(){var t=ft(this,T.extend({},e),o);(i||Z.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=T.timers,a=Z.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&st.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||T.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Z.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=T.timers,a=r?r.length:0;for(n.finish=!0,T.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),T.each(["toggle","show","hide"],(function(e,t){var n=T.fn[t];T.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,r,i)}})),T.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){T.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),T.timers=[],T.fx.tick=function(){var e,t=0,n=T.timers;for(it=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||T.fx.stop(),it=void 0},T.fx.timer=function(e){T.timers.push(e),T.fx.start()},T.fx.interval=13,T.fx.start=function(){ot||(ot=!0,ut())},T.fx.stop=function(){ot=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(e,t){return e=T.fx&&T.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var dt,pt=T.expr.attrHandle;T.fn.extend({attr:function(e,t){return W(this,T.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){T.removeAttr(this,e)}))}}),T.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?T.prop(e,t,n):(1===o&&T.isXMLDoc(e)||(i=T.attrHooks[t.toLowerCase()]||(T.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void T.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=T.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&x(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(V);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?T.removeAttr(e,n):e.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=pt[t]||T.find.attr;pt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=pt[a],pt[a]=i,i=null!=n(e,t,r)?a:null,pt[a]=o),i}}));var mt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(V)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(V)||[]}T.fn.extend({prop:function(e,t){return W(this,T.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[T.propFix[e]||e]}))}}),T.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(e)||(t=T.propFix[t]||t,i=T.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=T.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(T.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){T.propFix[this.toLowerCase()]=this})),T.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(v(e))return this.each((function(t){T(this).addClass(e.call(this,t,yt(this)))}));if((t=bt(e)).length)for(;n=this[u++];)if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(v(e))return this.each((function(t){T(this).removeClass(e.call(this,t,yt(this)))}));if(!arguments.length)return this.attr("class","");if((t=bt(e)).length)for(;n=this[u++];)if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):v(e)?this.each((function(n){T(this).toggleClass(e.call(this,n,yt(this),t),t)})):this.each((function(){var t,i,o,a;if(r)for(i=0,o=T(this),a=bt(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=yt(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+vt(yt(n))+" ").indexOf(t)>-1)return!0;return!1}});var _t=/\r/g;T.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=v(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,T(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=T.map(i,(function(e){return null==e?"":e+""}))),(t=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=T.valHooks[i.type]||T.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(_t,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(e){var t=T.find.attr(e,"value");return null!=t?t:vt(T.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!x(n.parentNode,"optgroup"))){if(t=T(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=T.makeArray(t),a=i.length;a--;)((r=i[a]).selected=T.inArray(T.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],(function(){T.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=T.inArray(T(e).val(),t)>-1}},g.checkOn||(T.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in r;var wt=/^(?:focusinfocus|focusoutblur)$/,St=function(e){e.stopPropagation()};T.extend(T.event,{trigger:function(e,t,n,i){var o,a,s,u,c,l,h,f,p=[n||b],m=d.call(e,"type")?e.type:e,g=d.call(e,"namespace")?e.namespace.split("."):[];if(a=f=s=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!wt.test(m+T.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[T.expando]?e:new T.Event(m,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:T.makeArray(t,[e]),h=T.event.special[m]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!y(n)){for(u=h.delegateType||m,wt.test(u+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(n.ownerDocument||b)&&p.push(s.defaultView||s.parentWindow||r)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)f=a,e.type=o>1?u:h.bindType||m,(l=(Z.get(a,"events")||Object.create(null))[e.type]&&Z.get(a,"handle"))&&l.apply(a,t),(l=c&&a[c])&&l.apply&&Y(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),t)||!Y(n)||c&&v(n[m])&&!y(n)&&((s=n[c])&&(n[c]=null),T.event.triggered=m,e.isPropagationStopped()&&f.addEventListener(m,St),n[m](),e.isPropagationStopped()&&f.removeEventListener(m,St),T.event.triggered=void 0,s&&(n[c]=s)),e.result}},simulate:function(e,t,n){var r=T.extend(new T.Event,n,{type:e,isSimulated:!0});T.event.trigger(r,null,t)}}),T.fn.extend({trigger:function(e,t){return this.each((function(){T.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return T.event.trigger(e,t,n,!0)}}),g.focusin||T.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){T.event.simulate(t,e.target,T.event.fix(e))};T.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=Z.access(r,t);i||r.addEventListener(e,n,!0),Z.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=Z.access(r,t)-1;i?Z.access(r,t,i):(r.removeEventListener(e,n,!0),Z.remove(r,t))}}}));var Et=r.location,Tt={guid:Date.now()},It=/\?/;T.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||T.error("Invalid XML: "+(n?T.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Ct=/\[\]$/,kt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;function xt(e,t,n,r){var i;if(Array.isArray(t))T.each(t,(function(t,i){n||Ct.test(e)?r(e,i):xt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==S(t))r(e,t);else for(i in t)xt(e+"["+i+"]",t[i],n,r)}T.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!T.isPlainObject(e))T.each(e,(function(){i(this.name,this.value)}));else for(n in e)xt(n,e[n],t,i);return r.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=T.prop(this,"elements");return e?T.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!T(this).is(":disabled")&&Pt.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,(function(e){return{name:t.name,value:e.replace(kt,"\r\n")}})):{name:t.name,value:n.replace(kt,"\r\n")}})).get()}});var At=/%20/g,Ot=/#.*$/,Dt=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Mt={},Vt={},jt="*/".concat("*"),Ut=b.createElement("a");function Bt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(V)||[];if(v(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qt(e,t,n,r){var i={},o=e===Vt;function a(s){var u;return i[s]=!0,T.each(e[s]||[],(function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Gt(e,t){var n,r,i=T.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&T.extend(!0,e,r),e}Ut.href=Et.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,T.ajaxSettings),t):Gt(T.ajaxSettings,e)},ajaxPrefilter:Bt(Mt),ajaxTransport:Bt(Vt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,a,s,u,c,l,h,f,d=T.ajaxSetup({},t),p=d.context||d,m=d.context&&(p.nodeType||p.jquery)?T(p):T.event,g=T.Deferred(),v=T.Callbacks("once memory"),y=d.statusCode||{},_={},w={},S="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Rt.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==c&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||S;return n&&n.abort(t),I(0,t),this}};if(g.promise(E),d.url=((e||d.url||Et.href)+"").replace(Ft,Et.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(V)||[""],null==d.crossDomain){u=b.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Ut.protocol+"//"+Ut.host!=u.protocol+"//"+u.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=T.param(d.data,d.traditional)),qt(Mt,d,t,E),c)return E;for(h in(l=T.event&&d.global)&&0==T.active++&&T.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Lt.test(d.type),i=d.url.replace(Ot,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(At,"+")):(f=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(It.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Dt,"$1"),f=(It.test(i)?"&":"?")+"_="+Tt.guid+++f),d.url=i+f),d.ifModified&&(T.lastModified[i]&&E.setRequestHeader("If-Modified-Since",T.lastModified[i]),T.etag[i]&&E.setRequestHeader("If-None-Match",T.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&E.setRequestHeader("Content-Type",d.contentType),E.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+jt+"; q=0.01":""):d.accepts["*"]),d.headers)E.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(p,E,d)||c))return E.abort();if(S="abort",v.add(d.complete),E.done(d.success),E.fail(d.error),n=qt(Vt,d,t,E)){if(E.readyState=1,l&&m.trigger("ajaxSend",[E,d]),c)return E;d.async&&d.timeout>0&&(s=r.setTimeout((function(){E.abort("timeout")}),d.timeout));try{c=!1,n.send(_,I)}catch(e){if(c)throw e;I(-1,e)}}else I(-1,"No Transport");function I(e,t,a,u){var h,f,b,_,w,S=t;c||(c=!0,s&&r.clearTimeout(s),n=void 0,o=u||"",E.readyState=e>0?4:0,h=e>=200&&e<300||304===e,a&&(_=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,E,a)),!h&&T.inArray("script",d.dataTypes)>-1&&T.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),_=function(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(d,_,E,h),h?(d.ifModified&&((w=E.getResponseHeader("Last-Modified"))&&(T.lastModified[i]=w),(w=E.getResponseHeader("etag"))&&(T.etag[i]=w)),204===e||"HEAD"===d.type?S="nocontent":304===e?S="notmodified":(S=_.state,f=_.data,h=!(b=_.error))):(b=S,!e&&S||(S="error",e<0&&(e=0))),E.status=e,E.statusText=(t||S)+"",h?g.resolveWith(p,[f,S,E]):g.rejectWith(p,[E,S,b]),E.statusCode(y),y=void 0,l&&m.trigger(h?"ajaxSuccess":"ajaxError",[E,d,h?f:b]),v.fireWith(p,[E,S]),l&&(m.trigger("ajaxComplete",[E,d]),--T.active||T.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return T.get(e,t,n,"json")},getScript:function(e,t){return T.get(e,void 0,t,"script")}}),T.each(["get","post"],(function(e,t){T[t]=function(e,n,r,i){return v(n)&&(i=i||r,r=n,n=void 0),T.ajax(T.extend({url:e,type:t,dataType:i,data:n,success:r},T.isPlainObject(e)&&e))}})),T.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),T._evalUrl=function(e,t,n){return T.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){T.globalEval(e,t,n)}})},T.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=T(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){T(this).wrapInner(e.call(this,t))})):this.each((function(){var t=T(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){T(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){T(this).replaceWith(this.childNodes)})),this}}),T.expr.pseudos.hidden=function(e){return!T.expr.pseudos.visible(e)},T.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Wt=T.ajaxSettings.xhr();g.cors=!!Wt&&"withCredentials"in Wt,g.ajax=Wt=!!Wt,T.ajaxTransport((function(e){var t,n;if(g.cors||Wt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Kt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),T.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return T.globalEval(e),e}}}),T.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),T.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=T("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Ht,zt=[],Jt=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||T.expando+"_"+Tt.guid++;return this[e]=!0,e}}),T.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,a,s=!1!==e.jsonp&&(Jt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Jt,"$1"+i):!1!==e.jsonp&&(e.url+=(It.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||T.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always((function(){void 0===o?T(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,zt.push(i)),a&&v(o)&&o(a[0]),a=o=void 0})),"script"})),g.createHTMLDocument=((Ht=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ht.childNodes.length),T.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),o=!n&&[],(i=A.exec(e))?[t.createElement(i[1])]:(i=Ee([e],t,o),o&&o.length&&T(o).remove(),T.merge([],i.childNodes)));var r,i,o},T.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&T.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?T("<div>").append(T.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},T.expr.pseudos.animated=function(e){return T.grep(T.timers,(function(t){return e===t.elem})).length},T.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=T.css(e,"position"),l=T(e),h={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=T.css(e,"top"),u=T.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v(t)&&(t=t.call(e,n,T.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):l.css(h)}},T.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){T.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===T.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===T.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=T(e).offset()).top+=T.css(e,"borderTopWidth",!0),i.left+=T.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-T.css(r,"marginTop",!0),left:t.left-i.left-T.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===T.css(e,"position");)e=e.offsetParent;return e||ae}))}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;T.fn[e]=function(r){return W(this,(function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),T.each(["top","left"],(function(e,t){T.cssHooks[t]=We(g.pixelPosition,(function(e,n){if(n)return n=Ke(e,t),Ue.test(n)?T(e).position()[t]+"px":n}))})),T.each({Height:"height",Width:"width"},(function(e,t){T.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){T.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return W(this,(function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?T.css(t,n,s):T.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){T.fn[t]=function(e){return this.on(t,e)}})),T.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){T.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;T.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||T.guid++,i},T.holdReady=function(e){e?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=x,T.isFunction=v,T.isWindow=y,T.camelCase=Q,T.type=S,T.now=Date.now,T.isNumeric=function(e){var t=T.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},T.trim=function(e){return null==e?"":(e+"").replace(Qt,"")},void 0===(n=function(){return T}.apply(t,[]))||(e.exports=n);var Yt=r.jQuery,Xt=r.$;return T.noConflict=function(e){return r.$===T&&(r.$=Xt),e&&r.jQuery===T&&(r.jQuery=Yt),T},void 0===i&&(r.jQuery=r.$=T),T}))},2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},4239:(e,t,n)=>{var r=n(2705),i=n(9607),o=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},7561:(e,t,n)=>{var r=n(7990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9607:(e,t,n)=>{var r=n(2705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:(e,t,n)=>{var r=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},7990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3279:(e,t,n)=>{var r=n(3218),i=n(7771),o=n(4841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,h,f,d,p=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,p=t,h=e.apply(r,n)}function b(e){return p=e,f=setTimeout(w,t),m?y(e):h}function _(e){var n=e-d;return void 0===d||n>=t||n<0||g&&e-p>=l}function w(){var e=i();if(_(e))return S(e);f=setTimeout(w,function(e){var n=t-(e-d);return g?s(n,l-(e-p)):n}(e))}function S(e){return f=void 0,v&&u?y(e):(u=c=void 0,h)}function E(){var e=i(),n=_(e);if(u=arguments,c=this,d=e,n){if(void 0===f)return b(d);if(g)return clearTimeout(f),f=setTimeout(w,t),y(d)}return void 0===f&&(f=setTimeout(w,t)),h}return t=o(t)||0,r(n)&&(m=!!n.leading,l=(g="maxWait"in n)?a(o(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v),E.cancel=function(){void 0!==f&&clearTimeout(f),p=0,u=d=c=f=void 0},E.flush=function(){return void 0===f?h:S(i())},E}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,n)=>{var r=n(4239),i=n(7005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},7771:(e,t,n)=>{var r=n(5639);e.exports=function(){return r.Date.now()}},4841:(e,t,n)=>{var r=n(7561),i=n(3218),o=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},655:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>o,mG:()=>a,Jh:()=>s,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create,Object.create}}]);